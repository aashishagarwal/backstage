(()=>{var zu=(Te,b)=>()=>(b||Te((b={exports:{}}).exports,b),b.exports);var Hu=zu((exports,module)=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4288],{67898:function(Te,b,a){"use strict";a.d(b,{t:function(){return z}});var o=a(34520),m="http://json-schema.org/draft-07/schema",I="TemplateV1beta3",O="A Template describes a scaffolding task for use with the Scaffolder. It describes the required parameters as well as a series of steps that will be taken to execute the scaffolding task.",_=[{apiVersion:"scaffolder.backstage.io/v1beta3",kind:"Template",metadata:{name:"react-ssr-template",title:"React SSR Template",description:"Next.js application skeleton for creating isomorphic web applications.",tags:["recommended","react"]},spec:{owner:"artist-relations-team",parameters:{required:["name","description","repoUrl"],"backstage:permissions":{tags:["one","two"]},properties:{name:{title:"Name",type:"string",description:"Unique name of the component"},description:{title:"Description",type:"string",description:"Description of the component"},repoUrl:{title:"Pick a repository",type:"string","ui:field":"RepoUrlPicker"}}},steps:[{id:"fetch",name:"Fetch",action:"fetch:plain",parameters:{url:"./template"},"backstage:permissions":{tags:["one","two"]}},{id:"publish",name:"Publish to GitHub",action:"publish:github",parameters:{repoUrl:"${{ parameters.repoUrl }}"},if:"${{ parameters.repoUrl }}"}],output:{catalogInfoUrl:"${{ steps.publish.output.catalogInfoUrl }}"}}}],D=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["scaffolder.backstage.io/v1beta3"]},kind:{enum:["Template"]},spec:{type:"object",required:["type","steps"],properties:{type:{type:"string",description:"The type of component created by the template. The software catalog accepts any type value, but an organization should take great care to establish a proper taxonomy for these. Tools including Backstage itself may read this field and behave differently depending on its value. For example, a website type component may present tooling in the Backstage interface that is specific to just websites.",examples:["service","website","library"],minLength:1},owner:{type:"string",description:"The user (or group) owner of the template",minLength:1},parameters:{oneOf:[{type:"object",description:"The JSONSchema describing the inputs for the template.",properties:{"backstage:permissions":{type:"object",description:"Object used for authorizing the parameter",properties:{tags:{type:"array",items:{type:"string"}}}}}},{type:"array",description:"A list of separate forms to collect parameters.",items:{type:"object",description:"The JSONSchema describing the inputs for the template.",properties:{"backstage:permissions":{type:"object",description:"Object used for authorizing the parameter",properties:{tags:{type:"array",items:{type:"string"}}}}}}}]},steps:{type:"array",description:"A list of steps to execute.",items:{type:"object",description:"A description of the step to execute.",required:["action"],properties:{id:{type:"string",description:"The ID of the step, which can be used to refer to its outputs."},name:{type:"string",description:"The name of the step, which will be displayed in the UI during the scaffolding process."},action:{type:"string",description:"The name of the action to execute."},input:{type:"object",description:"A templated object describing the inputs to the action."},if:{type:["string","boolean"],description:'A templated condition that skips the step when evaluated to false. If the condition is true or not defined, the step is executed. The condition is true, if the input is not `false`, `undefined`, `null`, `""`, `0`, or `[]`.'},"backstage:permissions":{type:"object",description:"Object used for authorizing the step",properties:{tags:{type:"array",items:{type:"string"}}}}}}},output:{type:"object",description:"A templated object describing the outputs of the scaffolding task.",properties:{links:{type:"array",description:"A list of external hyperlinks, typically pointing to resources created or updated by the template",items:{type:"object",required:[],properties:{url:{type:"string",description:"A url in a standard uri format.",examples:["https://github.com/my-org/my-new-repo"],minLength:1},entityRef:{type:"string",description:"An entity reference to an entity in the catalog.",examples:["Component:default/my-app"],minLength:1},title:{type:"string",description:"A user friendly display name for the link.",examples:["View new repo"],minLength:1},icon:{type:"string",description:"A key representing a visual icon to be displayed in the UI.",examples:["dashboard"],minLength:1}}}},text:{type:"array",description:"A list of Markdown text blobs, like output data from the template.",items:{type:"object",required:[],properties:{title:{type:"string",description:"A user friendly display name for the text.",examples:["Output Content"],minLength:1},icon:{type:"string",description:"A key representing a visual icon to be displayed in the UI.",examples:["dashboard"],minLength:1},content:{type:"string",description:"The text blob to display in the UI, rendered as Markdown.",examples:["**hey** _I'm_ Markdown"]}}}}},additionalProperties:{type:"string"}}}}}}],N={$schema:m,$id:I,description:O,examples:_,allOf:D};const R=(0,o.wI)(N),$={async check(J){return R(J)===J}},z=J=>J.apiVersion==="scaffolder.backstage.io/v1beta3"&&J.kind==="Template"},78698:function(Te,b,a){"use strict";a.d(b,{Iy:function(){return _u},l0:function(){return Rl},zP:function(){return Zu},vF:function(){return Fl},v9:function(){return ju},Lp:function(){return Ru},_G:function(){return Bu},Gc:function(){return Nl},ow:function(){return xu},h4:function(){return Ll},mg:function(){return El}});var o=a(30705),m=a(79692),I=a(67358),O=a(31625),_=a(31377),D=a(34546),N=a(77277),R=a(60364),$=a(94339),z=a(24579),J=a(60905),ee=a(95544),re=a(85256),oe=a(7089),ye=a(14503),F=a(90436),G=a(27556),Se=a(4614),se=a(97136),fe=a(5806),be=a(21324),te=a(86619),M=a(2784),xe={AdditionalItemsError:"Array at `{{pointer}}` may not have an additional item `{{key}}`",AdditionalPropertiesError:"Additional property `{{property}}` on `{{pointer}}` does not match schema `{{schema}}`",AllOfError:"Value `{{value}}` at `{{pointer}}` does not match schema of `{{allOf}}`",AnyOfError:"Value `{{value}}` at `{{pointer}}` does not match any schema of `{{anyOf}}`",ConstError:"Expected value at `{{pointer}}` to be `{{expected}}`, but value given is `{{value}}`",containsAnyError:"The array at `{{pointer}}` must contain at least one item",ContainsArrayError:"The property at `{{pointer}}` must not be an array",ContainsError:"The array at `{{pointer}}` must contain an element that matches `{{schema}}`",EnumError:"Expected given value `{{value}}` in `{{pointer}}` to be one of `{{values}}`",FormatDateError:"Value `{{value}}` at `{{pointer}}` is not a valid date",FormatDateTimeError:"Value `{{value}}` at `{{pointer}}` is not a valid date-time",FormatEmailError:"Value `{{value}}` at `{{pointer}}` is not a valid email",FormatHostnameError:"Value `{{value}}` at `{{pointer}}` is not a valid hostname",FormatIPV4Error:"Value `{{value}}` at `{{pointer}}` is not a valid IPv4 address",FormatIPV4LeadingZeroError:"IPv4 addresses starting with zero are invalid, since they are interpreted as octals",FormatIPV6Error:"Value `{{value}}` at `{{pointer}}` is not a valid IPv6 address",FormatIPV6LeadingZeroError:"IPv6 addresses starting with zero are invalid, since they are interpreted as octals",FormatJSONPointerError:"Value `{{value}}` at `{{pointer}}` is not a valid json-pointer",FormatRegExError:"Value `{{value}}` at `{{pointer}}` is not a valid regular expression",FormatTimeError:"Value `{{value}}` at `{{pointer}}` is not a valid time",FormatURIError:"Value `{{value}}` at `{{pointer}}` is not a valid uri",FormatURIReferenceError:"Value `{{value}}` at `{{pointer}}` is not a valid uri-reference",FormatURITemplateError:"Value `{{value}}` at `{{pointer}}` is not a valid uri-template",FormatURLError:"Value `{{value}}` at `{{pointer}}` is not a valid url",InvalidDataError:"No value may be specified in `{{pointer}}`",InvalidPropertyNameError:"Invalid property name `{{property}}` at `{{pointer}}`",MaximumError:"Value in `{{pointer}}` is `{{length}}`, but should be `{{maximum}}` at maximum",MaxItemsError:"Too many items in `{{pointer}}`, should be `{{maximum}}` at most, but got `{{length}}`",MaxLengthError:"Value `{{pointer}}` should have a maximum length of `{{maxLength}}`, but got `{{length}}`.",MaxPropertiesError:"Too many properties in `{{pointer}}`, should be `{{maximum}}` at most, but got `{{length}}`",MinimumError:"Value in `{{pointer}}` is `{{length}}`, but should be `{{minimum}}` at minimum",MinItemsError:"Too few items in `{{pointer}}`, should be at least `{{minimum}}`, but got `{{length}}`",MinItemsOneError:"At least one item is required in `{{pointer}}`",MinLengthError:"Value `{{pointer}}` should have a minimum length of `{{minLength}}`, but got `{{length}}`.",MinLengthOneError:"A value is required in `{{pointer}}`",MinPropertiesError:"Too few properties in `{{pointer}}`, should be at least `{{minimum}}`, but got `{{length}}`",MissingDependencyError:"The required propery '{{missingProperty}}' in `{{pointer}}` is missing",MissingOneOfPropertyError:"Value at `{{pointer}}` property: `{{property}}`",MultipleOfError:"Expected `{{value}}` in `{{pointer}}` to be multiple of `{{multipleOf}}`",MultipleOneOfError:"Value `{{value}}` should not match multiple schemas in oneOf `{{matches}}`",NoAdditionalPropertiesError:"Additional property `{{property}}` in `{{pointer}}` is not allowed",NotError:"Value `{{value}}` at pointer should not match schema `{{not}}`",OneOfError:"Value `{{value}}` in `{{pointer}}` does not match any given oneof schema",OneOfPropertyError:"Failed finding a matching oneOfProperty schema in `{{pointer}}` where `{{property}}` matches `{{value}}`",PatternError:"Value in `{{pointer}}` should match `{{description}}`, but received `{{received}}`",PatternPropertiesError:"Property `{{key}}` does not match any patterns in `{{pointer}}`. Valid patterns are: {{patterns}}",RequiredPropertyError:"The required property `{{key}}` is missing at `{{pointer}}`",TypeError:"Expected `{{value}}` ({{received}}) in `{{pointer}}` to be of type `{{expected}}`",UndefinedValueError:"Value must not be undefined in `{{pointer}}`",UniqueItemsError:"Expected unique items in {{pointer}}: duplicate value `{{value}}` found at {{itemPointer}} and {{duplicatePointer}}",UnknownPropertyError:"Could not find a valid schema for property `{{pointer}}` within object",ValueNotEmptyError:"A value for `{{property}}` is required at `{{pointer}}`"};function Le(n,u={}){return n.replace(/\{\{\w+\}\}/g,d=>u[d.replace(/[{}]/g,"")])}function Ce(n,u,d=n){const w=xe[n]||d;return Le(w,u)}function Ke(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Xe(n,u){return{type:"error",name:n,code:Ke(n),message:Ce(n,u),data:u}}function dt(n){return Xe.bind(null,n)}const st=Object.prototype.toString;function Ge(n){const u=st.call(n).match(/\s([^\]]+)\]/).pop().toLowerCase();return u==="file"?"object":u}function _t(n){return(n==null?void 0:n.type)==="error"}function or(n){return n instanceof Promise}function St(n){return _t(n)||or(n)}function xt(n){return isJSONError(n)}function mt(n,u=[]){for(let d=0;d<n.length;d+=1){const w=n[d];Array.isArray(w)?mt(w,u):u.push(w)}return u}var Re={DECLARATOR_ONEOF:"oneOfProperty",GET_TEMPLATE_RECURSION_LIMIT:1,floatingPointPrecision:1e4,propertyBlacklist:["_id"]};const{DECLARATOR_ONEOF:yt}=Re;function ot(n,u,d=n.rootSchema,w="#"){if(u!=null&&d[yt]){const H=[],ie=d[yt],ce=u[d[yt]];if(ce===void 0)return n.errors.missingOneOfPropertyError({property:ie,pointer:w});for(let le=0;le<d.oneOf.length;le+=1){const Be=n.resolveRef(d.oneOf[le]),Ve=n.step(ie,Be,u,w);if(_t(Ve))return Ve;let et=mt(n.validate(ce,Ve,w));if(et=et.filter(St),et.length>0)H.push(...et);else return Be}return n.errors.oneOfPropertyError({property:ie,value:ce,pointer:w,errors:H})}const E=[],k=[];for(let H=0;H<d.oneOf.length;H+=1){const ie=n.resolveRef(d.oneOf[H]);let ce=mt(n.validate(u,ie,w));ce=ce.filter(St),ce.length>0?k.push(...ce):E.push(ie)}return E.length===1?E[0]:E.length>1?n.errors.multipleOneOfError({value:u,pointer:w,matches:E}):n.errors.oneOfError({value:JSON.stringify(u),pointer:w,oneOf:d.oneOf,errors:k})}var de=n=>JSON.parse(JSON.stringify(n)),$e=a(39714),lt=a.n($e);const Dt=(n,u)=>u;var Gt=(n,u)=>lt()(n,u,{arrayMerge:Dt});const Pr=(n,u)=>{const d=n.concat(u);return d.filter((w,E)=>d.indexOf(w)===E)},Ze=(n,u)=>lt()(n,u,{arrayMerge:Pr});function K(n,u,d){var w;const E={...(w=n.resolveRef(u))!==null&&w!==void 0?w:{}};if(E.if&&(E.then||E.else)){const k=n.isValid(d,E.if);if(k&&E.then)return K(n,E.then,d);if(!k&&E.else)return K(n,E.else,d);delete E.if,delete E.then,delete E.else}return E}function Z(n,u,d=n.rootSchema,w="#"){let E=de(d);for(let k=0;k<d.allOf.length;k+=1){const H=K(n,d.allOf[k],u);E=Ze(E,H),u=n.getTemplate(u,E)}return delete E.allOf,E}const{DECLARATOR_ONEOF:Q}=Re;function ge(n,u,d,w){if(d==null||u.properties==null)return-1;let E=0;const k=Object.keys(u.properties);for(let H=0;H<k.length;H+=1){const ie=k[H];d[ie]!=null&&n.isValid(d[ie],u.properties[ie],w)&&(E+=1)}return E}function De(n,u,d=n.rootSchema,w="#"){if(u!=null&&d[Q]){const k=[],H=d[Q],ie=u[d[Q]];if(ie===void 0)return n.errors.missingOneOfPropertyError({property:H,pointer:w});for(let ce=0;ce<d.oneOf.length;ce+=1){const le=n.resolveRef(d.oneOf[ce]),Be=n.step(H,le,u,w);if(_t(Be))return Be;let Ve=mt(n.validate(ie,Be,w));if(Ve=Ve.filter(St),Ve.length>0)k.push(...Ve);else return le}return n.errors.oneOfPropertyError({property:H,value:ie,pointer:w,errors:k})}const E=[];for(let k=0;k<d.oneOf.length;k+=1){const H=n.resolveRef(d.oneOf[k]);n.isValid(u,H,w)&&E.push(H)}if(E.length===1)return E[0];if(Ge(u)==="object"){let k,H=0;for(let ie=0;ie<d.oneOf.length;ie+=1){const ce=n.resolveRef(d.oneOf[ie]),le=ge(n,ce,u);H<le&&(H=le,k=d.oneOf[ie])}return k===void 0?n.errors.oneOfError({value:JSON.stringify(u),pointer:w,oneOf:d.oneOf}):k}return E.length>1?n.errors.multipleOneOfError({matches:E,data:u,pointer:w}):n.errors.oneOfError({value:JSON.stringify(u),pointer:w,oneOf:d.oneOf})}var Qe=a(67142),Ue=a.n(Qe);const Lt={};function tr(n,u,d,w=n.rootSchema){const E=Ue().split(u);return w=n.resolveRef(w),Kt(n,w,E,u,d)}function Kt(n,u,d,w,E=Lt){if(d.length===0)return n.resolveRef(u);const k=d.shift();return u=n.step(k,u,E,w),_t(u)?u:(E=E[k],Kt(n,u,d,`${w}/${k}`,E))}function Yt(n,u){if(n==null||n.$ref==null)return n;const d=u.getRef(n),w=Object.assign({},d,n);return delete w.$ref,Object.defineProperty(w,"__ref",{enumerable:!1,value:n.__ref}),Object.defineProperty(w,"getRoot",{enumerable:!1,value:n.getRoot}),w}function Ht(n,u,d){d.id=d.id||u,n.remotes[u]=n.compileSchema(d)}var rt=a(44091);const Ct="[^?/{}*,()#]+",Vt=`
root ::= ("#" recursion | recursion | (query | pattern) recursion* | "#" SEP? | SEP)
recursion ::= (SEP query | pattern)*

query ::= (ESC escaped ESC | property | all | any | regex) typecheck? lookahead?
property ::= ${Ct}
regex ::= "{" [^}]+ "}"
SEP ::= "/"
all ::= "**"
any ::= "*"

typecheck ::= "?:" ("value" | "boolean" | "string" | "number" | "object" | "array")
lookahead ::= "?" expression ((andExpr | orExpr) expression)*
andExpr ::= S? "&&" S?
orExpr ::= S? "||" S?

expression ::= (exprProperty | ESC escaped ESC) ((isnot | is) (exprProperty | regex | ESC escaped ESC))*
exprProperty ::= [a-zA-Z0-9-_ $]+
escaped ::= [^"]+
is ::= ":"
isnot ::= ":!"
ESC ::= '"'

pattern ::= S? "(" (SEP query | pattern (orPattern? pattern)*)* ")" quantifier? S? lookahead?
quantifier ::= "+" | "*" | [0-9]+
orPattern ::= S? "," S?

S ::= [ ]*
`,hr=/(children|text|type|start|end|rest|errors|fullText|\d+)/,xr=/(children|text|type|\d+)/,Sr=n=>JSON.stringify(n,(u,d)=>u===""||hr.test(u)?d:void 0,2),cr=n=>JSON.stringify(n,(u,d)=>u===""||u==="rest"&&d!==""||xr.test(u)?d:void 0,2),Nt=new rt.Z.Parser(Vt),Lr=n=>Nt.getAST(n),Er=n=>JSON.parse(cr(n)),yr=0,Zr=1,Vr=2,Rr=3,fr=(n,u)=>`${n}/${u}`,Ie=Object.prototype.toString,Xt=/Object|Array/,sr=n=>Xt.test(Ie.call(n)),ur=n=>Ie.call(n).match(/\s([^\]]+)\]/).pop().toLowerCase();function Fr(n){return new RegExp(n.text.replace(/(^{|}$)/g,""))}function jr(n,u){Array.isArray(n)?n.forEach(u):Object.prototype.toString.call(n)==="[object Object]"&&Object.keys(n).forEach(function(d){u(n[d],d,n)})}function wr(n){return Array.isArray(n)?n.map(function(u,d){return`${d}`}):Object.prototype.toString.call(n)==="[object Object]"?Object.keys(n):[]}const Tr={mem:[],get(n,u){const d=n[yr][u];if(!Tr.mem.includes(d))return sr(d)&&Tr.mem.push(d),[d,u,n[yr],fr(n[Rr],u)]},reset(){Tr.mem.length=0}},_r={any(n,u){const d=u[yr];return wr(d).map(w=>[d[w],w,d,fr(u[Rr],w)])},all(n,u){const d=[u];return jr(u[yr],(w,E)=>{const k=Tr.get(u,E);k&&d.push(..._r.all(n,k))}),d},regex(n,u){const d=Fr(n),w=u[yr];return wr(w).filter(E=>d.test(E)).map(E=>[w[E],E,w,fr(u[Rr],E)])}},$r={escaped:(n,u)=>$r.property(n,u),property:(n,u)=>{const d=n.text;if(u[yr]&&u[yr][d]!==void 0)return[u[yr][d],d,u[yr],fr(u[Rr],d)]},typecheck:(n,u)=>{const d=n.text.replace(/^\?:/,"");if(d==="value")return sr(u[yr])?void 0:u;if(ur(u[yr])===d)return u},lookahead:(n,u)=>{let d=!0,w=!1;return n.children.forEach(E=>{if(E.type==="expression"){const k=$r.expression(E,u)!==void 0;d=w===!0?d||k:d&&k}else w=E.type==="orExpr"}),d?u:void 0},expression:(n,u)=>{const d=n.children[0].text,w=n.children[1],E=n.children[2],k=u[yr];if(sr(k)!==!1)return en(k[d],w,E)?u:void 0}};function en(n,u,d){if(u===void 0)return n!==void 0;let w;const E=`${n}`;return d.type==="regex"?w=Fr(d).test(E):w=E===d.text,u.type==="isnot"&&(w=w===!1&&n!==void 0),w}function hn(n,u,d,w){const E=[];for(let k=0,H=u.length;k<H;k+=1)E.push(...n(d,u[k],d,w));return E}function Nr(n,u,d,w){const E=[];for(let k=0,H=u.length;k<H;k+=1){const ie=n(d,u[k],w);ie&&E.push(ie)}return E}function cn(n,u,d){let w=n;return u.children.forEach(E=>{if(_r[E.type])w=hn(_r[E.type],w,E,d);else if($r[E.type])w=Nr($r[E.type],w,E,d);else throw new Error(`Unknown filter ${E.type}`)}),w}function gn(n,u,d){const w=[];let E=n;return u.children.forEach(k=>{if(k.type==="orPattern"){w.push(...E),E=n;return}E=vn(E,k,d)}),w.push(...E),w}function Sn(n){if(n==null)return 1;if(n==="*"||n==="+")return 1/0;const u=parseInt(n);return isNaN(u)?1:u}function yn(n,u,d){const w=[],E=u.children.find(ce=>ce.type==="quantifier"),k=Sn(E&&E.text);let H=n;E&&E.text==="*"&&w.push(...H);let ie=0;for(;H.length>0&&ie<k;)H=gn(H,u,d),w.push(...H),ie+=1;return w}function dn(n,u,d){let w=n;return u.children.forEach(E=>w=vn(w,E,d)),w}function vn(n,u,d){let w;return u.type==="query"?w=cn(n,u,d):u.type==="pattern"?w=yn(n,u,d):w=dn(n,u,d),Tr.reset(),Tr.mem.push(n),w}function tn(n,u){return Tr.reset(),Tr.mem.push(n),vn([[n,null,null,"#"]],u)}const _n={value:n=>n.map(u=>u[yr]),pointer:n=>n.map(u=>u[Rr]),all:n=>n,map:n=>{const u={};return n.forEach(d=>u[d[Rr]]=d[yr]),u}};var an;(function(n){n.POINTER="pointer",n.VALUE="value",n.ALL="all",n.MAP="map"})(an||(an={})),rn.POINTER=an.POINTER,rn.VALUE=an.VALUE,rn.ALL=an.ALL,rn.MAP=an.MAP;function rn(n,u,d=an.VALUE){if(u==null)return[];u=u.replace(/(\/$)/g,""),u===""&&(u="#");const w=Lr(u);if(w==null)throw new Error(`empty ast for '${u}'`);if(w.rest!=="")throw new Error(`Failed parsing queryString from: '${w.rest}'`);const E=tn(n,w);return typeof d=="function"?E.map(k=>d(...k)):_n[d]?_n[d](E):E}const mn=["root","recursion"];function Kn(n,u=[]){return mn.includes(n.type)?(n.children.forEach(d=>Kn(d,u)),u):(u.push(n.text),u)}function hi(n){if(n==null||n==="")return[];const u=Lr(n);return Kn(u)}const Ri=n=>JSON.parse(JSON.stringify(n)),Pe=Object.prototype.toString,y=n=>Pe.call(n).match(/\s([^\]]+)\]/).pop().toLowerCase(),T=new RegExp(`^("[^"]+"|${Ct})$`),V=["string","number","boolean","null"],q=/^\[\d*\]$/,Oe=/^\[(\d+)\]$/,Ee=/^".+"$/,ze=/(^\[\d*\]$|^\d+$)/;function He(n){return parseInt(n.replace(/^(\[|\]$)/,""))}function wt(n){return Ee.test(n)?n.replace(/(^"|"$)/g,""):n}function jt(n,u,d){n.length<=u?n[u]=d:n.splice(u,0,d)}function $t(n,u){const d=[];return n.forEach(w=>d.push(...rn(w[0],u,an.ALL))),d}function Cr(n,u,d,w){const E=n[0];if(/^\[\]$/.test(u)){E.push(d);const k=E.length-1;return[E[k],k,E,`${n[3]}/${k}}`]}if(w==null&&y(E[u])==="object"&&y(d)==="object")return[E[u],u,E,`${n[3]}/${u}}`];if(w===Xn.INSERT_ITEMS||w==null&&Oe.test(u)){const k=He(u);return jt(E,k,d),[E[k],k,E,`${n[3]}/${k}}`]}if(w===Xn.REPLACE_ITEMS||w==null){const k=He(u);return E[k]=d,[E[k],k,E,`${n[3]}/${k}}`]}throw new Error(`Unknown array index '${u}' with force-option '${w}'`)}function pr(n,u,d,w){return u=wt(u),n.filter(E=>Array.isArray(E[0])&&ze.test(u)?!0:V.includes(y(E[0][u]))===!1).map(E=>{const k=d?[]:{},H=E[0];return Array.isArray(H)?Cr(E,u,k,w):(H[u]=H[u]||k,[H[u],u,H,`${E[3]}/${u}`])})}var Cn;(function(n){n.REPLACE_ITEMS="replace",n.INSERT_ITEMS="insert"})(Cn||(Cn={})),Xn.REPLACE_ITEMS=Cn.REPLACE_ITEMS,Xn.INSERT_ITEMS=Cn.INSERT_ITEMS;function Xn(n,u,d,w){if(u==null)return Ri(n);if(u=u.replace(/(\/$)/g,""),u==="")return Ri(d);const E=Ri(n);let k=[[E,null,null,"#"]];const H=hi(u),ie=H.pop(),ce=q.test(ie)&&Oe.test(ie)===!1;if(T.test(ie)===!1||ce)throw new Error(`Unsupported query '${u}' ending with non-property`);return H.forEach((le,Be)=>{if(le==="__proto__"||le==="prototyped"||le==="constructor")return;if(T.test(le)===!1){k=$t(k,le);return}const Ve=Be>=H.length-1?ie:H[Be+1],et=ze.test(Ve);k=pr(k,le,et,w)}),k.forEach(le=>{let Be=d;y(d)==="function"&&(Be=d(le[3],ie,le[0],`${le[3]}/${ie}`));const Ve=le[0];if(Array.isArray(Ve))Cr(le,ie,Be,w);else{const et=wt(ie);if(et==="__proto__"||et==="prototyped"||et==="constructor")return;Ve[et]=Be}}),E}function zn(n,u,d=!1){const w=[],E=rn(n,u,an.ALL);return E.forEach(function(k){w.push(k[0]),(0,Qe.remove)(n,k[Rr],!0)}),E.forEach(function(k){Array.isArray(k[Vr])&&(0,Qe.removeUndefinedItems)(k[Vr])}),d?w:n}var wi={get:rn,set:Xn,split:hi,remove:zn,ReturnType:an},ji={$ref:{type:!1},allOf:{type:!1,definitions:["allOf/*"]},anyOf:{type:!1,definitions:["anyOf/*"]},array:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not","items","items/*","additionalItems"],validationKeywords:["minItems","maxItems","uniqueItems"],keywords:["items","additionalItems","minItems","maxItems","uniqueItems"]},boolean:{type:!0},enum:{type:!1},integer:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minimum","maximum","multipleOf"]},not:{type:!1,definitions:["not"]},number:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minimum","maximum","multipleOf"]},null:{type:!0},object:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not","properties/*","additionalProperties","patternProperties/*","dependencies/*"],validationKeywords:["minProperties","maxProperties","required"],keywords:["properties","additionalProperties","patternProperties","dependencies","minProperties","maxProperties","required"]},oneOf:{type:!1,definitions:["oneOf/*"]},string:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minLength","maxLength","pattern"]}};const us=n=>Object.prototype.toString.call(n)==="[object Object]",qi=Object.keys(ji).filter(n=>ji[n].type===!1),Hn=Object.prototype.hasOwnProperty;function kn(n){if(us(n)===!1)return;if(n.enum)return"enum";if(ji[n.type]||Array.isArray(n.type))return n.type;const u=qi.filter(d=>n[d]);if(u.length===1)return u[0];if(u.length===0){for(let d=0,w=ji.object.keywords.length;d<w;d+=1){const E=ji.object.keywords[d];if(Hn.call(n,E))return"object"}for(let d=0,w=ji.array.keywords.length;d<w;d+=1){const E=ji.array.keywords[d];if(Hn.call(n,E))return"array"}return}throw new Error(`Mutiple typeIds [${u.join(", ")}] matched in ${JSON.stringify(n)}`)}const eo=n=>Object.prototype.toString.call(n)==="[object Object]";function Bo(n){const u=[],d=kn(n);if(d==null)return u;let w;if(Array.isArray(d)){w={};for(let E=0,k=d.length;E<k;E+=1)Object.assign(w,ji[d[E]])}else w=ji[d];return w.definitions==null||w.definitions.forEach(E=>{rn(n,E,(k,H,ie,ce)=>{eo(k)&&kn(k)&&u.push({pointer:Ue().join(Ue().split(ce),!1),def:k})})}),u}const qt=n=>Object.prototype.toString.call(n)==="[object Object]";function pe(n,u){if(this.callback(n,u)===!0)return;Bo(n).forEach(w=>this.nextTypeDefs(w.def,Ue().join(u,w.pointer,!1)))}function j(n,u,d,w="definitions"){const E=u[w];Object.keys(E).forEach(k=>{if(E[k]===!1||qt(E[k])){n.nextTypeDefs(E[k],Ue().join(d,w,k,!1));return}})}function Y(n,u,d="#"){const w={callback:u,nextTypeDefs:pe};w.nextTypeDefs(n,d),n.definitions!=null&&(w.callback=(E,k)=>{u(E,k),E.definitions!=null&&j(w,E,k)},j(w,n,d)),n.$defs!=null&&(w.callback=(E,k)=>{u(E,k),E.definitions!=null&&j(w,E,k)},j(w,n,d,"$defs"))}const ke=/(#|\/)+$/,Ne=/#$/,nt=/^[^:]+:\/\/[^/]+\//,ft=/\/[^/]*$/,Ut=/#.*$/;function Wt(n,u){return n==null&&u==null?"#":u==null?n.replace(Ne,""):n==null?u.replace(Ne,""):u[0]==="#"?`${n.replace(Ut,"")}${u.replace(ke,"")}`:nt.test(u)?u.replace(Ne,""):`${n.replace(ft,"")}/${u.replace(Ne,"")}`}const Br=/(#|\/)+$/g,Kr=["",null,"#"];function Mn(n){if(Kr.includes(n))return[];if(n=n.replace(Br,""),n.indexOf("#")===-1)return[n.replace(Br,"")];if(n.indexOf("#")===0)return[n.replace(Br,"")];const u=n.split("#");return u[0]=u[0].replace(Br,""),u[1]=`#${u[1].replace(Br,"")}`,u}const Oi=/(#|\/)+$/g,Pi=n=>Ge(n)==="object";function ai(n,u,d){if(Pi(d)&&(d=d.__ref||d.$ref),d==null)return u;let w;const E=d.replace(Oi,"");if(n.remotes[E])return w=n.remotes[E],w&&w.$ref?ai(n,u,w.$ref):w;if(n.ids[d])return w=(0,Qe.get)(u,n.ids[d]),w&&w.$ref?ai(n,u,w.$ref):w;const k=Mn(d);if(k.length===0)return u;if(k.length===1){if(d=k[0],n.remotes[d])return w=n.remotes[d],ai(n,u,w.$ref);if(n.ids[d])return w=(0,Qe.get)(u,n.ids[d]),w&&w.$ref?ai(n,u,w.$ref):w}if(k.length===2){const H=k[0];if(d=k[1],n.remotes[H])return n.remotes[H].getRef?n.remotes[H].getRef(d):ai(n,n.remotes[H],d);if(n.ids[H])return ai(n,(0,Qe.get)(u,n.ids[H]),d)}return w=(0,Qe.get)(u,n.ids[d]||d),w&&w.$ref?ai(n,u,w.$ref):w}const Ti="__compiled",to="__ref",Ms="getRef",cs="getRoot",da=/(#|\/)+$/g;function Xo(n,u,d=u,w=!1){if(u===!0||u===!1||u===void 0||u[Ti]!==void 0)return u;const E={ids:{},remotes:n.remotes},k=JSON.stringify(u),H=JSON.parse(k);if(Object.defineProperty(H,Ti,{enumerable:!1,value:!0}),Object.defineProperty(H,Ms,{enumerable:!1,value:ai.bind(null,E,H)}),w===!1&&k.includes("$ref")===!1)return H;H!==d&&Object.defineProperty(H,"$defs",{enumerable:!0,value:Object.assign({},d.definitions,d.$defs,H.definitions,H.$defs)});const ie={},ce=()=>H;return Y(H,(le,Be)=>{var Ve;if(le.$id){if(le.$id.startsWith("http")&&/(allOf|anyOf|oneOf)\/\d+$/.test(Be)){const bt=Be.replace(/\/(allOf|anyOf|oneOf)\/\d+$/,""),kt=(0,Qe.get)(H,bt);le.$id=(Ve=kt.$id)!==null&&Ve!==void 0?Ve:le.$id}E.ids[le.$id.replace(da,"")]=Be}Be=`#${Be}`.replace(/##+/,"#");const et=Be.replace(/\/[^/]+$/,""),ve=Be.replace(/\/[^/]+\/[^/]+$/,""),Ye=ie[et]||ie[ve],We=Wt(Ye,le.$id);ie[Be]=We,E.ids[We]==null&&(E.ids[We]=Be),le.$ref&&!le[to]&&(Object.defineProperty(le,to,{enumerable:!1,value:Wt(We,le.$ref)}),Object.defineProperty(le,cs,{enumerable:!1,value:ce}))}),H}function $s(n,u,d,w=n.rootSchema,E="#"){w=n.resolveRef(w),d(w,u,E);const k=Ge(u);k==="object"?Object.keys(u).forEach(H=>{const ie=n.step(H,w,u,E),ce=u[H];n.each(ce,d,ie,`${E}/${H}`)}):k==="array"&&u.forEach((H,ie)=>{const ce=n.step(ie,w,u,E);n.each(H,d,ce,`${E}/${ie}`)})}var Je={additionalItemsError:dt("AdditionalItemsError"),additionalPropertiesError:dt("AdditionalPropertiesError"),anyOfError:dt("AnyOfError"),allOfError:dt("AllOfError"),constError:dt("ConstError"),containsError:dt("ContainsError"),containsArrayError:dt("ContainsArrayError"),containsAnyError:dt("ContainsAnyError"),enumError:dt("EnumError"),formatURLError:dt("FormatURLError"),formatURIError:dt("FormatURIError"),formatURIReferenceError:dt("FormatURIReferenceError"),formatURITemplateError:dt("FormatURITemplateError"),formatDateError:dt("FormatDateaError"),formatDateTimeError:dt("FormatDateTimeError"),formatEmailError:dt("FormatEmailError"),formatHostnameError:dt("FormatHostnameError"),formatIPV4Error:dt("FormatIPV4Error"),formatIPV4LeadingZeroError:dt("FormatIPV4LeadingZeroError"),formatIPV6Error:dt("FormatIPV6Error"),formatIPV6LeadingZeroError:dt("FormatIPV6LeadingZeroError"),formatJSONPointerError:dt("FormatJSONPointerError"),formatRegExError:dt("FormatRegExError"),formatTimeError:dt("FormatTimeError"),invalidSchemaError:dt("InvalidSchemaError"),invalidDataError:dt("InvalidDataError"),invalidTypeError:dt("InvalidTypeError"),invalidPropertyNameError:dt("InvalidPropertyNameError"),maximumError:dt("MaximumError"),maxItemsError:dt("MaxItemsError"),maxLengthError:dt("MaxLengthError"),maxPropertiesError:dt("MaxPropertiesError"),minimumError:dt("MinimumError"),minItemsError:dt("MinItemsError"),minItemsOneError:dt("MinItemsOneError"),minLengthError:dt("MinLengthError"),minLengthOneError:dt("MinLengthOneError"),minPropertiesError:dt("MinPropertiesError"),missingDependencyError:dt("MissingDependencyError"),missingOneOfPropertyError:dt("MissingOneOfPropertyError"),multipleOfError:dt("MultipleOfError"),multipleOneOfError:dt("MultipleOneOfError"),noAdditionalPropertiesError:dt("NoAdditionalPropertiesError"),notError:dt("NotError"),oneOfError:dt("OneOfError"),oneOfPropertyError:dt("OneOfPropertyError"),patternError:dt("PatternError"),patternPropertiesError:dt("PatternPropertiesError"),requiredPropertyError:dt("RequiredPropertyError"),typeError:dt("TypeError"),undefinedValueError:dt("UndefinedValueError"),uniqueItemsError:dt("UniqueItemsError"),unknownPropertyError:dt("UnknownPropertyError"),valueNotEmptyError:dt("ValueNotEmptyError")},Zt=a(1170),Jt=a.n(Zt);const lr=new RegExp("^([0-9]+)-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])[Tt]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\\.[0-9]+)?(([Zz])|([\\+|\\-]([01][0-9]|2[0-3]):[0-5][0-9]))$"),Ur=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,Ir=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,ln=/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,mi=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,jn=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,Jn=[0,31,28,31,30,31,30,31,31,30,31,30,31],on=/^(?:\/(?:[^~/]|~0|~1)*)*$/,nn=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,Gn=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,fn=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i;var vi={date:(n,u,d,w)=>{if(typeof d!="string")return;const E=d.match(mi);if(!E)return Je.formatDateTimeError({value:d,pointer:w});const k=+E[1],H=+E[2],ie=+E[3],ce=k%4===0&&(k%100!==0||k%400===0);if(!(H>=1&&H<=12&&ie>=1&&ie<=(H==2&&ce?29:Jn[H])))return Je.formatDateError({value:d,pointer:w})},"date-time":(n,u,d,w)=>{if(typeof d=="string")return d===""||lr.test(d)?new Date(d).toString()==="Invalid Date"?Je.formatDateTimeError({value:d,pointer:w}):void 0:Je.formatDateTimeError({value:d,pointer:w})},email:(n,u,d,w)=>{if(typeof d!="string")return;if(d[0]==='"')return Je.formatEmailError({value:d,pointer:w});const[E,k,...H]=d.split("@");if(!E||!k||H.length!==0||E.length>64||k.length>253)return Je.formatEmailError({value:d,pointer:w});if(E[0]==="."||E.endsWith(".")||E.includes(".."))return Je.formatEmailError({value:d,pointer:w});if(!/^[a-z0-9.-]+$/i.test(k)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(E))return Je.formatEmailError({value:d,pointer:w});if(!k.split(".").every(ie=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(ie)))return Je.formatEmailError({value:d,pointer:w})},hostname:(n,u,d,w)=>{if(typeof d=="string"&&!(d===""||ln.test(d)))return Je.formatHostnameError({value:d,pointer:w})},ipv4:(n,u,d,w)=>{if(!(typeof d!="string"||d==="")){if(d&&d[0]==="0")return Je.formatIPV4LeadingZeroError({value:d,pointer:w});if(!(d.length<=15&&Ur.test(d)))return Je.formatIPV4Error({value:d,pointer:w})}},ipv6:(n,u,d,w)=>{if(!(typeof d!="string"||d==="")){if(d&&d[0]==="0")return Je.formatIPV6LeadingZeroError({value:d,pointer:w});if(!(d.length<=45&&Ir.test(d)))return Je.formatIPV6Error({value:d,pointer:w})}},"json-pointer":(n,u,d,w)=>{if(!(typeof d!="string"||d==="")&&!on.test(d))return Je.formatJSONPointerError({value:d,pointer:w})},"relative-json-pointer":(n,u,d,w)=>{if(!(typeof d!="string"||d==="")&&!nn.test(d))return Je.formatJSONPointerError({value:d,pointer:w})},regex:(n,u,d,w)=>{if(typeof d=="string"&&/\\Z$/.test(d)===!1){try{new RegExp(d);return}catch{}return Je.formatRegExError({value:d,pointer:w})}if(!(typeof d=="object"||typeof d=="number"||Array.isArray(d)))return Je.formatRegExError({value:d,pointer:w})},time:(n,u,d,w)=>{if(typeof d!="string")return;const E=d.match(jn);if(!E)return Je.formatDateTimeError({value:d,pointer:w});const k=+E[1],H=+E[2],ie=+E[3],ce=!!E[5];if(!((k<=23&&H<=59&&ie<=59||k==23&&H==59&&ie==60)&&ce))return Je.formatTimeError({value:d,pointer:w})},uri:(n,u,d,w)=>{if(!(typeof d!="string"||d==="")&&!Jt().isUri(d))return Je.formatURIError({value:d,pointer:w})},"uri-reference":(n,u,d,w)=>{if(!(typeof d!="string"||d==="")&&!Gn.test(d))return Je.formatURIReferenceError({value:d,pointer:w})},"uri-template":(n,u,d,w)=>{if(!(typeof d!="string"||d==="")&&!fn.test(d))return Je.formatURITemplateError({value:d,pointer:w})},url:(n,u,d,w)=>{if(!(d===""||Jt().isWebUri(d)))return Je.formatURLError({value:d,pointer:w})}};function Ni(n){switch(Ge(n)){case"string":case"array":return n.length===0;case"null":case"undefined":return!0;case"object":return Object.keys(n).length===0;default:return!1}}const ro={addOptionalProps:!0,removeInvalidData:!1};let Yn;function Li(n,u){const{$ref:d}=n;return d==null?!0:(Yn[u]==null||Yn[u][d]==null?0:Yn[u][d])<Re.GET_TEMPLATE_RECURSION_LIMIT}function Bi(n,u,d){if(d==null)throw new Error(`missing pointer ${d}`);const{$ref:w}=u;return w==null?u:(Yn[d]=Yn[d]||{},Yn[d][w]=Yn[d][w]||0,Yn[d][w]+=1,n.resolveRef(u))}function Xr(n,u){if(n==="string")return JSON.stringify(u);if(typeof u!="string")return null;try{if(u=JSON.parse(u),typeof u===n)return u}catch{}return null}function Co(n,u,d,w){if(Ge(u)!=="object")return Object.assign({pointer:w},u);if(Li(u,w)===!1&&d==null)return!1;let E=de(Bi(n,u,w));if(Array.isArray(u.anyOf)&&u.anyOf.length>0){if(Li(u.anyOf[0],`${w}/anyOf/0`)){const k=Bi(n,u.anyOf[0],`${w}/anyOf/0`);E=Gt(E,k),E.pointer=u.anyOf[0].$ref||E.pointer}delete E.anyOf}if(Array.isArray(u.allOf)){for(let k=0,H=u.allOf.length;k<H;k+=1)Li(u.allOf[k],`${w}/allOf/${k}`)&&(E=Gt(E,Bi(n,u.allOf[k],`${w}/allOf/${k}`)),E.pointer=u.allOf[k].$ref||E.pointer);delete E.allOf}return E.pointer=E.pointer||u.$ref||w,E}const Hi=n=>n&&typeof n=="object";function pi(n,u,d,w,E){if(d==null)throw new Error(`getTemplate: missing schema for data: ${JSON.stringify(u)}`);if(w==null)throw new Error("Missing pointer");let k=Co(n,d,u,w);if(!Hi(k))return;if(w=k.pointer,k!=null&&k.const)return k.const;if(Array.isArray(k.oneOf))if(Ni(u)){const le=k.oneOf[0].type||k.type||k.const&&typeof k.const||Ge(u);k={...k.oneOf[0],type:le}}else{const le=De(n,u,k);if(_t(le)){if(u!=null&&E.removeInvalidData!==!0)return u;k=k.oneOf[0],u=void 0}else k=le}if(!Hi(k)||k.type==null)return;const H=Array.isArray(k.type)?Ao(k.type,u,k.default):k.type,ie=Ge(u);return u!=null&&ie!==H&&!(ie==="number"&&H==="integer")&&(u=Xr(H,u)),Po[H]==null?E.removeInvalidData?void 0:u:Po[H](n,k,u,w,E)}function Ao(n,u,d){if(u==null){if(d!=null){const E=Ge(d);if(n.includes(E))return E}return n[0]}const w=Ge(u);return n.includes(w)?w:n[0]}const Po={null:(n,u,d)=>To(u,d,null),string:(n,u,d)=>To(u,d,""),number:(n,u,d)=>To(u,d,0),integer:(n,u,d)=>To(u,d,0),boolean:(n,u,d)=>To(u,d,!1),object:(n,u,d,w,E)=>{var k;const H=u.default===void 0?{}:u.default,ie={},ce=(k=u.required)!==null&&k!==void 0?k:[];if(u.properties&&Object.keys(u.properties).forEach(le=>{const Be=d==null||d[le]==null?H[le]:d[le],Ve=ce.includes(le);(Be!=null||Ve||E.addOptionalProps)&&(ie[le]=pi(n,Be,u.properties[le],`${w}/properties/${le}`,E))}),u.dependencies&&Object.keys(u.dependencies).forEach(le=>{if(ie[le]===void 0)return;const Be=u.dependencies[le];if(Array.isArray(Be)){Be.forEach(et=>{ie[et]=pi(n,ie[et],u.properties[et],`${w}/properties/${et}`,E)});return}if(Ge(Be)!=="object")return;const Ve=pi(n,d,{...Be,type:"object"},`${w}/dependencies/${le}`,E);Ve&&!_t(Ve)&&Object.assign(ie,Ve)}),d&&Object.keys(d).forEach(le=>ie[le]==null&&(ie[le]=d[le])),u.if&&(u.then||u.else)){const le=n.isValid(ie,u.if);if(le&&u.then){const Be=n.getTemplate(ie,{type:"object",...u.then},E);Object.assign(ie,Be)}else if(!le&&u.else){const Be=n.getTemplate(ie,{type:"object",...u.else},E);Object.assign(ie,Be)}}return ie},array:(n,u,d,w,E)=>{var k,H,ie;const ce=u.default===void 0?[]:u.default;u.minItems=u.minItems||0;const le=d||[];if(u.items==null)return le;if(Array.isArray(u.items)){for(let Ve=0,et=Math.max((k=u.minItems)!==null&&k!==void 0?k:0,(ie=(H=u.items)===null||H===void 0?void 0:H.length)!==null&&ie!==void 0?ie:0);Ve<et;Ve+=1)le[Ve]=pi(n,le[Ve]==null?ce[Ve]:le[Ve],u.items[Ve],`${w}/items/${Ve}`,E);return le}if(Ge(u.items)!=="object")return le;const Be=Co(n,u.items,d,w);if(Be===!1)return le;if(w=Be.pointer||w,Be.oneOf&&le.length===0){const Ve=Be.oneOf[0];for(let et=0;et<u.minItems;et+=1)le[et]=pi(n,le[et]==null?ce[et]:le[et],Ve,`${w}/oneOf/0`,E);return le}if(Be.oneOf&&le.length>0){const Ve=Math.max(u.minItems,le.length);for(let et=0;et<Ve;et+=1){let ve=le[et]==null?ce[et]:le[et],Ye=De(n,ve,Be);Ye==null||_t(Ye)?ve!=null&&E.removeInvalidData!==!0?le[et]=ve:(ve=void 0,Ye=Be.oneOf[0],le[et]=pi(n,ve,Ye,`${w}/oneOf/${et}`,E)):le[et]=pi(n,ve,Ye,`${w}/oneOf/${et}`,E)}return le}if(Be.type){for(let Ve=0,et=Math.max(u.minItems,le.length);Ve<et;Ve+=1)le[Ve]=pi(n,le[Ve]==null?ce[Ve]:le[Ve],Be,`${w}/items`,E);return le}return le}};function To(n,u,d){return u!=null?u:n.const?n.const:n.default===void 0&&Array.isArray(n.enum)?n.enum[0]:n.default===void 0?d:n.default}var ci=(n,u,d=n.rootSchema,w=ro)=>(Yn={mi:{}},pi(n,u,d,"#",w));function lo(n,u,d=n.rootSchema,w="#"){return n.validate(u,d,w).length===0}function _i(n,u){const d=typeof n;if(d!==typeof u)return!1;if(Array.isArray(n)){if(!Array.isArray(u))return!1;const w=n.length;if(w!==u.length)return!1;for(let E=0;E<w;E++)if(!_i(n[E],u[E]))return!1;return!0}if(d==="object"){if(!n||!u)return n===u;const w=Object.keys(n),E=Object.keys(u);if(w.length!==E.length)return!1;for(const H of w)if(!_i(n[H],u[H]))return!1;return!0}return n===u}function _o(n){const u=[];let d=0;const w=n.length;for(;d<w;){const E=n.charCodeAt(d++);if(E>=55296&&E<=56319&&d<w){const k=n.charCodeAt(d++);(k&64512)==56320?u.push(((E&1023)<<10)+(k&1023)+65536):(u.push(E),d--)}else u.push(E)}return u}const Wo=Re.floatingPointPrecision,go=Object.prototype.hasOwnProperty,Ss=(n,u)=>!(n[u]===void 0||!go.call(n,u));var Rs={additionalProperties:(n,u,d,w)=>{if(u.additionalProperties===!0||u.additionalProperties==null||Ge(u.patternProperties)==="object"&&u.additionalProperties===!1)return;const E=[];let k=Object.keys(d).filter(ie=>Re.propertyBlacklist.includes(ie)===!1);const H=Object.keys(u.properties||{});if(Ge(u.patternProperties)==="object"){const ie=Object.keys(u.patternProperties).map(ce=>new RegExp(ce));k=k.filter(ce=>{for(let le=0;le<ie.length;le+=1)if(ie[le].test(ce))return!1;return!0})}for(let ie=0,ce=k.length;ie<ce;ie+=1){const le=k[ie];if(H.indexOf(le)===-1){const Be=typeof u.additionalProperties=="object";if(Be&&Array.isArray(u.additionalProperties.oneOf)){const Ve=n.resolveOneOf(d[le],u.additionalProperties,`${w}/${le}`);_t(Ve)?E.push(n.errors.additionalPropertiesError({schema:u.additionalProperties,property:k[ie],properties:H,pointer:w,errors:Ve.data.errors})):E.push(...n.validate(d[le],Ve,w))}else Be?E.push(...n.validate(d[le],u.additionalProperties,`${w}/${le}`)):E.push(n.errors.noAdditionalPropertiesError({property:k[ie],properties:H,pointer:w}))}}return E},allOf:(n,u,d,w)=>{if(Array.isArray(u.allOf)===!1)return;const E=[];return u.allOf.forEach(k=>{E.push(...n.validate(d,k,w))}),E},anyOf:(n,u,d,w)=>{if(Array.isArray(u.anyOf)!==!1){for(let E=0;E<u.anyOf.length;E+=1)if(n.isValid(d,u.anyOf[E]))return;return n.errors.anyOfError({anyOf:u.anyOf,value:d,pointer:w})}},dependencies:(n,u,d,w)=>{if(Ge(u.dependencies)!=="object")return;const E=[];return Object.keys(d).forEach(k=>{if(u.dependencies[k]===void 0||u.dependencies[k]===!0)return;if(u.dependencies[k]===!1){E.push(n.errors.missingDependencyError({pointer:w}));return}let H;const ie=Ge(u.dependencies[k]);if(ie==="array")H=u.dependencies[k].filter(ce=>d[ce]===void 0).map(ce=>n.errors.missingDependencyError({missingProperty:ce,pointer:w}));else if(ie==="object")H=n.validate(d,u.dependencies[k],w);else throw new Error(`Invalid dependency definition for ${w}/${k}. Must be list or schema`);E.push(...H)}),E.length>0?E:void 0},enum:(n,u,d,w)=>{const E=Ge(d);if(E==="object"||E==="array"){const k=JSON.stringify(d);for(let H=0;H<u.enum.length;H+=1)if(JSON.stringify(u.enum[H])===k)return}else if(u.enum.includes(d))return;return n.errors.enumError({values:u.enum,value:d,pointer:w})},format:(n,u,d,w)=>{if(n.validateFormat[u.format])return n.validateFormat[u.format](n,u,d,w)},items:(n,u,d,w)=>{if(u.items===!1)return Array.isArray(d)&&d.length===0?void 0:n.errors.invalidDataError({pointer:w,value:d});const E=[];for(let k=0;k<d.length;k+=1){const H=d[k],ie=n.step(k,u,d,w);if(_t(ie))return[ie];const ce=n.validate(H,ie,`${w}/${k}`);E.push(...ce)}return E},maximum:(n,u,d,w)=>{if(!isNaN(u.maximum)){if(u.maximum&&u.maximum<d)return n.errors.maximumError({maximum:u.maximum,length:d,pointer:w});if(u.maximum&&u.exclusiveMaximum===!0&&u.maximum===d)return n.errors.maximumError({maximum:u.maximum,length:d,pointer:w})}},maxItems:(n,u,d,w)=>{if(!isNaN(u.maxItems)&&u.maxItems<d.length)return n.errors.maxItemsError({maximum:u.maxItems,length:d.length,pointer:w})},maxLength:(n,u,d,w)=>{if(isNaN(u.maxLength))return;const E=_o(d).length;if(u.maxLength<E)return n.errors.maxLengthError({maxLength:u.maxLength,length:E,pointer:w})},maxProperties:(n,u,d,w)=>{const E=Object.keys(d).length;if(isNaN(u.maxProperties)===!1&&u.maxProperties<E)return n.errors.maxPropertiesError({maxProperties:u.maxProperties,length:E,pointer:w})},minLength:(n,u,d,w)=>{if(isNaN(u.minLength))return;const E=_o(d).length;if(u.minLength>E)return u.minLength===1?n.errors.minLengthOneError({minLength:u.minLength,length:E,pointer:w}):n.errors.minLengthError({minLength:u.minLength,length:E,pointer:w})},minimum:(n,u,d,w)=>{if(!isNaN(u.minimum)){if(u.minimum>d)return n.errors.minimumError({minimum:u.minimum,length:d,pointer:w});if(u.exclusiveMinimum===!0&&u.minimum===d)return n.errors.minimumError({minimum:u.minimum,length:d,pointer:w})}},minItems:(n,u,d,w)=>{if(!isNaN(u.minItems)&&u.minItems>d.length)return u.minItems===1?n.errors.minItemsOneError({minItems:u.minItems,length:d.length,pointer:w}):n.errors.minItemsError({minItems:u.minItems,length:d.length,pointer:w})},minProperties:(n,u,d,w)=>{if(isNaN(u.minProperties))return;const E=Object.keys(d).length;if(u.minProperties>E)return n.errors.minPropertiesError({minProperties:u.minProperties,length:E,pointer:w})},multipleOf:(n,u,d,w)=>{if(!isNaN(u.multipleOf)&&d*Wo%(u.multipleOf*Wo)/Wo!==0)return n.errors.multipleOfError({multipleOf:u.multipleOf,value:d,pointer:w})},not:(n,u,d,w)=>{const E=[];return n.validate(d,u.not,w).length===0&&E.push(n.errors.notError({value:d,not:u.not,pointer:w})),E},oneOf:(n,u,d,w)=>{if(Array.isArray(u.oneOf)!==!1&&(u=n.resolveOneOf(d,u,w),_t(u)))return u},pattern:(n,u,d,w)=>{if(new RegExp(u.pattern,"u").test(d)===!1)return n.errors.patternError({pattern:u.pattern,description:u.patternExample||u.pattern,received:d,pointer:w})},patternProperties:(n,u,d,w)=>{const E=u.properties||{},k=u.patternProperties;if(Ge(k)!=="object")return;const H=[],ie=Object.keys(d),ce=Object.keys(k).map(le=>({regex:new RegExp(le),patternSchema:k[le]}));return ie.forEach(le=>{let Be=!1;for(let Ve=0,et=ce.length;Ve<et;Ve+=1)if(ce[Ve].regex.test(le)){Be=!0;const ve=n.validate(d[le],ce[Ve].patternSchema,`${w}/${le}`);ve&&ve.length>0&&H.push(...ve)}E[le]||Be===!1&&u.additionalProperties===!1&&H.push(n.errors.patternPropertiesError({key:le,pointer:w,patterns:Object.keys(k).join(",")}))}),H},properties:(n,u,d,w)=>{const E=[],k=Object.keys(u.properties||{});for(let H=0;H<k.length;H+=1){const ie=k[H];if(Ss(d,ie)){const ce=n.step(ie,u,d,w),le=n.validate(d[ie],ce,`${w}/${ie}`);E.push(...le)}}return E},propertiesRequired:(n,u,d,w)=>{const E=[],k=Object.keys(u.properties||{});for(let H=0;H<k.length;H+=1){const ie=k[H];if(d[ie]===void 0)E.push(n.errors.requiredPropertyError({key:ie,pointer:w}));else{const ce=n.step(ie,u,d,w),le=n.validate(d[ie],ce,`${w}/${ie}`);E.push(...le)}}return E},required:(n,u,d,w)=>{if(Array.isArray(u.required)!==!1)return u.required.map(E=>{if(!Ss(d,E))return n.errors.requiredPropertyError({key:E,pointer:w})})},requiredNotEmpty:(n,u,d,w)=>{if(Array.isArray(u.required)!==!1)return u.required.map(E=>{if(d[E]==null||d[E]==="")return n.errors.valueNotEmptyError({property:E,pointer:`${w}/${E}`})})},uniqueItems:(n,u,d,w)=>{if((Array.isArray(d)&&u.uniqueItems)===!1)return;const E=[];return d.forEach((k,H)=>{for(let ie=H+1;ie<d.length;ie+=1)_i(k,d[ie])&&E.push(n.errors.uniqueItemsError({pointer:w,itemPointer:`${w}/${H}`,duplicatePointer:`${w}/${ie}`,value:JSON.stringify(k)}))}),E}},Do={...Rs,contains:(n,u,d,w)=>{if(u.contains===!1)return n.errors.containsArrayError({pointer:w,value:d});if(u.contains===!0)return Array.isArray(d)&&d.length===0?n.errors.containsAnyError({pointer:w}):void 0;if(Ge(u.contains)==="object"){for(let E=0;E<d.length;E+=1)if(n.isValid(d[E],u.contains))return;return n.errors.containsError({pointer:w,schema:JSON.stringify(u.contains)})}},exclusiveMaximum:(n,u,d,w)=>{if(!isNaN(u.exclusiveMaximum)&&u.exclusiveMaximum<=d)return n.errors.maximumError({maximum:u.exclusiveMaximum,length:d,pointer:w})},exclusiveMinimum:(n,u,d,w)=>{if(!isNaN(u.exclusiveMinimum)&&u.exclusiveMinimum>=d)return n.errors.minimumError({minimum:u.exclusiveMinimum,length:d,pointer:w})},if:(n,u,d,w)=>{if(u.if==null)return;const E=n.validate(d,u.if,w);if(E.length===0&&u.then)return n.validate(d,u.then,w);if(E.length!==0&&u.else)return n.validate(d,u.else,w)},maximum:(n,u,d,w)=>{if(!isNaN(u.maximum)&&u.maximum&&u.maximum<d)return n.errors.maximumError({maximum:u.maximum,length:d,pointer:w})},minimum:(n,u,d,w)=>{if(!isNaN(u.minimum)&&u.minimum>d)return n.errors.minimumError({minimum:u.minimum,length:d,pointer:w})},patternProperties:(n,u,d,w)=>{const E=u.properties||{},k=u.patternProperties;if(Ge(k)!=="object")return;const H=[],ie=Object.keys(d),ce=Object.keys(k).map(le=>({regex:new RegExp(le),patternSchema:k[le]}));return ie.forEach(le=>{let Be=!1;for(let Ve=0,et=ce.length;Ve<et;Ve+=1)if(ce[Ve].regex.test(le)){if(Be=!0,ce[Ve].patternSchema===!1){H.push(n.errors.patternPropertiesError({key:le,pointer:w,patterns:Object.keys(k).join(",")}));return}const ve=n.validate(d[le],ce[Ve].patternSchema,`${w}/${le}`);ve&&ve.length>0&&H.push(...ve)}E[le]||Be===!1&&u.additionalProperties===!1&&H.push(n.errors.patternPropertiesError({key:le,pointer:w,patterns:Object.keys(k).join(",")}))}),H},propertyNames:(n,u,d,w)=>{if(u.propertyNames===!1)return Object.keys(d).length===0?void 0:n.errors.invalidPropertyNameError({property:Object.keys(d),pointer:w,value:d});if(u.propertyNames===!0||Ge(u.propertyNames)!=="object")return;const E=[],k=Object.keys(d),H={...u.propertyNames,type:"string"};return k.forEach(ie=>{const ce=n.validate(ie,H,`${w}/${ie}`);ce.length>0&&E.push(n.errors.invalidPropertyNameError({property:ie,pointer:w,validationError:ce[0],value:d[ie]}))}),E}};function uo(n,u,d=n.rootSchema,w="#"){let E=!1,k=de(d);for(let H=0;H<d.anyOf.length;H+=1){const ie=n.resolveRef(d.anyOf[H]);n.isValid(u,d.anyOf[H],w)&&(E=!0,k=Gt(k,ie))}return E===!1?Je.anyOfError({value:u,pointer:w,anyOf:JSON.stringify(d.anyOf)}):(delete k.anyOf,k)}function fs(n,u){return n==null||n.$ref==null?n:n.getRoot?n.getRoot().getRef(n):u.getRef(n)}function Ji(n){const u={type:Ge(n)};return u.type==="object"&&(u.properties={},Object.keys(n).forEach(d=>u.properties[d]=Ji(n[d]))),u.type==="array"&&n.length===1?u.items=Ji(n[0]):u.type==="array"&&(u.items=n.map(Ji)),u}function pn(n,u,d=n.rootSchema){const w=n.step(u,d,{},"#");return _t(w)?w.code==="one-of-error"?w.data.oneOf.map(E=>n.resolveRef(E)):w:[w]}const Fs={array:(n,u,d,w,E)=>{const k=Ge(d.items);if(k==="object")return Array.isArray(d.items.oneOf)?n.resolveOneOf(w[u],d.items,E):Array.isArray(d.items.anyOf)?n.resolveAnyOf(w[u],d.items,E):Array.isArray(d.items.allOf)?n.resolveAllOf(w[u],d.items,E):n.resolveRef(d.items);if(k==="array"){if(d.items[u]===!0)return Ji(w[u]);if(d.items[u]===!1)return Je.invalidDataError({key:u,value:w[u],pointer:E});if(d.items[u])return n.resolveRef(d.items[u]);if(d.additionalItems===!1)return Je.additionalItemsError({key:u,value:w[u],pointer:E});if(d.additionalItems===!0||d.additionalItems===void 0)return Ji(w[u]);if(Ge(d.additionalItems)==="object")return d.additionalItems;throw new Error(`Invalid schema ${JSON.stringify(d,null,4)} for ${JSON.stringify(w,null,4)}`)}return d.additionalItems!==!1&&w[u]?Ji(w[u]):new Error(`Invalid array schema for ${u} at ${E}`)},object:(n,u,d,w,E)=>{if(Array.isArray(d.oneOf)){const ie=n.resolveOneOf(w,d,E);if(d=Gt(d,ie),_t(d))return d}if(Array.isArray(d.anyOf)&&(d=n.resolveAnyOf(w,d,E),_t(d))||Array.isArray(d.allOf)&&(d=n.resolveAllOf(w,d,E),_t(d)))return d;let k;if(d.properties&&d.properties[u]!==void 0){if(k=n.resolveRef(d.properties[u]),_t(k))return k;if(k&&Array.isArray(k.oneOf)){let ie=n.resolveOneOf(w[u],k,`${E}/${u}`);const ce=k.oneOf.findIndex(le=>le===ie);return ie=JSON.parse(JSON.stringify(ie)),ie.variableSchema=!0,ie.oneOfIndex=ce,ie.oneOfSchema=k,ie}if(k)return k}const{dependencies:H}=d;if(Ge(H)==="object"){const ie=Object.keys(H).filter(ce=>Ge(H[ce])==="object");for(let ce=0,le=ie.length;ce<le;ce+=1){const Be=ie[ce],Ve=Di(n,u,H[Be],w,`${E}/${Be}`);if(!_t(Ve))return Ve}}if(d.if&&(d.then||d.else)){const ie=n.isValid(w,d.if);if(ie&&d.then){const ce=Di(n,u,d.then,w,E);if(typeof ce.type=="string"&&ce.type!=="error")return ce}if(!ie&&d.else){const ce=Di(n,u,d.else,w,E);if(typeof ce.type=="string"&&ce.type!=="error")return ce}}if(Ge(d.patternProperties)==="object"){let ie;const ce=Object.keys(d.patternProperties);for(let le=0,Be=ce.length;le<Be;le+=1)if(ie=new RegExp(ce[le]),ie.test(u))return d.patternProperties[ce[le]]}return Ge(d.additionalProperties)==="object"?d.additionalProperties:d.additionalProperties===!0?Ji(w[u]):Je.unknownPropertyError({property:u,value:w,pointer:`${E}`})}};function Di(n,u,d,w,E="#"){if(Array.isArray(d.type)){const ie=Ge(w);return d.type.includes(ie)?Fs[ie](n,`${u}`,d,w,E):n.errors.typeError({value:w,pointer:E,expected:d.type,received:ie})}const k=d.type||Ge(w),H=Fs[k];return H?H(n,`${u}`,d,w,E):new Error(`Unsupported schema type ${d.type} for key ${u}`)}var no={array:(n,u,d,w)=>n.typeKeywords.array.filter(E=>u&&u[E]!=null).map(E=>n.validateKeyword[E](n,u,d,w)),object:(n,u,d,w)=>n.typeKeywords.object.filter(E=>u&&u[E]!=null).map(E=>n.validateKeyword[E](n,u,d,w)),string:(n,u,d,w)=>n.typeKeywords.string.filter(E=>u&&u[E]!=null).map(E=>n.validateKeyword[E](n,u,d,w)),integer:(n,u,d,w)=>n.typeKeywords.number.filter(E=>u&&u[E]!=null).map(E=>n.validateKeyword[E](n,u,d,w)),number:(n,u,d,w)=>n.typeKeywords.number.filter(E=>u&&u[E]!=null).map(E=>n.validateKeyword[E](n,u,d,w)),boolean:(n,u,d,w)=>n.typeKeywords.boolean.filter(E=>u&&u[E]!=null).map(E=>n.validateKeyword[E](n,u,d,w)),null:(n,u,d,w)=>n.typeKeywords.null.filter(E=>u&&u[E]!=null).map(E=>n.validateKeyword[E](n,u,d,w))},qo=a(69378),Gi=a.n(qo);function En(n,u){const d=Ge(n);return d==="number"&&(u==="integer"||Array.isArray(u)&&u.includes("integer"))?Number.isInteger(n)||isNaN(n)?"integer":"number":d}function bi(n,u,d=n.rootSchema,w="#"){if(d=n.resolveRef(d),Ge(d)==="boolean")return d?[]:[n.errors.invalidDataError({value:u,pointer:w})];if(_t(d))return[d];if(d.const!==void 0)return Gi()(d.const,u)?[]:[n.errors.constError({value:u,expected:d.const,pointer:w})];const E=En(u,d.type),k=d.type||E;return E!==k&&(!Array.isArray(k)||!k.includes(E))?[n.errors.typeError({received:E,expected:k,value:u,pointer:w})]:n.validateType[E]==null?[n.errors.invalidTypeError({receivedType:E,pointer:w})]:mt(n.validateType[E](n,d,u,w)).filter(St)}class qn{constructor(u,d){this.remotes={},this.errors={},this.typeKeywords={},this.validateKeyword={},this.validateType={},this.validateFormat={},this.config=u,this.typeKeywords=JSON.parse(JSON.stringify(u.typeKeywords)),this.validateKeyword=Object.assign({},u.validateKeyword),this.validateType=Object.assign({},u.validateType),this.validateFormat=Object.assign({},u.validateFormat),this.errors=Object.assign({},u.errors),this.setSchema(d)}get rootSchema(){return this.__rootSchema}set rootSchema(u){u!=null&&(this.__rootSchema=this.config.compileSchema(this,u))}addRemoteSchema(u,d){this.config.addRemoteSchema(this,u,d)}compileSchema(u){var d;return this.config.compileSchema(this,u,(d=this.rootSchema)!==null&&d!==void 0?d:u)}createSchemaOf(u){return this.config.createSchemaOf(u)}each(u,d,w,E){return this.config.each(this,u,d,w,E)}eachSchema(u,d=this.rootSchema){return this.config.eachSchema(d,u)}getChildSchemaSelection(u,d){return this.config.getChildSchemaSelection(this,u,d)}getSchema(u="#",d,w){return this.config.getSchema(this,u,d,w)}getTemplate(u,d,w){return this.config.getTemplate(this,u,d,w)}isValid(u,d,w){return this.config.isValid(this,u,d,w)}resolveAnyOf(u,d,w){return this.config.resolveAnyOf(this,u,d,w)}resolveAllOf(u,d,w){return this.config.resolveAllOf(this,u,d,w)}resolveRef(u){return this.config.resolveRef(u,this.rootSchema)}resolveOneOf(u,d,w){return this.config.resolveOneOf(this,u,d,w)}setSchema(u){this.rootSchema=u}step(u,d,w,E){return this.config.step(this,u,d,w,E)}validate(u,d,w){return this.config.validate(this,u,d,w)}}const ko={typeKeywords:{array:["allOf","anyOf","contains","enum","if","items","maxItems","minItems","not","oneOf","uniqueItems"],boolean:["allOf","anyOf","enum","not","oneOf"],object:["additionalProperties","allOf","anyOf","dependencies","enum","format","if","maxProperties","minProperties","not","oneOf","patternProperties","properties","propertyNames","required"],string:["allOf","anyOf","enum","format","if","maxLength","minLength","not","oneOf","pattern"],number:["allOf","anyOf","enum","exclusiveMaximum","exclusiveMinimum","format","if","maximum","minimum","multipleOf","not","oneOf"],null:["allOf","anyOf","enum","format","not","oneOf"]},validateKeyword:Do,validateType:no,validateFormat:vi,errors:Je,addRemoteSchema:Ht,compileSchema:Xo,createSchemaOf:Ji,each:$s,eachSchema:Y,getChildSchemaSelection:pn,getSchema:tr,getTemplate:ci,isValid:lo,resolveAllOf:Z,resolveAnyOf:uo,resolveOneOf:ot,resolveRef:fs,step:Di,validate:bi};class xi extends qn{constructor(u,d={}){super(Gt(ko,d),u)}}const ei={...ko,resolveOneOf:De,resolveRef:Yt};class Es extends null{constructor(u,d={}){super(merge(ei,d),u)}}class ti{constructor(u,d){this.core=new Core(u),this.schema=u,this.data=d,this.cache={}}updateData(u){this.data=u,this.cache={}}updateSchema(u){this.schema=u,this.core.setSchema(u),this.cache={}}get(u,d){if(d){const ie=getSchema(this.core,u,d,this.schema);return copy(ie)}if(u==="#")return this.schema;if(this.cache[u])return this.cache[u];const w=gp.join(u,"..");let E=this.cache[w];E==null&&(E=getSchema(this.core,w,this.data,this.schema),E.variableSchema!==!0&&(this.cache[w]=copy(E)));const k=gp.split(u).pop();let H=getSchema(this.core,k,gp.get(this.data,w),this.cache[w]);return H=copy(H),H.variableSchema!==!0&&(this.cache[u]=H),H}}const co="__compiled",io="__ref",Wi="getRef",Zo="getRoot",ki=/(#|\/)+$/g;function ws(n,u,d=u,w=!1){if(!u||u[co]!==void 0)return u;const E={ids:{},remotes:n.remotes},k=JSON.stringify(u),H=JSON.parse(k);if(Object.defineProperty(H,co,{enumerable:!1,value:!0}),Object.defineProperty(H,Wi,{enumerable:!1,value:ai.bind(null,E,H)}),w===!1&&k.includes("$ref")===!1)return H;u!==d&&Object.defineProperty(H,"definitions",{enumerable:!1,value:Object.assign({},d.definitions,d.$defs,u.definitions,u.$defs)});const ie={},ce=()=>H;return Y(H,(le,Be)=>{var Ve;if(le.id){if(le.id.startsWith("http")&&/(allOf|anyOf|oneOf)\/\d+$/.test(Be)){const bt=Be.replace(/\/(allOf|anyOf|oneOf)\/\d+$/,""),kt=(0,Qe.get)(H,bt);le.id=(Ve=kt.id)!==null&&Ve!==void 0?Ve:le.id}E.ids[le.id.replace(ki,"")]=Be}Be=`#${Be}`.replace(/##+/,"#");const et=Be.replace(/\/[^/]+$/,""),ve=Be.replace(/\/[^/]+\/[^/]+$/,""),Ye=ie[et]||ie[ve],We=Wt(Ye,le.id);ie[Be]=We,E.ids[We]==null&&(E.ids[We]=Be),le.$ref&&!le[io]&&(Object.defineProperty(le,io,{enumerable:!1,value:Wt(We,le.$ref)}),Object.defineProperty(le,Zo,{enumerable:!1,value:ce}))}),H}var bo=ws,Ci={array:(n,u,d,w)=>n.typeKeywords.array.filter(E=>u&&u[E]!=null).map(E=>n.validateKeyword[E](n,u,d,w)),object:(n,u,d,w)=>n.typeKeywords.object.filter(E=>u&&u[E]!=null).map(E=>n.validateKeyword[E](n,u,d,w)),string:(n,u,d,w)=>n.typeKeywords.string.filter(E=>u&&u[E]!=null).map(E=>n.validateKeyword[E](n,u,d,w)),integer:(n,u,d,w)=>n.typeKeywords.number.filter(E=>u&&u[E]!=null).map(E=>n.validateKeyword[E](n,u,d,w)),number:(n,u,d,w)=>n.typeKeywords.number.filter(E=>u&&u[E]!=null).map(E=>n.validateKeyword[E](n,u,d,w)),boolean:(n,u,d,w)=>n.typeKeywords.boolean.filter(E=>u&&u[E]!=null).map(E=>n.validateKeyword[E](n,u,d,w)),null:(n,u,d,w)=>n.typeKeywords.null.filter(E=>u&&u[E]!=null).map(E=>n.validateKeyword[E](n,u,d,w))};const Dr={typeKeywords:{array:["allOf","anyOf","enum","items","maxItems","minItems","not","oneOf","uniqueItems"],boolean:["enum","not","allOf","anyOf","oneOf"],object:["additionalProperties","dependencies","enum","format","minProperties","maxProperties","patternProperties","properties","required","not","oneOf","allOf","anyOf"],string:["allOf","anyOf","enum","format","maxLength","minLength","not","oneOf","pattern"],number:["allOf","anyOf","enum","format","maximum","minimum","multipleOf","not","oneOf"],null:["allOf","anyOf","enum","format","not","oneOf"]},validateKeyword:Rs,validateType:Ci,validateFormat:vi,errors:Je,addRemoteSchema:Ht,compileSchema:bo,createSchemaOf:Ji,each:$s,eachSchema:Y,getChildSchemaSelection:pn,getSchema:tr,getTemplate:ci,isValid:lo,resolveAllOf:Z,resolveAnyOf:uo,resolveOneOf:ot,resolveRef:fs,step:Di,validate:bi};class li extends null{constructor(u,d={}){super(merge(Dr,d),u)}}const oo={typeKeywords:{array:["allOf","anyOf","contains","enum","if","items","maxItems","minItems","not","oneOf","uniqueItems"],boolean:["allOf","anyOf","enum","not","oneOf"],object:["additionalProperties","allOf","anyOf","dependencies","enum","format","if","maxProperties","minProperties","not","oneOf","patternProperties","properties","propertyNames","required"],string:["allOf","anyOf","enum","format","if","maxLength","minLength","not","oneOf","pattern"],number:["enum","exclusiveMaximum","exclusiveMinimum","format","maximum","minimum","multipleOf","not","oneOf","allOf","anyOf","if"],null:["allOf","anyOf","enum","format","not","oneOf"]},validateKeyword:Do,validateType:no,validateFormat:vi,errors:Je,addRemoteSchema:Ht,compileSchema:Xo,createSchemaOf:Ji,each:$s,eachSchema:Y,getChildSchemaSelection:pn,getSchema:tr,getTemplate:ci,isValid:lo,resolveAllOf:Z,resolveAnyOf:uo,resolveOneOf:ot,resolveRef:fs,step:Di,validate:bi};class Uo extends null{constructor(u,d={}){super(merge(oo,d),u)}}const Ks={strings:xe};var Wn=a(80236),zs=a(39362),Vo=a(19126),es=a.n(Vo),Os=a(64279),xs=a(60885),pt=a(52322),it=a(27292),Zi=a(90772),Mi=a(7279),Jr=a(89523),Or=a(64187),gr=a(42082);function zr(n,u,d){for(var w=-1,E=u.length,k={};++w<E;){var H=u[w],ie=(0,Jr.Z)(n,H);d(ie,H)&&(0,Or.Z)(k,(0,gr.Z)(H,n),ie)}return k}var wn=zr,An=a(12930);function fi(n,u){return wn(n,u,function(d,w){return(0,An.Z)(n,w)})}var gi=fi,So=a(5255),ds=(0,So.Z)(function(n,u){return n==null?{}:gi(n,u)}),Zn=ds,Nn=a(55487),Aa=a(7921),ts=a(93122),rs=a(25513),Ua=a(37164),Pa=a(1284),Ko=a(39075);function fo(){return fo=Object.assign||function(n){for(var u=1;u<arguments.length;u++){var d=arguments[u];for(var w in d)Object.prototype.hasOwnProperty.call(d,w)&&(n[w]=d[w])}return n},fo.apply(this,arguments)}const ho=["children","options"],hs=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","className","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce((n,u)=>(n[u.toLowerCase()]=u,n),{for:"htmlFor"}),js={amp:"&",apos:"'",gt:">",lt:"<",nbsp:"\xA0",quot:"\u201C"},na=["style","script"],Va=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,ns=/mailto:/i,Hs=/\n{2,}$/,ha=/^( *>[^\n]+(\n[^\n]+)*\n*)+\n{2,}/,ma=/^ *> ?/gm,yo=/^ {2,}\n/,Ta=/^(?:( *[-*_])){3,} *(?:\n *)+\n/,pa=/^\s*(`{3,}|~{3,}) *(\S+)?([^\n]*?)?\n([\s\S]+?)\s*\1 *(?:\n *)*\n?/,ia=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,Js=/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,Gs=/^(?:\n *)*\n/,Eo=/\r\n?/g,Ns=/^\[\^([^\]]+)](:.*)\n/,Ys=/^\[\^([^\]]+)]/,oa=/\f/g,zo=/^\s*?\[(x|\s)\]/,Ls=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,Mo=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,sa=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?([^>]*)\/{0}>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1)[\s\S])*?)<\/\1>\n*/i,_a=/&([a-zA-Z]+);/g,Da=/^<!--[\s\S]*?(?:-->)/,ka=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,is=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,so=/^\{.*\}$/,$o=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,Qa=/^<([^ >]+@[^ >]+)>/,aa=/^<([^ >]+:\/[^ >]+)>/,ga=/-([a-z])?/gi,Ui=/^(.*\|?.*)\n *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*)\n?/,ya=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,mo=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,Xs=/^\[([^\]]*)\] ?\[([^\]]*)\]/,vo=/(\[|\])/g,la=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,ms=/\t/g,ps=/^ *\| */,Ho=/(^ *\||\| *$)/g,va=/ *$/,Io=/^ *:-+: *$/,Yi=/^ *:-+ *$/,Cs=/^ *-+: *$/,Jo=/^([*_])\1((?:\[.*?\][([].*?[)\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~+.*?~+|.)*?)\1\1(?!\1)/,Ma=/^([*_])((?:\[.*?\][([].*?[)\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~+.*?~+|.)*?)\1(?!\1|\w)/,gs=/^==((?:\[.*?\]|<.*?>(?:.*?<.*?>)?|`.*?`|.)*?)==/,ba=/^~~((?:\[.*?\]|<.*?>(?:.*?<.*?>)?|`.*?`|.)*?)~~/,Ka=/^\\([^0-9A-Za-z\s])/,As=/^[\s\S]+?(?=[^0-9A-Z\s\u00c0-\uffff&;.()'"]|\d+\.|\n\n| {2,}\n|\w+:\S|$)/i,za=/^\n+/,Ai=/^([ \t]*)/,ys=/\\([^\\])/g,Ps=/ *\n+$/,vs=/(?:^|\n)( *)$/,$a="(?:\\d+\\.)",Ts="(?:[*+-])";function Bs(n){return"( *)("+(n===1?$a:Ts)+") +"}const ua=Bs(1),Ws=Bs(2);function Qs(n){return new RegExp("^"+(n===1?ua:Ws))}const Ia=Qs(1),Ro=Qs(2);function Go(n){return new RegExp("^"+(n===1?ua:Ws)+"[^\\n]*(?:\\n(?!\\1"+(n===1?$a:Ts)+" )[^\\n]*)*(\\n|$)","gm")}const _s=Go(1),Ra=Go(2);function Zs(n){const u=n===1?$a:Ts;return new RegExp("^( *)("+u+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+u+" (?!"+u+" ))\\n*|\\s*\\n*$)")}const Ds=Zs(1),C=Zs(2);function U(n,u){const d=u===1,w=d?Ds:C,E=d?_s:Ra,k=d?Ia:Ro;return{t(H,ie,ce){const le=vs.exec(ce);return le&&(ie.o||!ie._&&!ie.u)?w.exec(H=le[1]+H):null},i:On.HIGH,l(H,ie,ce){const le=d?+H[2]:void 0,Be=H[0].replace(Hs,`
`).match(E);let Ve=!1;return{p:Be.map(function(et,ve){const Ye=k.exec(et)[0].length,We=new RegExp("^ {1,"+Ye+"}","gm"),bt=et.replace(We,"").replace(k,""),kt=ve===Be.length-1,zt=bt.indexOf(`

`)!==-1||kt&&Ve;Ve=zt;const It=ce._,nr=ce.o;let mr;ce.o=!0,zt?(ce._=!1,mr=bt.replace(Ps,`

`)):(ce._=!0,mr=bt.replace(Ps,""));const kr=ie(mr,ce);return ce._=It,ce.o=nr,kr}),m:d,g:le}},h:(H,ie,ce)=>n(H.m?"ol":"ul",{key:ce.k,start:H.g},H.p.map(function(le,Be){return n("li",{key:Be},ie(le,ce))}))}}const ne=/^\[([^\]]*)]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/,we=/^!\[([^\]]*)]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/,_e=[ha,pa,ia,Ls,Mo,Da,Ui,_s,Ds,Ra,C],Fe=[..._e,/^[^\n]+(?:  \n|\n{2,})/,sa,is];function at(n){return n.replace(/[ÀÁÂÃÄÅàáâãäåæÆ]/g,"a").replace(/[çÇ]/g,"c").replace(/[ðÐ]/g,"d").replace(/[ÈÉÊËéèêë]/g,"e").replace(/[ÏïÎîÍíÌì]/g,"i").replace(/[Ññ]/g,"n").replace(/[øØœŒÕõÔôÓóÒò]/g,"o").replace(/[ÜüÛûÚúÙù]/g,"u").replace(/[ŸÿÝý]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function Rt(n){return Cs.test(n)?"right":Io.test(n)?"center":Yi.test(n)?"left":null}function Pt(n,u,d){const w=d.v;d.v=!0;const E=u(n.trim(),d);d.v=w;let k=[[]];return E.forEach(function(H,ie){H.type==="tableSeparator"?ie!==0&&ie!==E.length-1&&k.push([]):(H.type!=="text"||E[ie+1]!=null&&E[ie+1].type!=="tableSeparator"||(H.$=H.$.replace(va,"")),k[k.length-1].push(H))}),k}function ar(n,u,d){d._=!0;const w=Pt(n[1],u,d),E=n[2].replace(Ho,"").split("|").map(Rt),k=function(H,ie,ce){return H.trim().split(`
`).map(function(le){return Pt(le,ie,ce)})}(n[3],u,d);return d._=!1,{S:E,A:k,L:w,type:"table"}}function vr(n,u){return n.S[u]==null?{}:{textAlign:n.S[u]}}function Ar(n){return function(u,d){return d._?n.exec(u):null}}function Wr(n){return function(u,d){return d._||d.u?n.exec(u):null}}function xn(n){return function(u,d){return d._||d.u?null:n.exec(u)}}function Un(n){return function(u){return n.exec(u)}}function $n(n,u,d){if(u._||u.u||d&&!d.endsWith(`
`))return null;let w="";n.split(`
`).every(k=>!_e.some(H=>H.test(k))&&(w+=k+`
`,k.trim()));const E=w.trimEnd();return E==""?null:[w,E]}function Pn(n){try{if(decodeURIComponent(n).replace(/[^A-Za-z0-9/:]/g,"").match(/^\s*(javascript|vbscript|data(?!:image)):/i))return null}catch{return null}return n}function di(n){return n.replace(ys,"$1")}function Si(n,u,d){const w=d._||!1,E=d.u||!1;d._=!0,d.u=!0;const k=n(u,d);return d._=w,d.u=E,k}function wo(n,u,d){const w=d._||!1,E=d.u||!1;d._=!1,d.u=!0;const k=n(u,d);return d._=w,d.u=E,k}function Vi(n,u,d){return d._=!1,n(u+`

`,d)}const Oo=(n,u,d)=>({$:Si(u,n[1],d)});function Vn(){return{}}function Ei(){return null}function os(...n){return n.filter(Boolean).join(" ")}function Fa(n,u,d){let w=n;const E=u.split(".");for(;E.length&&(w=w[E[0]],w!==void 0);)E.shift();return w||d}var On;function qs(n,u={}){u.overrides=u.overrides||{},u.slugify=u.slugify||at,u.namedCodesToUnicode=u.namedCodesToUnicode?fo({},js,u.namedCodesToUnicode):js;const d=u.createElement||M.createElement;function w(ve,Ye,...We){const bt=Fa(u.overrides,`${ve}.props`,{});return d(function(kt,zt){const It=Fa(zt,kt);return It?typeof It=="function"||typeof It=="object"&&"render"in It?It:Fa(zt,`${kt}.component`,kt):kt}(ve,u.overrides),fo({},Ye,bt,{className:os(Ye==null?void 0:Ye.className,bt.className)||void 0}),...We)}function E(ve){let Ye=!1;u.forceInline?Ye=!0:u.forceBlock||(Ye=la.test(ve)===!1);const We=Be(le(Ye?ve:`${ve.trimEnd().replace(za,"")}

`,{_:Ye}));for(;typeof We[We.length-1]=="string"&&!We[We.length-1].trim();)We.pop();if(u.wrapper===null)return We;const bt=u.wrapper||(Ye?"span":"div");let kt;if(We.length>1||u.forceWrapper)kt=We;else{if(We.length===1)return kt=We[0],typeof kt=="string"?w("span",{key:"outer"},kt):kt;kt=null}return M.createElement(bt,{key:"outer"},kt)}function k(ve){const Ye=ve.match(Va);return Ye?Ye.reduce(function(We,bt,kt){const zt=bt.indexOf("=");if(zt!==-1){const It=function(br){return br.indexOf("-")!==-1&&br.match(ka)===null&&(br=br.replace(ga,function(dr,Yr){return Yr.toUpperCase()})),br}(bt.slice(0,zt)).trim(),nr=function(br){const dr=br[0];return(dr==='"'||dr==="'")&&br.length>=2&&br[br.length-1]===dr?br.slice(1,-1):br}(bt.slice(zt+1).trim()),mr=hs[It]||It,kr=We[mr]=function(br,dr){return br==="style"?dr.split(/;\s?/).reduce(function(Yr,bn){const Mr=bn.slice(0,bn.indexOf(":"));return Yr[Mr.replace(/(-[a-z])/g,sn=>sn[1].toUpperCase())]=bn.slice(Mr.length+1).trim(),Yr},{}):br==="href"?Pn(dr):(dr.match(so)&&(dr=dr.slice(1,dr.length-1)),dr==="true"||dr!=="false"&&dr)}(It,nr);typeof kr=="string"&&(sa.test(kr)||is.test(kr))&&(We[mr]=M.cloneElement(E(kr.trim()),{key:kt}))}else bt!=="style"&&(We[hs[bt]||bt]=!0);return We},{}):null}const H=[],ie={},ce={blockQuote:{t:xn(ha),i:On.HIGH,l:(ve,Ye,We)=>({$:Ye(ve[0].replace(ma,""),We)}),h:(ve,Ye,We)=>w("blockquote",{key:We.k},Ye(ve.$,We))},breakLine:{t:Un(yo),i:On.HIGH,l:Vn,h:(ve,Ye,We)=>w("br",{key:We.k})},breakThematic:{t:xn(Ta),i:On.HIGH,l:Vn,h:(ve,Ye,We)=>w("hr",{key:We.k})},codeBlock:{t:xn(ia),i:On.MAX,l:ve=>({$:ve[0].replace(/^ {4}/gm,"").replace(/\n+$/,""),M:void 0}),h:(ve,Ye,We)=>w("pre",{key:We.k},w("code",fo({},ve.I,{className:ve.M?`lang-${ve.M}`:""}),ve.$))},codeFenced:{t:xn(pa),i:On.MAX,l:ve=>({I:k(ve[3]||""),$:ve[4],M:ve[2]||void 0,type:"codeBlock"})},codeInline:{t:Wr(Js),i:On.LOW,l:ve=>({$:ve[2]}),h:(ve,Ye,We)=>w("code",{key:We.k},ve.$)},footnote:{t:xn(Ns),i:On.MAX,l:ve=>(H.push({O:ve[2],B:ve[1]}),{}),h:Ei},footnoteReference:{t:Ar(Ys),i:On.HIGH,l:ve=>({$:ve[1],R:`#${u.slugify(ve[1])}`}),h:(ve,Ye,We)=>w("a",{key:We.k,href:Pn(ve.R)},w("sup",{key:We.k},ve.$))},gfmTask:{t:Ar(zo),i:On.HIGH,l:ve=>({T:ve[1].toLowerCase()==="x"}),h:(ve,Ye,We)=>w("input",{checked:ve.T,key:We.k,readOnly:!0,type:"checkbox"})},heading:{t:xn(Ls),i:On.HIGH,l:(ve,Ye,We)=>({$:Si(Ye,ve[2],We),j:u.slugify(ve[2]),C:ve[1].length}),h:(ve,Ye,We)=>w(`h${ve.C}`,{id:ve.j,key:We.k},Ye(ve.$,We))},headingSetext:{t:xn(Mo),i:On.MAX,l:(ve,Ye,We)=>({$:Si(Ye,ve[1],We),C:ve[2]==="="?1:2,type:"heading"})},htmlComment:{t:Un(Da),i:On.HIGH,l:()=>({}),h:Ei},image:{t:Wr(we),i:On.HIGH,l:ve=>({D:ve[1],R:di(ve[2]),N:ve[3]}),h:(ve,Ye,We)=>w("img",{key:We.k,alt:ve.D||void 0,title:ve.N||void 0,src:Pn(ve.R)})},link:{t:Ar(ne),i:On.LOW,l:(ve,Ye,We)=>({$:wo(Ye,ve[1],We),R:di(ve[2]),N:ve[3]}),h:(ve,Ye,We)=>w("a",{key:We.k,href:Pn(ve.R),title:ve.N},Ye(ve.$,We))},linkAngleBraceStyleDetector:{t:Ar(aa),i:On.MAX,l:ve=>({$:[{$:ve[1],type:"text"}],R:ve[1],type:"link"})},linkBareUrlDetector:{t:(ve,Ye)=>Ye.Z?null:Ar($o)(ve,Ye),i:On.MAX,l:ve=>({$:[{$:ve[1],type:"text"}],R:ve[1],N:void 0,type:"link"})},linkMailtoDetector:{t:Ar(Qa),i:On.MAX,l(ve){let Ye=ve[1],We=ve[1];return ns.test(We)||(We="mailto:"+We),{$:[{$:Ye.replace("mailto:",""),type:"text"}],R:We,type:"link"}}},orderedList:U(w,1),unorderedList:U(w,2),newlineCoalescer:{t:xn(Gs),i:On.LOW,l:Vn,h:()=>`
`},paragraph:{t:$n,i:On.LOW,l:Oo,h:(ve,Ye,We)=>w("p",{key:We.k},Ye(ve.$,We))},ref:{t:Ar(ya),i:On.MAX,l:ve=>(ie[ve[1]]={R:ve[2],N:ve[4]},{}),h:Ei},refImage:{t:Wr(mo),i:On.MAX,l:ve=>({D:ve[1]||void 0,F:ve[2]}),h:(ve,Ye,We)=>w("img",{key:We.k,alt:ve.D,src:Pn(ie[ve.F].R),title:ie[ve.F].N})},refLink:{t:Ar(Xs),i:On.MAX,l:(ve,Ye,We)=>({$:Ye(ve[1],We),P:Ye(ve[0].replace(vo,"\\$1"),We),F:ve[2]}),h:(ve,Ye,We)=>ie[ve.F]?w("a",{key:We.k,href:Pn(ie[ve.F].R),title:ie[ve.F].N},Ye(ve.$,We)):w("span",{key:We.k},Ye(ve.P,We))},table:{t:xn(Ui),i:On.HIGH,l:ar,h:(ve,Ye,We)=>w("table",{key:We.k},w("thead",null,w("tr",null,ve.L.map(function(bt,kt){return w("th",{key:kt,style:vr(ve,kt)},Ye(bt,We))}))),w("tbody",null,ve.A.map(function(bt,kt){return w("tr",{key:kt},bt.map(function(zt,It){return w("td",{key:It,style:vr(ve,It)},Ye(zt,We))}))})))},tableSeparator:{t:function(ve,Ye){return Ye.v?ps.exec(ve):null},i:On.HIGH,l:function(){return{type:"tableSeparator"}},h:()=>" | "},text:{t:Un(As),i:On.MIN,l:ve=>({$:ve[0].replace(_a,(Ye,We)=>u.namedCodesToUnicode[We]?u.namedCodesToUnicode[We]:Ye)}),h:ve=>ve.$},textBolded:{t:Wr(Jo),i:On.MED,l:(ve,Ye,We)=>({$:Ye(ve[2],We)}),h:(ve,Ye,We)=>w("strong",{key:We.k},Ye(ve.$,We))},textEmphasized:{t:Wr(Ma),i:On.LOW,l:(ve,Ye,We)=>({$:Ye(ve[2],We)}),h:(ve,Ye,We)=>w("em",{key:We.k},Ye(ve.$,We))},textEscaped:{t:Wr(Ka),i:On.HIGH,l:ve=>({$:ve[1],type:"text"})},textMarked:{t:Wr(gs),i:On.LOW,l:Oo,h:(ve,Ye,We)=>w("mark",{key:We.k},Ye(ve.$,We))},textStrikethroughed:{t:Wr(ba),i:On.LOW,l:Oo,h:(ve,Ye,We)=>w("del",{key:We.k},Ye(ve.$,We))}};u.disableParsingRawHTML!==!0&&(ce.htmlBlock={t:Un(sa),i:On.HIGH,l(ve,Ye,We){const[,bt]=ve[3].match(Ai),kt=new RegExp(`^${bt}`,"gm"),zt=ve[3].replace(kt,""),It=(nr=zt,Fe.some(dr=>dr.test(nr))?Vi:Si);var nr;const mr=ve[1].toLowerCase(),kr=na.indexOf(mr)!==-1;We.Z=We.Z||mr==="a";const br=kr?ve[3]:It(Ye,zt,We);return We.Z=!1,{I:k(ve[2]),$:br,G:kr,H:kr?mr:ve[1]}},h:(ve,Ye,We)=>w(ve.H,fo({key:We.k},ve.I),ve.G?ve.$:Ye(ve.$,We))},ce.htmlSelfClosing={t:Un(is),i:On.HIGH,l:ve=>({I:k(ve[2]||""),H:ve[1]}),h:(ve,Ye,We)=>w(ve.H,fo({},ve.I,{key:We.k}))});const le=function(ve){let Ye=Object.keys(ve);function We(bt,kt){let zt=[],It="";for(;bt;){let nr=0;for(;nr<Ye.length;){const mr=Ye[nr],kr=ve[mr],br=kr.t(bt,kt,It);if(br){const dr=br[0];bt=bt.substring(dr.length);const Yr=kr.l(br,We,kt);Yr.type==null&&(Yr.type=mr),zt.push(Yr),It=dr;break}nr++}}return zt}return Ye.sort(function(bt,kt){let zt=ve[bt].i,It=ve[kt].i;return zt!==It?zt-It:bt<kt?-1:1}),function(bt,kt){return We(function(zt){return zt.replace(Eo,`
`).replace(oa,"").replace(ms,"    ")}(bt),kt)}}(ce),Be=(Ve=function(ve){return function(Ye,We,bt){return ve[Ye.type].h(Ye,We,bt)}}(ce),function ve(Ye,We={}){if(Array.isArray(Ye)){const bt=We.k,kt=[];let zt=!1;for(let It=0;It<Ye.length;It++){We.k=It;const nr=ve(Ye[It],We),mr=typeof nr=="string";mr&&zt?kt[kt.length-1]+=nr:nr!==null&&kt.push(nr),zt=mr}return We.k=bt,kt}return Ve(Ye,ve,We)});var Ve;const et=E(n);return H.length?w("div",null,et,w("footer",{key:"footer"},H.map(function(ve){return w("div",{id:u.slugify(ve.B),key:ve.B},ve.B,Be(le(ve.O,{_:!0})))}))):et}(function(n){n[n.MAX=0]="MAX",n[n.HIGH=1]="HIGH",n[n.MED=2]="MED",n[n.LOW=3]="LOW",n[n.MIN=4]="MIN"})(On||(On={}));var ss=n=>{let{children:u,options:d}=n,w=function(E,k){if(E==null)return{};var H,ie,ce={},le=Object.keys(E);for(ie=0;ie<le.length;ie++)k.indexOf(H=le[ie])>=0||(ce[H]=E[H]);return ce}(n,ho);return M.cloneElement(qs(u,d),w)},Ha=a(6279),ol=a(56764);function as(n,u){return n==null?!0:(0,ol.Z)(n,u)}var Sa=as;function ja(n,u){for(var d=0;d<u.length;d++){var w=u[d];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(n,La(w.key),w)}}function po(n,u,d){return u&&ja(n.prototype,u),d&&ja(n,d),Object.defineProperty(n,"prototype",{writable:!1}),n}function Qr(){return Qr=Object.assign?Object.assign.bind():function(n){for(var u=1;u<arguments.length;u++){var d=arguments[u];for(var w in d)Object.prototype.hasOwnProperty.call(d,w)&&(n[w]=d[w])}return n},Qr.apply(this,arguments)}function Na(n,u){n.prototype=Object.create(u.prototype),n.prototype.constructor=n,qa(n,u)}function qa(n,u){return qa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,E){return w.__proto__=E,w},qa(n,u)}function Xi(n,u){if(n==null)return{};var d={},w=Object.keys(n),E,k;for(k=0;k<w.length;k++)E=w[k],!(u.indexOf(E)>=0)&&(d[E]=n[E]);return d}function el(n,u){if(typeof n!="object"||n===null)return n;var d=n[Symbol.toPrimitive];if(d!==void 0){var w=d.call(n,u||"default");if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(n)}function La(n){var u=el(n,"string");return typeof u=="symbol"?u:String(u)}var s=["widget","title"],h=["widget","title"],x=["widget","title"];function g(){return(0,Ua.x0)()}function L(n){return Array.isArray(n)?n.map(function(u){return{key:g(),item:u}}):[]}function he(n){return Array.isArray(n)?n.map(function(u){return u.item}):[]}var qe=function(n){Na(u,n);function u(w){var E;E=n.call(this,w)||this,E._getNewFormDataRow=function(){var ce=E.props,le=ce.schema,Be=ce.registry,Ve=Be.schemaUtils,et=le.items;return(0,it.FZ)(le)&&(0,it.TE)(le)&&(et=le.additionalItems),Ve.getDefaultFormState(et)},E.onAddClick=function(ce){E._handleAddClick(ce)},E.onAddIndexClick=function(ce){return function(le){E._handleAddClick(le,ce)}},E.onCopyIndexClick=function(ce){return function(le){le&&le.preventDefault();var Be=E.props.onChange,Ve=E.state.keyedFormData,et={key:g(),item:(0,Aa.Z)(Ve[ce].item)},ve=[].concat(Ve);ce!==void 0?ve.splice(ce+1,0,et):ve.push(et),E.setState({keyedFormData:ve,updatedKeyedFormData:!0},function(){return Be(he(ve))})}},E.onDropIndexClick=function(ce){return function(le){le&&le.preventDefault();var Be=E.props,Ve=Be.onChange,et=Be.errorSchema,ve=E.state.keyedFormData,Ye;if(et){Ye={};for(var We in et){var bt=parseInt(We);bt<ce?(0,rs.Z)(Ye,[bt],et[We]):bt>ce&&(0,rs.Z)(Ye,[bt-1],et[We])}}var kt=ve.filter(function(zt,It){return It!==ce});E.setState({keyedFormData:kt,updatedKeyedFormData:!0},function(){return Ve(he(kt),Ye)})}},E.onReorderClick=function(ce,le){return function(Be){Be&&(Be.preventDefault(),Be.currentTarget.blur());var Ve=E.props,et=Ve.onChange,ve=Ve.errorSchema,Ye;if(ve){Ye={};for(var We in ve){var bt=parseInt(We);bt==ce?(0,rs.Z)(Ye,[le],ve[ce]):bt==le?(0,rs.Z)(Ye,[ce],ve[le]):(0,rs.Z)(Ye,[We],ve[bt])}}var kt=E.state.keyedFormData;function zt(){var nr=kt.slice();return nr.splice(ce,1),nr.splice(le,0,kt[ce]),nr}var It=zt();E.setState({keyedFormData:It},function(){return et(he(It),Ye)})}},E.onChangeForIndex=function(ce){return function(le,Be,Ve){var et,ve=E.props,Ye=ve.formData,We=ve.onChange,bt=ve.errorSchema,kt=Array.isArray(Ye)?Ye:[],zt=kt.map(function(It,nr){var mr=typeof le=="undefined"?null:le;return ce===nr?mr:It});We(zt,bt&&bt&&Qr({},bt,(et={},et[ce]=Be,et)),Ve)}},E.onSelectChange=function(ce){var le=E.props,Be=le.onChange,Ve=le.idSchema;Be(ce,void 0,Ve&&Ve.$id)};var k=w.formData,H=k===void 0?[]:k,ie=L(H);return E.state={keyedFormData:ie,updatedKeyedFormData:!1},E}u.getDerivedStateFromProps=function(E,k){if(k.updatedKeyedFormData)return{updatedKeyedFormData:!1};var H=Array.isArray(E.formData)?E.formData:[],ie=k.keyedFormData||[],ce=H.length===ie.length?ie.map(function(le,Be){return{key:le.key,item:H[Be]}}):L(H);return{keyedFormData:ce}};var d=u.prototype;return d.isItemRequired=function(E){return Array.isArray(E.type)?!E.type.includes("null"):E.type!=="null"},d.canAddItem=function(E){var k=this.props,H=k.schema,ie=k.uiSchema,ce=k.registry,le=(0,it.LI)(ie,ce.globalUiOptions),Be=le.addable;return Be!==!1&&(H.maxItems!==void 0?Be=E.length<H.maxItems:Be=!0),Be},d._handleAddClick=function(E,k){E&&E.preventDefault();var H=this.props.onChange,ie=this.state.keyedFormData,ce={key:g(),item:this._getNewFormDataRow()},le=[].concat(ie);k!==void 0?le.splice(k,0,ce):le.push(ce),this.setState({keyedFormData:le,updatedKeyedFormData:!0},function(){return H(he(le))})},d.render=function(){var E=this.props,k=E.schema,H=E.uiSchema,ie=E.idSchema,ce=E.registry,le=ce.schemaUtils,Be=ce.translateString;if(!(it.YU in k)){var Ve=(0,it.LI)(H),et=(0,it.t4)("UnsupportedFieldTemplate",ce,Ve);return(0,pt.jsx)(et,{schema:k,idSchema:ie,reason:Be(it.g8.MissingItems),registry:ce})}return le.isMultiSelect(k)?this.renderMultiSelect():(0,it.A7)(H)?this.renderCustomWidget():(0,it.FZ)(k)?this.renderFixedArray():le.isFilesArray(k,H)?this.renderFiles():this.renderNormalArray()},d.renderNormalArray=function(){var E=this,k=this.props,H=k.schema,ie=k.uiSchema,ce=ie===void 0?{}:ie,le=k.errorSchema,Be=k.idSchema,Ve=k.name,et=k.disabled,ve=et===void 0?!1:et,Ye=k.readonly,We=Ye===void 0?!1:Ye,bt=k.autofocus,kt=bt===void 0?!1:bt,zt=k.required,It=zt===void 0?!1:zt,nr=k.registry,mr=k.onBlur,kr=k.onFocus,br=k.idPrefix,dr=k.idSeparator,Yr=dr===void 0?"_":dr,bn=k.rawErrors,Mr=this.state.keyedFormData,sn=H.title===void 0?Ve:H.title,Fn=nr.schemaUtils,Bn=nr.formContext,Rn=(0,it.LI)(ce),ni=(0,ts.Z)(H.items)?H.items:{},$i=Fn.retrieveSchema(ni),ii=he(this.state.keyedFormData),oi=this.canAddItem(ii),ui={canAdd:oi,items:Mr.map(function(No,Qi){var bs=No.key,Vs=No.item,Lo=Vs,Ii=Fn.retrieveSchema(ni,Lo),si=le?le[Qi]:void 0,ls=Be.$id+Yr+Qi,Xa=Fn.toIdSchema(Ii,ls,Lo,br,Yr);return E.renderArrayFieldItem({key:bs,index:Qi,name:Ve&&Ve+"-"+Qi,canAdd:oi,canMoveUp:Qi>0,canMoveDown:Qi<ii.length-1,itemSchema:Ii,itemIdSchema:Xa,itemErrorSchema:si,itemData:Lo,itemUiSchema:ce.items,autofocus:kt&&Qi===0,onBlur:mr,onFocus:kr,rawErrors:bn,totalItems:Mr.length})}),className:"field field-array field-array-of-"+$i.type,disabled:ve,idSchema:Be,uiSchema:ce,onAddClick:this.onAddClick,readonly:We,required:It,schema:H,title:sn,formContext:Bn,formData:ii,rawErrors:bn,registry:nr},zi=(0,it.t4)("ArrayFieldTemplate",nr,Rn);return(0,pt.jsx)(zi,Qr({},ui))},d.renderCustomWidget=function(){var E,k=this.props,H=k.schema,ie=k.idSchema,ce=k.uiSchema,le=k.disabled,Be=le===void 0?!1:le,Ve=k.readonly,et=Ve===void 0?!1:Ve,ve=k.autofocus,Ye=ve===void 0?!1:ve,We=k.required,bt=We===void 0?!1:We,kt=k.hideError,zt=k.placeholder,It=k.onBlur,nr=k.onFocus,mr=k.formData,kr=mr===void 0?[]:mr,br=k.registry,dr=k.rawErrors,Yr=k.name,bn=br.widgets,Mr=br.formContext,sn=br.globalUiOptions,Fn=br.schemaUtils,Bn=(0,it.LI)(ce,sn),Rn=Bn.widget,ni=Bn.title,$i=Xi(Bn,s),ii=(0,it.us)(H,Rn,bn),oi=(E=ni!=null?ni:H.title)!=null?E:Yr,ui=Fn.getDisplayLabel(H,ce,sn);return(0,pt.jsx)(ii,{id:ie.$id,name:Yr,multiple:!0,onChange:this.onSelectChange,onBlur:It,onFocus:nr,options:$i,schema:H,uiSchema:ce,registry:br,value:kr,disabled:Be,readonly:et,hideError:kt,required:bt,label:oi,hideLabel:!ui,placeholder:zt,formContext:Mr,autofocus:Ye,rawErrors:dr})},d.renderMultiSelect=function(){var E,k=this.props,H=k.schema,ie=k.idSchema,ce=k.uiSchema,le=k.formData,Be=le===void 0?[]:le,Ve=k.disabled,et=Ve===void 0?!1:Ve,ve=k.readonly,Ye=ve===void 0?!1:ve,We=k.autofocus,bt=We===void 0?!1:We,kt=k.required,zt=kt===void 0?!1:kt,It=k.placeholder,nr=k.onBlur,mr=k.onFocus,kr=k.registry,br=k.rawErrors,dr=k.name,Yr=kr.widgets,bn=kr.schemaUtils,Mr=kr.formContext,sn=kr.globalUiOptions,Fn=bn.retrieveSchema(H.items,Be),Bn=(0,it.pp)(Fn),Rn=(0,it.LI)(ce,sn),ni=Rn.widget,$i=ni===void 0?"select":ni,ii=Rn.title,oi=Xi(Rn,h),ui=(0,it.us)(H,$i,Yr),zi=(E=ii!=null?ii:H.title)!=null?E:dr,No=bn.getDisplayLabel(H,ce,sn);return(0,pt.jsx)(ui,{id:ie.$id,name:dr,multiple:!0,onChange:this.onSelectChange,onBlur:nr,onFocus:mr,options:Qr({},oi,{enumOptions:Bn}),schema:H,uiSchema:ce,registry:kr,value:Be,disabled:et,readonly:Ye,required:zt,label:zi,hideLabel:!No,placeholder:It,formContext:Mr,autofocus:bt,rawErrors:br})},d.renderFiles=function(){var E,k=this.props,H=k.schema,ie=k.uiSchema,ce=k.idSchema,le=k.name,Be=k.disabled,Ve=Be===void 0?!1:Be,et=k.readonly,ve=et===void 0?!1:et,Ye=k.autofocus,We=Ye===void 0?!1:Ye,bt=k.required,kt=bt===void 0?!1:bt,zt=k.onBlur,It=k.onFocus,nr=k.registry,mr=k.formData,kr=mr===void 0?[]:mr,br=k.rawErrors,dr=nr.widgets,Yr=nr.formContext,bn=nr.globalUiOptions,Mr=nr.schemaUtils,sn=(0,it.LI)(ie,bn),Fn=sn.widget,Bn=Fn===void 0?"files":Fn,Rn=sn.title,ni=Xi(sn,x),$i=(0,it.us)(H,Bn,dr),ii=(E=Rn!=null?Rn:H.title)!=null?E:le,oi=Mr.getDisplayLabel(H,ie,bn);return(0,pt.jsx)($i,{options:ni,id:ce.$id,name:le,multiple:!0,onChange:this.onSelectChange,onBlur:zt,onFocus:It,schema:H,uiSchema:ie,value:kr,disabled:Ve,readonly:ve,required:kt,registry:nr,formContext:Yr,autofocus:We,rawErrors:br,label:ii,hideLabel:!oi})},d.renderFixedArray=function(){var E=this,k=this.props,H=k.schema,ie=k.uiSchema,ce=ie===void 0?{}:ie,le=k.formData,Be=le===void 0?[]:le,Ve=k.errorSchema,et=k.idPrefix,ve=k.idSeparator,Ye=ve===void 0?"_":ve,We=k.idSchema,bt=k.name,kt=k.disabled,zt=kt===void 0?!1:kt,It=k.readonly,nr=It===void 0?!1:It,mr=k.autofocus,kr=mr===void 0?!1:mr,br=k.required,dr=br===void 0?!1:br,Yr=k.registry,bn=k.onBlur,Mr=k.onFocus,sn=k.rawErrors,Fn=this.state.keyedFormData,Bn=this.props.formData,Rn=Bn===void 0?[]:Bn,ni=H.title||bt,$i=(0,it.LI)(ce),ii=Yr.schemaUtils,oi=Yr.formContext,ui=(0,ts.Z)(H.items)?H.items:[],zi=ui.map(function(Lo,Ii){return ii.retrieveSchema(Lo,Be[Ii])}),No=(0,ts.Z)(H.additionalItems)?ii.retrieveSchema(H.additionalItems,Be):null;(!Rn||Rn.length<zi.length)&&(Rn=Rn||[],Rn=Rn.concat(new Array(zi.length-Rn.length)));var Qi=this.canAddItem(Rn)&&!!No,bs={canAdd:Qi,className:"field field-array field-array-fixed-items",disabled:zt,idSchema:We,formData:Be,items:Fn.map(function(Lo,Ii){var si=Lo.key,ls=Lo.item,Xa=ls,ul=Ii>=zi.length,pl=ul&&(0,ts.Z)(H.additionalItems)?ii.retrieveSchema(H.additionalItems,Xa):zi[Ii],Ml=We.$id+Ye+Ii,$l=ii.toIdSchema(pl,Ml,Xa,et,Ye),wl=ul?ce.additionalItems||{}:Array.isArray(ce.items)?ce.items[Ii]:ce.items||{},il=Ve?Ve[Ii]:void 0;return E.renderArrayFieldItem({key:si,index:Ii,name:bt&&bt+"-"+Ii,canAdd:Qi,canRemove:ul,canMoveUp:Ii>=zi.length+1,canMoveDown:ul&&Ii<Rn.length-1,itemSchema:pl,itemData:Xa,itemUiSchema:wl,itemIdSchema:$l,itemErrorSchema:il,autofocus:kr&&Ii===0,onBlur:bn,onFocus:Mr,rawErrors:sn,totalItems:Fn.length})}),onAddClick:this.onAddClick,readonly:nr,required:dr,registry:Yr,schema:H,uiSchema:ce,title:ni,formContext:oi,rawErrors:sn},Vs=(0,it.t4)("ArrayFieldTemplate",Yr,$i);return(0,pt.jsx)(Vs,Qr({},bs))},d.renderArrayFieldItem=function(E){var k=E.key,H=E.index,ie=E.name,ce=E.canAdd,le=E.canRemove,Be=le===void 0?!0:le,Ve=E.canMoveUp,et=E.canMoveDown,ve=E.itemSchema,Ye=E.itemData,We=E.itemUiSchema,bt=E.itemIdSchema,kt=E.itemErrorSchema,zt=E.autofocus,It=E.onBlur,nr=E.onFocus,mr=E.rawErrors,kr=E.totalItems,br=this.props,dr=br.disabled,Yr=br.hideError,bn=br.idPrefix,Mr=br.idSeparator,sn=br.readonly,Fn=br.uiSchema,Bn=br.registry,Rn=br.formContext,ni=Bn.fields,$i=ni.ArraySchemaField,ii=ni.SchemaField,oi=Bn.globalUiOptions,ui=$i||ii,zi=(0,it.LI)(Fn,oi),No=zi.orderable,Qi=No===void 0?!0:No,bs=zi.removable,Vs=bs===void 0?!0:bs,Lo=zi.copyable,Ii=Lo===void 0?!1:Lo,si={moveUp:Qi&&Ve,moveDown:Qi&&et,copy:Ii&&ce,remove:Vs&&Be,toolbar:!1};return si.toolbar=Object.keys(si).some(function(ls){return si[ls]}),{children:(0,pt.jsx)(ui,{name:ie,index:H,schema:ve,uiSchema:We,formData:Ye,formContext:Rn,errorSchema:kt,idPrefix:bn,idSeparator:Mr,idSchema:bt,required:this.isItemRequired(ve),onChange:this.onChangeForIndex(H),onBlur:It,onFocus:nr,registry:Bn,disabled:dr,readonly:sn,hideError:Yr,autofocus:zt,rawErrors:mr}),className:"array-item",disabled:dr,canAdd:ce,hasCopy:si.copy,hasToolbar:si.toolbar,hasMoveUp:si.moveUp,hasMoveDown:si.moveDown,hasRemove:si.remove,index:H,totalItems:kr,key:k,onAddIndexClick:this.onAddIndexClick,onCopyIndexClick:this.onCopyIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:sn,registry:Bn,schema:ve,uiSchema:We}},po(u,[{key:"itemTitle",get:function(){var E=this.props,k=E.schema,H=E.registry,ie=H.translateString;return(0,Zi.Z)(k,[it.YU,"title"],(0,Zi.Z)(k,[it.YU,"description"],ie(it.g8.ArrayItemTitle)))}}]),u}(M.Component),tt=["widget","title","label"];function ut(n){var u,d=n.schema,w=n.name,E=n.uiSchema,k=n.idSchema,H=n.formData,ie=n.registry,ce=n.required,le=n.disabled,Be=n.readonly,Ve=n.autofocus,et=n.onChange,ve=n.onFocus,Ye=n.onBlur,We=n.rawErrors,bt=d.title,kt=ie.widgets,zt=ie.formContext,It=ie.translateString,nr=ie.globalUiOptions,mr=(0,it.LI)(E,nr),kr=mr.widget,br=kr===void 0?"checkbox":kr,dr=mr.title,Yr=mr.label,bn=Yr===void 0?!0:Yr,Mr=Xi(mr,tt),sn=(0,it.us)(d,br,kt),Fn=It(it.g8.YesLabel),Bn=It(it.g8.NoLabel),Rn,ni=(u=dr!=null?dr:bt)!=null?u:w;if(Array.isArray(d.oneOf))Rn=(0,it.pp)({oneOf:d.oneOf.map(function(ui){if((0,ts.Z)(ui))return Qr({},ui,{title:ui.title||(ui.const===!0?Fn:Bn)})}).filter(function(ui){return ui})});else{var $i,ii=d,oi=($i=d.enum)!=null?$i:[!0,!1];!ii.enumNames&&oi.length===2&&oi.every(function(ui){return typeof ui=="boolean"})?Rn=[{value:oi[0],label:oi[0]?Fn:Bn},{value:oi[1],label:oi[1]?Fn:Bn}]:Rn=(0,it.pp)({enum:oi,enumNames:ii.enumNames})}return(0,pt.jsx)(sn,{options:Qr({},Mr,{enumOptions:Rn}),schema:d,uiSchema:E,id:k.$id,name:w,onChange:et,onFocus:ve,onBlur:Ye,label:ni,hideLabel:!bn,value:H,required:ce,disabled:le,readonly:Be,registry:ie,formContext:zt,autofocus:Ve,rawErrors:We})}var Et=["widget","placeholder","autofocus","autocomplete","title"],At=function(n){Na(u,n);function u(w){var E;E=n.call(this,w)||this,E.onOptionChange=function(Be){var Ve=E.state,et=Ve.selectedOption,ve=Ve.retrievedOptions,Ye=E.props,We=Ye.formData,bt=Ye.onChange,kt=Ye.registry,zt=kt.schemaUtils,It=Be!==void 0?parseInt(Be,10):-1;if(It!==et){var nr=It>=0?ve[It]:void 0,mr=et>=0?ve[et]:void 0,kr=zt.sanitizeDataForNewSchema(nr,mr,We);kr&&nr&&(kr=zt.getDefaultFormState(nr,kr,"excludeObjectChildren")),bt(kr,void 0,E.getFieldId()),E.setState({selectedOption:It})}};var k=E.props,H=k.formData,ie=k.options,ce=k.registry.schemaUtils,le=ie.map(function(Be){return ce.retrieveSchema(Be,H)});return E.state={retrievedOptions:le,selectedOption:E.getMatchingOption(0,H,le)},E}var d=u.prototype;return d.componentDidUpdate=function(E,k){var H=this.props,ie=H.formData,ce=H.options,le=H.idSchema,Be=this.state.selectedOption,Ve=this.state;if(!(0,it.qt)(E.options,ce)){var et=this.props.registry.schemaUtils,ve=ce.map(function(kt){return et.retrieveSchema(kt,ie)});Ve={selectedOption:Be,retrievedOptions:ve}}if(!(0,it.qt)(ie,E.formData)&&le.$id===E.idSchema.$id){var Ye=Ve,We=Ye.retrievedOptions,bt=this.getMatchingOption(Be,ie,We);k&&bt!==Be&&(Ve={selectedOption:bt,retrievedOptions:We})}Ve!==this.state&&this.setState(Ve)},d.getMatchingOption=function(E,k,H){var ie=this.props,ce=ie.schema,le=ie.registry.schemaUtils,Be,Ve=(0,Zi.Z)(ce,"discriminator.propertyName",void 0);(0,Pa.Z)(Ve)?Be=Ve:Ve!==void 0&&console.warn('Expecting discriminator to be a string, got "'+typeof Ve+'" instead');var et=le.getClosestMatchingOption(k,H,E,Be);return et>0?et:E||0},d.getFieldId=function(){var E=this.props,k=E.idSchema,H=E.schema;return""+k.$id+(H.oneOf?"__oneof_select":"__anyof_select")},d.render=function(){var E=this.props,k=E.name,H=E.baseType,ie=E.disabled,ce=ie===void 0?!1:ie,le=E.errorSchema,Be=le===void 0?{}:le,Ve=E.formContext,et=E.onBlur,ve=E.onFocus,Ye=E.registry,We=E.schema,bt=E.uiSchema,kt=Ye.widgets,zt=Ye.fields,It=Ye.translateString,nr=Ye.globalUiOptions,mr=Ye.schemaUtils,kr=zt.SchemaField,br=this.state,dr=br.selectedOption,Yr=br.retrievedOptions,bn=(0,it.LI)(bt,nr),Mr=bn.widget,sn=Mr===void 0?"select":Mr,Fn=bn.placeholder,Bn=bn.autofocus,Rn=bn.autocomplete,ni=bn.title,$i=ni===void 0?We.title:ni,ii=Xi(bn,Et),oi=(0,it.us)({type:"number"},sn,kt),ui=(0,Zi.Z)(Be,it.M9,[]),zi=(0,Ko.Z)(Be,[it.M9]),No=mr.getDisplayLabel(We,bt,nr),Qi=dr>=0&&Yr[dr]||null,bs;Qi&&(bs=Qi.type?Qi:Object.assign({},Qi,{type:H}));var Vs=$i?it.g8.TitleOptionPrefix:it.g8.OptionPrefix,Lo=$i?[$i]:[],Ii=Yr.map(function(si,ls){return{label:si.title||It(Vs,Lo.concat(String(ls+1))),value:ls}});return(0,pt.jsxs)("div",{className:"panel panel-default panel-body",children:[(0,pt.jsx)("div",{className:"form-group",children:(0,pt.jsx)(oi,{id:this.getFieldId(),name:""+k+(We.oneOf?"__oneof_select":"__anyof_select"),schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:et,onFocus:ve,disabled:ce||(0,Mi.Z)(Ii),multiple:!1,rawErrors:ui,errorSchema:zi,value:dr>=0?dr:void 0,options:Qr({enumOptions:Ii},ii),registry:Ye,formContext:Ve,placeholder:Fn,autocomplete:Rn,autofocus:Bn,label:$i!=null?$i:k,hideLabel:!No})}),Qi!==null&&(0,pt.jsx)(kr,Qr({},this.props,{schema:bs}))]})},u}(M.Component),Mt=/\.([0-9]*0)*$/,er=/[0.]0*$/;function ir(n){var u=n.registry,d=n.onChange,w=n.formData,E=n.value,k=(0,M.useState)(E),H=k[0],ie=k[1],ce=u.fields.StringField,le=w,Be=(0,M.useCallback)(function(et){ie(et),(""+et).charAt(0)==="."&&(et="0"+et);var ve=typeof et=="string"&&et.match(Mt)?(0,it.mH)(et.replace(er,"")):(0,it.mH)(et);d(ve)},[d]);if(typeof H=="string"&&typeof le=="number"){var Ve=new RegExp((""+le).replace(".","\\.")+"\\.?0*$");H.match(Ve)&&(le=H)}return(0,pt.jsx)(ce,Qr({},n,{formData:le,onChange:Be}))}var l=function(n){Na(u,n);function u(){for(var w,E=arguments.length,k=new Array(E),H=0;H<E;H++)k[H]=arguments[H];return w=n.call.apply(n,[this].concat(k))||this,w.state={wasPropertyKeyModified:!1,additionalProperties:{}},w.onPropertyChange=function(ie,ce){return ce===void 0&&(ce=!1),function(le,Be,Ve){var et,ve,Ye=w.props,We=Ye.formData,bt=Ye.onChange,kt=Ye.errorSchema;le===void 0&&ce&&(le="");var zt=Qr({},We,(et={},et[ie]=le,et));bt(zt,kt&&kt&&Qr({},kt,(ve={},ve[ie]=Be,ve)),Ve)}},w.onDropPropertyClick=function(ie){return function(ce){ce.preventDefault();var le=w.props,Be=le.onChange,Ve=le.formData,et=Qr({},Ve);Sa(et,ie),Be(et)}},w.getAvailableKey=function(ie,ce){for(var le=w.props,Be=le.uiSchema,Ve=le.registry,et=(0,it.LI)(Be,Ve.globalUiOptions),ve=et.duplicateKeySuffixSeparator,Ye=ve===void 0?"-":ve,We=0,bt=ie;(0,Ha.Z)(ce,bt);)bt=""+ie+Ye+ ++We;return bt},w.onKeyChange=function(ie){return function(ce,le){var Be,Ve;if(ie!==ce){var et=w.props,ve=et.formData,Ye=et.onChange,We=et.errorSchema;ce=w.getAvailableKey(ce,ve);var bt=Qr({},ve),kt=(Be={},Be[ie]=ce,Be),zt=Object.keys(bt).map(function(nr){var mr,kr=kt[nr]||nr;return mr={},mr[kr]=bt[nr],mr}),It=Object.assign.apply(Object,[{}].concat(zt));w.setState({wasPropertyKeyModified:!0}),Ye(It,We&&We&&Qr({},We,(Ve={},Ve[ce]=le,Ve)))}}},w.handleAddClick=function(ie){return function(){if(ie.additionalProperties){var ce=w.props,le=ce.formData,Be=ce.onChange,Ve=ce.registry,et=Qr({},le),ve=void 0;if((0,ts.Z)(ie.additionalProperties)){ve=ie.additionalProperties.type;var Ye=ie.additionalProperties;if(it.Sr in Ye){var We=Ve.schemaUtils;Ye=We.retrieveSchema({$ref:Ye[it.Sr]},le),ve=Ye.type}!ve&&(it.F8 in Ye||it.If in Ye)&&(ve="object")}var bt=w.getAvailableKey("newKey",et);(0,rs.Z)(et,bt,w.getDefaultValue(ve)),Be(et)}}},w}var d=u.prototype;return d.isRequired=function(E){var k=this.props.schema;return Array.isArray(k.required)&&k.required.indexOf(E)!==-1},d.getDefaultValue=function(E){var k=this.props.registry.translateString;switch(E){case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};case"string":default:return k(it.g8.NewStringDefault)}},d.render=function(){var E,k,H,ie=this,ce=this.props,le=ce.schema,Be=ce.uiSchema,Ve=Be===void 0?{}:Be,et=ce.formData,ve=ce.errorSchema,Ye=ce.idSchema,We=ce.name,bt=ce.required,kt=bt===void 0?!1:bt,zt=ce.disabled,It=zt===void 0?!1:zt,nr=ce.readonly,mr=nr===void 0?!1:nr,kr=ce.hideError,br=ce.idPrefix,dr=ce.idSeparator,Yr=ce.onBlur,bn=ce.onFocus,Mr=ce.registry,sn=Mr.fields,Fn=Mr.formContext,Bn=Mr.schemaUtils,Rn=Mr.translateString,ni=Mr.globalUiOptions,$i=sn.SchemaField,ii=Bn.retrieveSchema(le,et),oi=(0,it.LI)(Ve,ni),ui=ii.properties,zi=ui===void 0?{}:ui,No=(E=(k=oi.title)!=null?k:ii.title)!=null?E:We,Qi=(H=oi.description)!=null?H:ii.description,bs;try{var Vs=Object.keys(zi);bs=(0,it.$2)(Vs,oi.order)}catch(si){return(0,pt.jsxs)("div",{children:[(0,pt.jsx)("p",{className:"config-error",style:{color:"red"},children:(0,pt.jsx)(ss,{children:Rn(it.g8.InvalidObjectField,[We||"root",si.message])})}),(0,pt.jsx)("pre",{children:JSON.stringify(ii)})]})}var Lo=(0,it.t4)("ObjectFieldTemplate",Mr,oi),Ii={title:oi.label===!1?"":No,description:oi.label===!1?void 0:Qi,properties:bs.map(function(si){var ls=(0,Ha.Z)(ii,[it.MA,si,it.jk]),Xa=ls?Ve.additionalProperties:Ve[si],ul=(0,it.LI)(Xa).widget==="hidden",pl=(0,Zi.Z)(Ye,[si],{});return{content:(0,pt.jsx)($i,{name:si,required:ie.isRequired(si),schema:(0,Zi.Z)(ii,[it.MA,si],{}),uiSchema:Xa,errorSchema:(0,Zi.Z)(ve,si),idSchema:pl,idPrefix:br,idSeparator:dr,formData:(0,Zi.Z)(et,si),formContext:Fn,wasPropertyKeyModified:ie.state.wasPropertyKeyModified,onKeyChange:ie.onKeyChange(si),onChange:ie.onPropertyChange(si,ls),onBlur:Yr,onFocus:bn,registry:Mr,disabled:It,readonly:mr,hideError:kr,onDropPropertyClick:ie.onDropPropertyClick},si),name:si,readonly:mr,disabled:It,required:kt,hidden:ul}}),readonly:mr,disabled:It,required:kt,idSchema:Ye,uiSchema:Ve,errorSchema:ve,schema:ii,formData:et,formContext:Fn,registry:Mr};return(0,pt.jsx)(Lo,Qr({},Ii,{onAddClick:this.handleAddClick}))},u}(M.Component),e=["__errors"],t={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function i(n,u,d,w){var E=u.field,k=w.fields,H=w.translateString;if(typeof E=="function")return E;if(typeof E=="string"&&E in k)return k[E];var ie=(0,it.f_)(n),ce=Array.isArray(ie)?ie[0]:ie||"",le=t[ce];return!le&&(n.anyOf||n.oneOf)?function(){return null}:le in k?k[le]:function(){var Be=(0,it.t4)("UnsupportedFieldTemplate",w,u);return(0,pt.jsx)(Be,{schema:n,idSchema:d,reason:H(it.g8.UnknownFieldType,[String(n.type)]),registry:w})}}function c(n){var u=n.schema,d=n.idSchema,w=n.uiSchema,E=n.formData,k=n.errorSchema,H=n.idPrefix,ie=n.idSeparator,ce=n.name,le=n.onChange,Be=n.onKeyChange,Ve=n.onDropPropertyClick,et=n.required,ve=n.registry,Ye=n.wasPropertyKeyModified,We=Ye===void 0?!1:Ye,bt=ve.formContext,kt=ve.schemaUtils,zt=ve.globalUiOptions,It=(0,it.LI)(w,zt),nr=(0,it.t4)("FieldTemplate",ve,It),mr=(0,it.t4)("DescriptionFieldTemplate",ve,It),kr=(0,it.t4)("FieldHelpTemplate",ve,It),br=(0,it.t4)("FieldErrorTemplate",ve,It),dr=kt.retrieveSchema(u,E),Yr=d[it.BO],bn=(0,it.PM)(kt.toIdSchema(dr,Yr,E,H,ie),d),Mr=(0,M.useCallback)(function(il,Uu,Vu){var Ku=Vu||Yr;return le(il,Uu,Ku)},[Yr,le]),sn=i(dr,It,bn,ve),Fn=Boolean(n.disabled||It.disabled),Bn=Boolean(n.readonly||It.readonly||n.schema.readOnly||dr.readOnly),Rn=It.hideError,ni=Rn===void 0?n.hideError:Boolean(Rn),$i=Boolean(n.autofocus||It.autofocus);if(Object.keys(dr).length===0)return null;var ii=kt.getDisplayLabel(dr,w,zt),oi=k||{},ui=oi.__errors,zi=Xi(oi,e),No=(0,Ko.Z)(w,["ui:classNames","classNames","ui:style"]);it.ji in No&&(No[it.ji]=(0,Ko.Z)(No[it.ji],["classNames","style"]));var Qi=(0,pt.jsx)(sn,Qr({},n,{onChange:Mr,idSchema:bn,schema:dr,uiSchema:No,disabled:Fn,readonly:Bn,hideError:ni,autofocus:$i,errorSchema:zi,formContext:bt,rawErrors:ui})),bs=bn[it.BO],Vs;We?Vs=ce:Vs=it.jk in dr?ce:It.title||n.schema.title||dr.title||ce;var Lo=It.description||n.schema.description||dr.description||"",Ii=It.help,si=It.widget==="hidden",ls=["form-group","field","field-"+(0,it.f_)(dr)];!ni&&ui&&ui.length>0&&ls.push("field-error has-error has-danger"),w!=null&&w.classNames&&ls.push(w.classNames),It.classNames&&ls.push(It.classNames);var Xa=(0,pt.jsx)(kr,{help:Ii,idSchema:bn,schema:dr,uiSchema:w,hasErrors:!ni&&ui&&ui.length>0,registry:ve}),ul=ni?void 0:(0,pt.jsx)(br,{errors:ui,errorSchema:k,idSchema:bn,schema:dr,uiSchema:w,registry:ve}),pl={description:(0,pt.jsx)(mr,{id:(0,it.Si)(bs),description:Lo,schema:dr,uiSchema:w,registry:ve}),rawDescription:Lo,help:Xa,rawHelp:typeof Ii=="string"?Ii:void 0,errors:ul,rawErrors:ni?void 0:ui,id:bs,label:Vs,hidden:si,onChange:le,onKeyChange:Be,onDropPropertyClick:Ve,required:et,disabled:Fn,readonly:Bn,hideError:ni,displayLabel:ii,classNames:ls.join(" ").trim(),style:It.style,formContext:bt,formData:E,schema:dr,uiSchema:w,registry:ve},Ml=ve.fields.AnyOfField,$l=ve.fields.OneOfField,wl=(w==null?void 0:w["ui:field"])&&(w==null?void 0:w["ui:fieldReplacesAnyOrOneOf"])===!0;return(0,pt.jsx)(nr,Qr({},pl,{children:(0,pt.jsxs)(pt.Fragment,{children:[Qi,dr.anyOf&&!wl&&!kt.isSelect(dr)&&(0,pt.jsx)(Ml,{name:ce,disabled:Fn,readonly:Bn,hideError:ni,errorSchema:k,formData:E,formContext:bt,idPrefix:H,idSchema:bn,idSeparator:ie,onBlur:n.onBlur,onChange:n.onChange,onFocus:n.onFocus,options:dr.anyOf.map(function(il){return kt.retrieveSchema((0,ts.Z)(il)?il:{},E)}),baseType:dr.type,registry:ve,schema:dr,uiSchema:w}),dr.oneOf&&!wl&&!kt.isSelect(dr)&&(0,pt.jsx)($l,{name:ce,disabled:Fn,readonly:Bn,hideError:ni,errorSchema:k,formData:E,formContext:bt,idPrefix:H,idSchema:bn,idSeparator:ie,onBlur:n.onBlur,onChange:n.onChange,onFocus:n.onFocus,options:dr.oneOf.map(function(il){return kt.retrieveSchema((0,ts.Z)(il)?il:{},E)}),baseType:dr.type,registry:ve,schema:dr,uiSchema:w})]})}))}var v=function(n){Na(u,n);function u(){return n.apply(this,arguments)||this}var d=u.prototype;return d.shouldComponentUpdate=function(E){return!(0,it.qt)(this.props,E)},d.render=function(){return(0,pt.jsx)(c,Qr({},this.props))},u}(M.Component),A=["widget","placeholder","title"];function W(n){var u,d=n.schema,w=n.name,E=n.uiSchema,k=n.idSchema,H=n.formData,ie=n.required,ce=n.disabled,le=ce===void 0?!1:ce,Be=n.readonly,Ve=Be===void 0?!1:Be,et=n.autofocus,ve=et===void 0?!1:et,Ye=n.onChange,We=n.onBlur,bt=n.onFocus,kt=n.registry,zt=n.rawErrors,It=d.title,nr=d.format,mr=kt.widgets,kr=kt.formContext,br=kt.schemaUtils,dr=kt.globalUiOptions,Yr=br.isSelect(d)?(0,it.pp)(d):void 0,bn=Yr?"select":"text";nr&&(0,it.H7)(d,nr,mr)&&(bn=nr);var Mr=(0,it.LI)(E),sn=Mr.widget,Fn=sn===void 0?bn:sn,Bn=Mr.placeholder,Rn=Bn===void 0?"":Bn,ni=Mr.title,$i=Xi(Mr,A),ii=br.getDisplayLabel(d,E,dr),oi=(u=ni!=null?ni:It)!=null?u:w,ui=(0,it.us)(d,Fn,mr);return(0,pt.jsx)(ui,{options:Qr({},$i,{enumOptions:Yr}),schema:d,uiSchema:E,id:k.$id,name:w,label:oi,hideLabel:!ii,value:H,onChange:Ye,onBlur:We,onFocus:bt,required:ie,disabled:le,readonly:Ve,formContext:kr,autofocus:ve,registry:kt,placeholder:Rn,rawErrors:zt})}function X(n){var u=n.formData,d=n.onChange;return(0,M.useEffect)(function(){u===void 0&&d(null)},[u,d]),null}function me(){return{AnyOfField:At,ArrayField:qe,BooleanField:ut,NumberField:ir,ObjectField:l,OneOfField:At,SchemaField:v,StringField:W,NullField:X}}function ue(n){var u=n.idSchema,d=n.description,w=n.registry,E=n.schema,k=n.uiSchema,H=(0,it.LI)(k,w.globalUiOptions),ie=H.label,ce=ie===void 0?!0:ie;if(!d||!ce)return null;var le=(0,it.t4)("DescriptionFieldTemplate",w,H);return(0,pt.jsx)(le,{id:(0,it.Si)(u),description:d,schema:E,uiSchema:k,registry:w})}function je(n){var u=n.children,d=n.className,w=n.disabled,E=n.hasToolbar,k=n.hasMoveDown,H=n.hasMoveUp,ie=n.hasRemove,ce=n.hasCopy,le=n.index,Be=n.onCopyIndexClick,Ve=n.onDropIndexClick,et=n.onReorderClick,ve=n.readonly,Ye=n.registry,We=n.uiSchema,bt=Ye.templates.ButtonTemplates,kt=bt.CopyButton,zt=bt.MoveDownButton,It=bt.MoveUpButton,nr=bt.RemoveButton,mr={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return(0,pt.jsxs)("div",{className:d,children:[(0,pt.jsx)("div",{className:E?"col-xs-9":"col-xs-12",children:u}),E&&(0,pt.jsx)("div",{className:"col-xs-3 array-item-toolbox",children:(0,pt.jsxs)("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"},children:[(H||k)&&(0,pt.jsx)(It,{style:mr,disabled:w||ve||!H,onClick:et(le,le-1),uiSchema:We,registry:Ye}),(H||k)&&(0,pt.jsx)(zt,{style:mr,disabled:w||ve||!k,onClick:et(le,le+1),uiSchema:We,registry:Ye}),ce&&(0,pt.jsx)(kt,{style:mr,disabled:w||ve,onClick:Be(le),uiSchema:We,registry:Ye}),ie&&(0,pt.jsx)(nr,{style:mr,disabled:w||ve,onClick:Ve(le),uiSchema:We,registry:Ye})]})})]})}var ct=["key"];function vt(n){var u=n.canAdd,d=n.className,w=n.disabled,E=n.idSchema,k=n.uiSchema,H=n.items,ie=n.onAddClick,ce=n.readonly,le=n.registry,Be=n.required,Ve=n.schema,et=n.title,ve=(0,it.LI)(k),Ye=(0,it.t4)("ArrayFieldDescriptionTemplate",le,ve),We=(0,it.t4)("ArrayFieldItemTemplate",le,ve),bt=(0,it.t4)("ArrayFieldTitleTemplate",le,ve),kt=le.templates.ButtonTemplates.AddButton;return(0,pt.jsxs)("fieldset",{className:d,id:E.$id,children:[(0,pt.jsx)(bt,{idSchema:E,title:ve.title||et,required:Be,schema:Ve,uiSchema:k,registry:le}),(0,pt.jsx)(Ye,{idSchema:E,description:ve.description||Ve.description,schema:Ve,uiSchema:k,registry:le}),(0,pt.jsx)("div",{className:"row array-item-list",children:H&&H.map(function(zt){var It=zt.key,nr=Xi(zt,ct);return(0,pt.jsx)(We,Qr({},nr),It)})}),u&&(0,pt.jsx)(kt,{className:"array-item-add",onClick:ie,disabled:w||ce,uiSchema:k,registry:le})]})}function Ft(n){var u=n.idSchema,d=n.title,w=n.schema,E=n.uiSchema,k=n.required,H=n.registry,ie=(0,it.LI)(E,H.globalUiOptions),ce=ie.label,le=ce===void 0?!0:ce;if(!d||!le)return null;var Be=(0,it.t4)("TitleFieldTemplate",H,ie);return(0,pt.jsx)(Be,{id:(0,it.Vt)(u),title:d,required:k,schema:w,uiSchema:E,registry:H})}var Ot=["id","name","value","readonly","disabled","autofocus","onBlur","onFocus","onChange","onChangeOverride","options","schema","uiSchema","formContext","registry","rawErrors","type","hideLabel","hideError"];function Bt(n){var u=n.id,d=n.value,w=n.readonly,E=n.disabled,k=n.autofocus,H=n.onBlur,ie=n.onFocus,ce=n.onChange,le=n.onChangeOverride,Be=n.options,Ve=n.schema,et=n.type,ve=Xi(n,Ot);if(!u)throw console.log("No id for",n),new Error("no id for props "+JSON.stringify(n));var Ye=Qr({},ve,(0,it.TC)(Ve,et,Be)),We;Ye.type==="number"||Ye.type==="integer"?We=d||d===0?d:"":We=d==null?"":d;var bt=(0,M.useCallback)(function(It){var nr=It.target.value;return ce(nr===""?Be.emptyValue:nr)},[ce,Be]),kt=(0,M.useCallback)(function(It){var nr=It.target.value;return H(u,nr)},[H,u]),zt=(0,M.useCallback)(function(It){var nr=It.target.value;return ie(u,nr)},[ie,u]);return(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)("input",Qr({id:u,name:u,className:"form-control",readOnly:w,disabled:E,autoFocus:k,value:We},Ye,{list:Ve.examples?(0,it.RS)(u):void 0,onChange:le||bt,onBlur:kt,onFocus:zt,"aria-describedby":(0,it.Jx)(u,!!Ve.examples)})),Array.isArray(Ve.examples)&&(0,pt.jsx)("datalist",{id:(0,it.RS)(u),children:Ve.examples.concat(Ve.default&&!Ve.examples.includes(Ve.default)?[Ve.default]:[]).map(function(It){return(0,pt.jsx)("option",{value:It},It)})},"datalist_"+u)]})}function Qt(n){var u=n.uiSchema,d=(0,it.rF)(u),w=d.submitText,E=d.norender,k=d.props,H=k===void 0?{}:k;return E?null:(0,pt.jsx)("div",{children:(0,pt.jsx)("button",Qr({type:"submit"},H,{className:"btn btn-info "+(H.className||""),children:w}))})}var Hr=["iconType","icon","className","uiSchema","registry"];function Gr(n){var u=n.iconType,d=u===void 0?"default":u,w=n.icon,E=n.className,k=Xi(n,Hr);return(0,pt.jsx)("button",Qr({type:"button",className:"btn btn-"+d+" "+E},k,{children:(0,pt.jsx)("i",{className:"glyphicon glyphicon-"+w})}))}function un(n){var u=n.registry.translateString;return(0,pt.jsx)(Gr,Qr({title:u(it.g8.CopyButton),className:"array-item-copy"},n,{icon:"copy"}))}function Tn(n){var u=n.registry.translateString;return(0,pt.jsx)(Gr,Qr({title:u(it.g8.MoveDownButton),className:"array-item-move-down"},n,{icon:"arrow-down"}))}function Ln(n){var u=n.registry.translateString;return(0,pt.jsx)(Gr,Qr({title:u(it.g8.MoveUpButton),className:"array-item-move-up"},n,{icon:"arrow-up"}))}function Fi(n){var u=n.registry.translateString;return(0,pt.jsx)(Gr,Qr({title:u(it.g8.RemoveButton),className:"array-item-remove"},n,{iconType:"danger",icon:"remove"}))}function Fo(n){var u=n.className,d=n.onClick,w=n.disabled,E=n.registry,k=E.translateString;return(0,pt.jsx)("div",{className:"row",children:(0,pt.jsx)("p",{className:"col-xs-3 col-xs-offset-9 text-right "+u,children:(0,pt.jsx)(Gr,{iconType:"info",icon:"plus",className:"btn-add col-xs-12",title:k(it.g8.AddButton),onClick:d,disabled:w,registry:E})})})}function Yo(){return{SubmitButton:Qt,AddButton:Fo,CopyButton:un,MoveDownButton:Tn,MoveUpButton:Ln,RemoveButton:Fi}}function Ba(n){var u=n.id,d=n.description;return d?typeof d=="string"?(0,pt.jsx)("p",{id:u,className:"field-description",children:d}):(0,pt.jsx)("div",{id:u,className:"field-description",children:d}):null}function Ja(n){var u=n.errors,d=n.registry,w=d.translateString;return(0,pt.jsxs)("div",{className:"panel panel-danger errors",children:[(0,pt.jsx)("div",{className:"panel-heading",children:(0,pt.jsx)("h3",{className:"panel-title",children:w(it.g8.ErrorsLabel)})}),(0,pt.jsx)("ul",{className:"list-group",children:u.map(function(E,k){return(0,pt.jsx)("li",{className:"list-group-item text-danger",children:E.stack},k)})})]})}var Ga="*";function Ea(n){var u=n.label,d=n.required,w=n.id;return u?(0,pt.jsxs)("label",{className:"control-label",htmlFor:w,children:[u,d&&(0,pt.jsx)("span",{className:"required",children:Ga})]}):null}function wa(n){var u=n.id,d=n.label,w=n.children,E=n.errors,k=n.help,H=n.description,ie=n.hidden,ce=n.required,le=n.displayLabel,Be=n.registry,Ve=n.uiSchema,et=(0,it.LI)(Ve),ve=(0,it.t4)("WrapIfAdditionalTemplate",Be,et);return ie?(0,pt.jsx)("div",{className:"hidden",children:w}):(0,pt.jsxs)(ve,Qr({},n,{children:[le&&(0,pt.jsx)(Ea,{label:d,required:ce,id:u}),le&&H?H:null,w,E,k]}))}function ea(n){var u=n.errors,d=u===void 0?[]:u,w=n.idSchema;if(d.length===0)return null;var E=(0,it.UR)(w);return(0,pt.jsx)("div",{children:(0,pt.jsx)("ul",{id:E,className:"error-detail bs-callout bs-callout-info",children:d.filter(function(k){return!!k}).map(function(k,H){return(0,pt.jsx)("li",{className:"text-danger",children:k},H)})})})}function tl(n){var u=n.idSchema,d=n.help;if(!d)return null;var w=(0,it.JL)(u);return typeof d=="string"?(0,pt.jsx)("p",{id:w,className:"help-block",children:d}):(0,pt.jsx)("div",{id:w,className:"help-block",children:d})}function Wa(n){var u=n.description,d=n.disabled,w=n.formData,E=n.idSchema,k=n.onAddClick,H=n.properties,ie=n.readonly,ce=n.registry,le=n.required,Be=n.schema,Ve=n.title,et=n.uiSchema,ve=(0,it.LI)(et),Ye=(0,it.t4)("TitleFieldTemplate",ce,ve),We=(0,it.t4)("DescriptionFieldTemplate",ce,ve),bt=ce.templates.ButtonTemplates.AddButton;return(0,pt.jsxs)("fieldset",{id:E.$id,children:[Ve&&(0,pt.jsx)(Ye,{id:(0,it.Vt)(E),title:Ve,required:le,schema:Be,uiSchema:et,registry:ce}),u&&(0,pt.jsx)(We,{id:(0,it.Si)(E),description:u,schema:Be,uiSchema:et,registry:ce}),H.map(function(kt){return kt.content}),(0,it.Rc)(Be,et,w)&&(0,pt.jsx)(bt,{className:"object-property-expand",onClick:k(Be),disabled:d||ie,uiSchema:et,registry:ce})]})}var rl="*";function ca(n){var u=n.id,d=n.title,w=n.required;return(0,pt.jsxs)("legend",{id:u,children:[d,w&&(0,pt.jsx)("span",{className:"required",children:rl})]})}function fa(n){var u=n.schema,d=n.idSchema,w=n.reason,E=n.registry,k=E.translateString,H=it.g8.UnsupportedField,ie=[];return d&&d.$id&&(H=it.g8.UnsupportedFieldWithId,ie.push(d.$id)),w&&(H=H===it.g8.UnsupportedField?it.g8.UnsupportedFieldWithReason:it.g8.UnsupportedFieldWithIdAndReason,ie.push(w)),(0,pt.jsxs)("div",{className:"unsupported-field",children:[(0,pt.jsx)("p",{children:(0,pt.jsx)(ss,{children:k(H,ie)})}),u&&(0,pt.jsx)("pre",{children:JSON.stringify(u,null,2)})]})}function Ol(n){var u=n.id,d=n.classNames,w=n.style,E=n.disabled,k=n.label,H=n.onKeyChange,ie=n.onDropPropertyClick,ce=n.readonly,le=n.required,Be=n.schema,Ve=n.children,et=n.uiSchema,ve=n.registry,Ye=ve.templates,We=ve.translateString,bt=Ye.ButtonTemplates.RemoveButton,kt=We(it.g8.KeyLabel,[k]),zt=it.jk in Be;return zt?(0,pt.jsx)("div",{className:d,style:w,children:(0,pt.jsxs)("div",{className:"row",children:[(0,pt.jsx)("div",{className:"col-xs-5 form-additional",children:(0,pt.jsxs)("div",{className:"form-group",children:[(0,pt.jsx)(Ea,{label:kt,required:le,id:u+"-key"}),(0,pt.jsx)("input",{className:"form-control",type:"text",id:u+"-key",onBlur:function(nr){return H(nr.target.value)},defaultValue:k})]})}),(0,pt.jsx)("div",{className:"form-additional form-group col-xs-5",children:Ve}),(0,pt.jsx)("div",{className:"col-xs-2",children:(0,pt.jsx)(bt,{className:"array-item-remove btn-block",style:{border:"0"},disabled:E||ce,onClick:ie(k),uiSchema:et,registry:ve})})]})}):(0,pt.jsx)("div",{className:d,style:w,children:Ve})}function vl(){return{ArrayFieldDescriptionTemplate:ue,ArrayFieldItemTemplate:je,ArrayFieldTemplate:vt,ArrayFieldTitleTemplate:Ft,ButtonTemplates:Yo(),BaseInputTemplate:Bt,DescriptionFieldTemplate:Ba,ErrorListTemplate:Ja,FieldTemplate:wa,FieldErrorTemplate:ea,FieldHelpTemplate:tl,ObjectFieldTemplate:Wa,TitleFieldTemplate:ca,UnsupportedFieldTemplate:fa,WrapIfAdditionalTemplate:Ol}}function xl(n,u){for(var d=[],w=n;w<=u;w++)d.push({value:w,label:(0,it.vk)(w,2)});return d}function Cl(n){return Object.values(n).every(function(u){return u!==-1})}function Al(n,u,d){d===void 0&&(d=[1900,new Date().getFullYear()+2]);var w=n.year,E=n.month,k=n.day,H=n.hour,ie=n.minute,ce=n.second,le=[{type:"year",range:d,value:w},{type:"month",range:[1,12],value:E},{type:"day",range:[1,31],value:k}];return u&&le.push({type:"hour",range:[0,23],value:H},{type:"minute",range:[0,59],value:ie},{type:"second",range:[0,59],value:ce}),le}function bl(n){var u=n.type,d=n.range,w=n.value,E=n.select,k=n.rootId,H=n.name,ie=n.disabled,ce=n.readonly,le=n.autofocus,Be=n.registry,Ve=n.onBlur,et=n.onFocus,ve=k+"_"+u,Ye=Be.widgets.SelectWidget;return(0,pt.jsx)(Ye,{schema:{type:"integer"},id:ve,name:H,className:"form-control",options:{enumOptions:xl(d[0],d[1])},placeholder:u,value:w,disabled:ie,readonly:ce,autofocus:le,onChange:function(bt){return E(u,bt)},onBlur:Ve,onFocus:et,registry:Be,label:"","aria-describedby":(0,it.Jx)(k)})}function Pl(n){var u=n.time,d=u===void 0?!1:u,w=n.disabled,E=w===void 0?!1:w,k=n.readonly,H=k===void 0?!1:k,ie=n.autofocus,ce=ie===void 0?!1:ie,le=n.options,Be=n.id,Ve=n.name,et=n.registry,ve=n.onBlur,Ye=n.onFocus,We=n.onChange,bt=n.value,kt=et.translateString,zt=(0,M.useState)(bt),It=zt[0],nr=zt[1],mr=(0,M.useReducer)(function(Mr,sn){return Qr({},Mr,sn)},(0,it.xk)(bt,d)),kr=mr[0],br=mr[1];(0,M.useEffect)(function(){var Mr=(0,it.tC)(kr,d);Cl(kr)&&Mr!==bt?We(Mr):It!==bt&&(nr(bt),br((0,it.xk)(bt,d)))},[d,bt,We,kr,It]);var dr=(0,M.useCallback)(function(Mr,sn){var Fn;br((Fn={},Fn[Mr]=sn,Fn))},[]),Yr=(0,M.useCallback)(function(Mr){if(Mr.preventDefault(),!(E||H)){var sn=(0,it.xk)(new Date().toJSON(),d);We((0,it.tC)(sn,d))}},[E,H,d]),bn=(0,M.useCallback)(function(Mr){Mr.preventDefault(),!(E||H)&&We(void 0)},[E,H,We]);return(0,pt.jsxs)("ul",{className:"list-inline",children:[Al(kr,d,le.yearsRange).map(function(Mr,sn){return(0,pt.jsx)("li",{className:"list-inline-item",children:(0,pt.jsx)(bl,Qr({rootId:Be,name:Ve,select:dr},Mr,{disabled:E,readonly:H,registry:et,onBlur:ve,onFocus:Ye,autofocus:ce&&sn===0}))},sn)}),(le.hideNowButton!=="undefined"?!le.hideNowButton:!0)&&(0,pt.jsx)("li",{className:"list-inline-item",children:(0,pt.jsx)("a",{href:"#",className:"btn btn-info btn-now",onClick:Yr,children:kt(it.g8.NowLabel)})}),(le.hideClearButton!=="undefined"?!le.hideClearButton:!0)&&(0,pt.jsx)("li",{className:"list-inline-item",children:(0,pt.jsx)("a",{href:"#",className:"btn btn-warning btn-clear",onClick:bn,children:kt(it.g8.ClearLabel)})})]})}var f=["time"];function r(n){var u=n.time,d=u===void 0?!0:u,w=Xi(n,f),E=w.registry.widgets.AltDateWidget;return(0,pt.jsx)(E,Qr({time:d},w))}function p(n){var u,d=n.schema,w=n.uiSchema,E=n.options,k=n.id,H=n.value,ie=n.disabled,ce=n.readonly,le=n.label,Be=n.hideLabel,Ve=n.autofocus,et=Ve===void 0?!1:Ve,ve=n.onBlur,Ye=n.onFocus,We=n.onChange,bt=n.registry,kt=(0,it.t4)("DescriptionFieldTemplate",bt,E),zt=(0,it.iE)(d),It=(0,M.useCallback)(function(br){return We(br.target.checked)},[We]),nr=(0,M.useCallback)(function(br){return ve(k,br.target.checked)},[ve,k]),mr=(0,M.useCallback)(function(br){return Ye(k,br.target.checked)},[Ye,k]),kr=(u=E.description)!=null?u:d.description;return(0,pt.jsxs)("div",{className:"checkbox "+(ie||ce?"disabled":""),children:[!Be&&!!kr&&(0,pt.jsx)(kt,{id:(0,it.Si)(k),description:kr,schema:d,uiSchema:w,registry:bt}),(0,pt.jsxs)("label",{children:[(0,pt.jsx)("input",{type:"checkbox",id:k,name:k,checked:typeof H=="undefined"?!1:H,required:zt,disabled:ie||ce,autoFocus:et,onChange:It,onBlur:nr,onFocus:mr,"aria-describedby":(0,it.Jx)(k)}),(0,it.RY)((0,pt.jsx)("span",{children:le}),Be)]})]})}function S(n){var u=n.id,d=n.disabled,w=n.options,E=w.inline,k=E===void 0?!1:E,H=w.enumOptions,ie=w.enumDisabled,ce=w.emptyValue,le=n.value,Be=n.autofocus,Ve=Be===void 0?!1:Be,et=n.readonly,ve=n.onChange,Ye=n.onBlur,We=n.onFocus,bt=Array.isArray(le)?le:[le],kt=(0,M.useCallback)(function(It){var nr=It.target.value;return Ye(u,(0,it.QP)(nr,H,ce))},[Ye,u]),zt=(0,M.useCallback)(function(It){var nr=It.target.value;return We(u,(0,it.QP)(nr,H,ce))},[We,u]);return(0,pt.jsx)("div",{className:"checkboxes",id:u,children:Array.isArray(H)&&H.map(function(It,nr){var mr=(0,it.TR)(It.value,bt),kr=Array.isArray(ie)&&ie.indexOf(It.value)!==-1,br=d||kr||et?"disabled":"",dr=function(Mr){Mr.target.checked?ve((0,it.U3)(nr,bt,H)):ve((0,it.aI)(nr,bt,H))},Yr=(0,pt.jsxs)("span",{children:[(0,pt.jsx)("input",{type:"checkbox",id:(0,it.DK)(u,nr),name:u,checked:mr,value:String(nr),disabled:d||kr||et,autoFocus:Ve&&nr===0,onChange:dr,onBlur:kt,onFocus:zt,"aria-describedby":(0,it.Jx)(u)}),(0,pt.jsx)("span",{children:It.label})]});return k?(0,pt.jsx)("label",{className:"checkbox-inline "+br,children:Yr},nr):(0,pt.jsx)("div",{className:"checkbox "+br,children:(0,pt.jsx)("label",{children:Yr})},nr)})})}function P(n){var u=n.disabled,d=n.readonly,w=n.options,E=n.registry,k=(0,it.t4)("BaseInputTemplate",E,w);return(0,pt.jsx)(k,Qr({type:"color"},n,{disabled:u||d}))}function B(n){var u=n.onChange,d=n.options,w=n.registry,E=(0,it.t4)("BaseInputTemplate",w,d),k=(0,M.useCallback)(function(H){return u(H||void 0)},[u]);return(0,pt.jsx)(E,Qr({type:"date"},n,{onChange:k}))}function ae(n){var u=n.onChange,d=n.value,w=n.options,E=n.registry,k=(0,it.t4)("BaseInputTemplate",E,w);return(0,pt.jsx)(k,Qr({type:"datetime-local"},n,{value:(0,it.Yp)(d),onChange:function(ie){return u((0,it._4)(ie))}}))}function Ae(n){var u=n.options,d=n.registry,w=(0,it.t4)("BaseInputTemplate",d,u);return(0,pt.jsx)(w,Qr({type:"email"},n))}function Me(n,u){return n===null?null:n.replace(";base64",";name="+encodeURIComponent(u)+";base64")}function gt(n){var u=n.name,d=n.size,w=n.type;return new Promise(function(E,k){var H=new window.FileReader;H.onerror=k,H.onload=function(ie){var ce;typeof((ce=ie.target)===null||ce===void 0?void 0:ce.result)=="string"?E({dataURL:Me(ie.target.result,u),name:u,size:d,type:w}):E({dataURL:null,name:u,size:d,type:w})},H.readAsDataURL(n)})}function Tt(n){return Promise.all(Array.from(n).map(gt))}function rr(n){var u=n.fileInfo,d=n.registry,w=d.translateString,E=u.dataURL,k=u.type,H=u.name;return E?k.indexOf("image")!==-1?(0,pt.jsx)("img",{src:E,style:{maxWidth:"100%"},className:"file-preview"}):(0,pt.jsxs)(pt.Fragment,{children:[" ",(0,pt.jsx)("a",{download:"preview-"+H,href:E,className:"file-download",children:w(it.g8.PreviewLabel)})]}):null}function qr(n){var u=n.filesInfo,d=n.registry,w=n.preview;if(u.length===0)return null;var E=d.translateString;return(0,pt.jsx)("ul",{className:"file-info",children:u.map(function(k,H){var ie=k.name,ce=k.size,le=k.type;return(0,pt.jsxs)("li",{children:[(0,pt.jsx)(ss,{children:E(it.g8.FilesInfo,[ie,le,String(ce)])}),w&&(0,pt.jsx)(rr,{fileInfo:k,registry:d})]},H)})})}function In(n){return n.filter(function(u){return u}).map(function(u){var d=(0,it.OP)(u),w=d.blob,E=d.name;return{dataURL:u,name:E,size:w.size,type:w.type}})}function Ki(n){var u=n.disabled,d=n.readonly,w=n.required,E=n.multiple,k=n.onChange,H=n.value,ie=n.options,ce=n.registry,le=(0,it.t4)("BaseInputTemplate",ce,ie),Be=(0,M.useMemo)(function(){return Array.isArray(H)?In(H):In([H])},[H]),Ve=(0,M.useState)(Be),et=Ve[0],ve=Ve[1],Ye=(0,M.useCallback)(function(We){We.target.files&&Tt(We.target.files).then(function(bt){ve(bt);var kt=bt.map(function(zt){return zt.dataURL});k(E?kt:kt[0])})},[E,k]);return(0,pt.jsxs)("div",{children:[(0,pt.jsx)(le,Qr({},n,{disabled:u||d,type:"file",required:H?!1:w,onChangeOverride:Ye,value:"",accept:ie.accept?String(ie.accept):void 0})),(0,pt.jsx)(qr,{filesInfo:et,registry:ce,preview:ie.filePreview})]})}function ta(n){var u=n.id,d=n.value;return(0,pt.jsx)("input",{type:"hidden",id:u,name:u,value:typeof d=="undefined"?"":d})}function sl(n){var u=n.options,d=n.registry,w=(0,it.t4)("BaseInputTemplate",d,u);return(0,pt.jsx)(w,Qr({type:"password"},n))}function Ya(n){var u=n.options,d=n.value,w=n.required,E=n.disabled,k=n.readonly,H=n.autofocus,ie=H===void 0?!1:H,ce=n.onBlur,le=n.onFocus,Be=n.onChange,Ve=n.id,et=u.enumOptions,ve=u.enumDisabled,Ye=u.inline,We=u.emptyValue,bt=(0,M.useCallback)(function(zt){var It=zt.target.value;return ce(Ve,(0,it.QP)(It,et,We))},[ce,Ve]),kt=(0,M.useCallback)(function(zt){var It=zt.target.value;return le(Ve,(0,it.QP)(It,et,We))},[le,Ve]);return(0,pt.jsx)("div",{className:"field-radio-group",id:Ve,children:Array.isArray(et)&&et.map(function(zt,It){var nr=(0,it.TR)(zt.value,d),mr=Array.isArray(ve)&&ve.indexOf(zt.value)!==-1,kr=E||mr||k?"disabled":"",br=function(){return Be(zt.value)},dr=(0,pt.jsxs)("span",{children:[(0,pt.jsx)("input",{type:"radio",id:(0,it.DK)(Ve,It),checked:nr,name:Ve,required:w,value:String(It),disabled:E||mr||k,autoFocus:ie&&It===0,onChange:br,onBlur:bt,onFocus:kt,"aria-describedby":(0,it.Jx)(Ve)}),(0,pt.jsx)("span",{children:zt.label})]});return Ye?(0,pt.jsx)("label",{className:"radio-inline "+kr,children:dr},It):(0,pt.jsx)("div",{className:"radio "+kr,children:(0,pt.jsx)("label",{children:dr})},It)})})}function ao(n){var u=n.value,d=n.registry.templates.BaseInputTemplate;return(0,pt.jsxs)("div",{className:"field-range-wrapper",children:[(0,pt.jsx)(d,Qr({type:"range"},n)),(0,pt.jsx)("span",{className:"range-view",children:u})]})}function Us(n,u){return u?Array.from(n.target.options).slice().filter(function(d){return d.selected}).map(function(d){return d.value}):n.target.value}function ks(n){var u=n.schema,d=n.id,w=n.options,E=n.value,k=n.required,H=n.disabled,ie=n.readonly,ce=n.multiple,le=ce===void 0?!1:ce,Be=n.autofocus,Ve=Be===void 0?!1:Be,et=n.onChange,ve=n.onBlur,Ye=n.onFocus,We=n.placeholder,bt=w.enumOptions,kt=w.enumDisabled,zt=w.emptyValue,It=le?[]:"",nr=(0,M.useCallback)(function(dr){var Yr=Us(dr,le);return Ye(d,(0,it.QP)(Yr,bt,zt))},[Ye,d,u,le,w]),mr=(0,M.useCallback)(function(dr){var Yr=Us(dr,le);return ve(d,(0,it.QP)(Yr,bt,zt))},[ve,d,u,le,w]),kr=(0,M.useCallback)(function(dr){var Yr=Us(dr,le);return et((0,it.QP)(Yr,bt,zt))},[et,u,le,w]),br=(0,it.Rt)(E,bt,le);return(0,pt.jsxs)("select",{id:d,name:d,multiple:le,className:"form-control",value:typeof br=="undefined"?It:br,required:k,disabled:H||ie,autoFocus:Ve,onBlur:mr,onFocus:nr,onChange:kr,"aria-describedby":(0,it.Jx)(d),children:[!le&&u.default===void 0&&(0,pt.jsx)("option",{value:"",children:We}),Array.isArray(bt)&&bt.map(function(dr,Yr){var bn=dr.value,Mr=dr.label,sn=kt&&kt.indexOf(bn)!==-1;return(0,pt.jsx)("option",{value:String(Yr),disabled:sn,children:Mr},Yr)})]})}function xo(n){var u=n.id,d=n.options,w=d===void 0?{}:d,E=n.placeholder,k=n.value,H=n.required,ie=n.disabled,ce=n.readonly,le=n.autofocus,Be=le===void 0?!1:le,Ve=n.onChange,et=n.onBlur,ve=n.onFocus,Ye=(0,M.useCallback)(function(kt){var zt=kt.target.value;return Ve(zt===""?w.emptyValue:zt)},[Ve,w.emptyValue]),We=(0,M.useCallback)(function(kt){var zt=kt.target.value;return et(u,zt)},[et,u]),bt=(0,M.useCallback)(function(kt){var zt=kt.target.value;return ve(u,zt)},[u,ve]);return(0,pt.jsx)("textarea",{id:u,name:u,className:"form-control",value:k||"",placeholder:E,required:H,disabled:ie,readOnly:ce,autoFocus:Be,rows:w.rows,onBlur:We,onFocus:bt,onChange:Ye,"aria-describedby":(0,it.Jx)(u)})}xo.defaultProps={autofocus:!1,options:{}};function Oa(n){var u=n.options,d=n.registry,w=(0,it.t4)("BaseInputTemplate",d,u);return(0,pt.jsx)(w,Qr({},n))}function xa(n){var u=n.onChange,d=n.options,w=n.registry,E=(0,it.t4)("BaseInputTemplate",w,d),k=(0,M.useCallback)(function(H){return u(H?H+":00":void 0)},[u]);return(0,pt.jsx)(E,Qr({type:"time"},n,{onChange:k}))}function hl(n){var u=n.options,d=n.registry,w=(0,it.t4)("BaseInputTemplate",d,u);return(0,pt.jsx)(w,Qr({type:"url"},n))}function jo(n){var u=n.options,d=n.registry,w=(0,it.t4)("BaseInputTemplate",d,u);return(0,pt.jsx)(w,Qr({type:"number"},n))}function Za(){return{AltDateWidget:Pl,AltDateTimeWidget:r,CheckboxWidget:p,CheckboxesWidget:S,ColorWidget:P,DateWidget:B,DateTimeWidget:ae,EmailWidget:Ae,FileWidget:Ki,HiddenWidget:ta,PasswordWidget:sl,RadioWidget:Ya,RangeWidget:ao,SelectWidget:ks,TextWidget:Oa,TextareaWidget:xo,TimeWidget:xa,UpDownWidget:jo,URLWidget:hl}}function al(){return{fields:me(),templates:vl(),widgets:Za(),rootSchema:{},formContext:{},translateString:it.XG}}var ll=function(n){Na(u,n);function u(w){var E;if(E=n.call(this,w)||this,E.formElement=void 0,E.getUsedFormData=function(k,H){if(H.length===0&&typeof k!="object")return k;var ie=Zn(k,H);return Array.isArray(k)?Object.keys(ie).map(function(ce){return ie[ce]}):ie},E.getFieldNames=function(k,H){var ie=function ce(le,Be,Ve){return Be===void 0&&(Be=[]),Ve===void 0&&(Ve=[[]]),Object.keys(le).forEach(function(et){if(typeof le[et]=="object"){var ve=Ve.map(function(Ye){return[].concat(Ye,[et])});le[et][it.g$]&&le[et][it.PK]!==""?Be.push(le[et][it.PK]):ce(le[et],Be,ve)}else et===it.PK&&le[et]!==""&&Ve.forEach(function(Ye){var We=(0,Zi.Z)(H,Ye);(typeof We!="object"||(0,Mi.Z)(We))&&Be.push(Ye)})}),Be};return ie(k)},E.onChange=function(k,H,ie){var ce=E.props,le=ce.extraErrors,Be=ce.omitExtraData,Ve=ce.liveOmit,et=ce.noValidate,ve=ce.liveValidate,Ye=ce.onChange,We=E.state,bt=We.schemaUtils,kt=We.schema;if((0,it.Kn)(k)||Array.isArray(k)){var zt=E.getStateFromProps(E.props,k);k=zt.formData}var It=!et&&ve,nr={formData:k,schema:kt},mr=k;if(Be===!0&&Ve===!0){var kr=bt.retrieveSchema(kt,k),br=bt.toPathSchema(kr,"",k),dr=E.getFieldNames(br,k);mr=E.getUsedFormData(k,dr),nr={formData:mr}}if(It){var Yr=E.validate(mr),bn=Yr.errors,Mr=Yr.errorSchema,sn=bn,Fn=Mr;if(le){var Bn=(0,it.J0)(Yr,le);Mr=Bn.errorSchema,bn=Bn.errors}nr={formData:mr,errors:bn,errorSchema:Mr,schemaValidationErrors:sn,schemaValidationErrorSchema:Fn}}else if(!et&&H){var Rn=le?(0,it.PM)(H,le,"preventDuplicates"):H;nr={formData:mr,errorSchema:Rn,errors:(0,it.mp)(Rn)}}E.setState(nr,function(){return Ye&&Ye(Qr({},E.state,nr),ie)})},E.reset=function(){var k=E.props.onChange,H=E.getStateFromProps(E.props,void 0),ie=H.formData,ce={formData:ie,errorSchema:{},errors:[],schemaValidationErrors:[],schemaValidationErrorSchema:{}};E.setState(ce,function(){return k&&k(Qr({},E.state,ce))})},E.onBlur=function(k,H){var ie=E.props.onBlur;ie&&ie(k,H)},E.onFocus=function(k,H){var ie=E.props.onFocus;ie&&ie(k,H)},E.onSubmit=function(k){if(k.preventDefault(),k.target===k.currentTarget){k.persist();var H=E.props,ie=H.omitExtraData,ce=H.extraErrors,le=H.noValidate,Be=H.onSubmit,Ve=E.state.formData,et=E.state,ve=et.schema,Ye=et.schemaUtils;if(ie===!0){var We=Ye.retrieveSchema(ve,Ve),bt=Ye.toPathSchema(We,"",Ve),kt=E.getFieldNames(bt,Ve);Ve=E.getUsedFormData(Ve,kt)}if(le||E.validateForm()){var zt=ce||{},It=ce?(0,it.mp)(ce):[];E.setState({formData:Ve,errors:It,errorSchema:zt,schemaValidationErrors:[],schemaValidationErrorSchema:{}},function(){Be&&Be(Qr({},E.state,{formData:Ve,status:"submitted"}),k)})}}},!w.validator)throw new Error("A validator is required for Form functionality to work");return E.state=E.getStateFromProps(w,w.formData),E.props.onChange&&!(0,it.qt)(E.state.formData,E.props.formData)&&E.props.onChange(E.state),E.formElement=(0,M.createRef)(),E}var d=u.prototype;return d.UNSAFE_componentWillReceiveProps=function(E){var k=this.getStateFromProps(E,E.formData);!(0,it.qt)(k.formData,E.formData)&&!(0,it.qt)(k.formData,this.state.formData)&&E.onChange&&E.onChange(k),this.setState(k)},d.getStateFromProps=function(E,k){var H=this.state||{},ie="schema"in E?E.schema:this.props.schema,ce=("uiSchema"in E?E.uiSchema:this.props.uiSchema)||{},le=typeof k!="undefined",Be="liveValidate"in E?E.liveValidate:this.props.liveValidate,Ve=le&&!E.noValidate&&Be,et=ie,ve=H.schemaUtils;(!ve||ve.doesSchemaUtilsDiffer(E.validator,et))&&(ve=(0,it.hf)(E.validator,et));var Ye=ve.getDefaultFormState(ie,k),We=ve.retrieveSchema(ie,Ye),bt=function(){return E.noValidate?{errors:[],errorSchema:{}}:E.liveValidate?{errors:H.errors||[],errorSchema:H.errorSchema||{}}:{errors:H.schemaValidationErrors||[],errorSchema:H.schemaValidationErrorSchema||{}}},kt,zt,It=H.schemaValidationErrors,nr=H.schemaValidationErrorSchema;if(Ve){var mr=this.validate(Ye,ie,ve);kt=mr.errors,zt=mr.errorSchema,It=kt,nr=zt}else{var kr=bt();kt=kr.errors,zt=kr.errorSchema}if(E.extraErrors){var br=(0,it.J0)({errorSchema:zt,errors:kt},E.extraErrors);zt=br.errorSchema,kt=br.errors}var dr=ve.toIdSchema(We,ce["ui:rootFieldId"],Ye,E.idPrefix,E.idSeparator),Yr={schemaUtils:ve,schema:ie,uiSchema:ce,idSchema:dr,formData:Ye,edit:le,errors:kt,errorSchema:zt,schemaValidationErrors:It,schemaValidationErrorSchema:nr};return Yr},d.shouldComponentUpdate=function(E,k){return(0,it.N0)(this,E,k)},d.validate=function(E,k,H){k===void 0&&(k=this.props.schema);var ie=H||this.state.schemaUtils,ce=this.props,le=ce.customValidate,Be=ce.transformErrors,Ve=ce.uiSchema,et=ie.retrieveSchema(k,E);return ie.getValidator().validateFormData(E,et,le,Be,Ve)},d.renderErrors=function(E){var k=this.state,H=k.errors,ie=k.errorSchema,ce=k.schema,le=k.uiSchema,Be=this.props.formContext,Ve=(0,it.LI)(le),et=(0,it.t4)("ErrorListTemplate",E,Ve);return H&&H.length?(0,pt.jsx)(et,{errors:H,errorSchema:ie||{},schema:ce,uiSchema:le,formContext:Be,registry:E}):null},d.getRegistry=function(){var E,k=this.props,H=k.translateString,ie=k.uiSchema,ce=ie===void 0?{}:ie,le=this.state.schemaUtils,Be=al(),Ve=Be.fields,et=Be.templates,ve=Be.widgets,Ye=Be.formContext,We=Be.translateString;return{fields:Qr({},Ve,this.props.fields),templates:Qr({},et,this.props.templates,{ButtonTemplates:Qr({},et.ButtonTemplates,(E=this.props.templates)===null||E===void 0?void 0:E.ButtonTemplates)}),widgets:Qr({},ve,this.props.widgets),rootSchema:this.props.schema,formContext:this.props.formContext||Ye,schemaUtils:le,translateString:H||We,globalUiOptions:ce[it.J1]}},d.submit=function(){this.formElement.current&&(this.formElement.current.dispatchEvent(new CustomEvent("submit",{cancelable:!0})),this.formElement.current.requestSubmit())},d.focusOnError=function(E){var k=this.props,H=k.idPrefix,ie=H===void 0?"root":H,ce=k.idSeparator,le=ce===void 0?"_":ce,Be=E.property,Ve=(0,Nn.Z)(Be);Ve[0]===""?Ve[0]=ie:Ve.unshift(ie);var et=Ve.join(le),ve=this.formElement.current.elements[et];ve||(ve=this.formElement.current.querySelector("input[id^="+et)),ve.length&&(ve=ve[0]),ve&&ve.focus()},d.validateForm=function(){var E=this.props,k=E.extraErrors,H=E.focusOnFirstError,ie=E.onError,ce=this.state.formData,le=this.validate(ce),Be=le.errors,Ve=le.errorSchema,et=Be,ve=Ve;if(Be.length>0){if(k){var Ye=(0,it.J0)(le,k);Ve=Ye.errorSchema,Be=Ye.errors}return H&&(typeof H=="function"?H(le.errors[0]):this.focusOnError(le.errors[0])),this.setState({errors:Be,errorSchema:Ve,schemaValidationErrors:et,schemaValidationErrorSchema:ve},function(){ie?ie(Be):console.error("Form validation failed",Be)}),!1}return!0},d.render=function(){var E,k,H=this.props,ie=H.children,ce=H.id,le=H.idPrefix,Be=H.idSeparator,Ve=H.className,et=Ve===void 0?"":Ve,ve=H.tagName,Ye=H.name,We=H.method,bt=H.target,kt=H.action,zt=H.autoComplete,It=H.enctype,nr=H.acceptcharset,mr=H.noHtml5Validate,kr=mr===void 0?!1:mr,br=H.disabled,dr=br===void 0?!1:br,Yr=H.readonly,bn=Yr===void 0?!1:Yr,Mr=H.formContext,sn=H.showErrorList,Fn=sn===void 0?"top":sn,Bn=H._internalFormWrapper,Rn=this.state,ni=Rn.schema,$i=Rn.uiSchema,ii=Rn.formData,oi=Rn.errorSchema,ui=Rn.idSchema,zi=this.getRegistry(),No=zi.fields.SchemaField,Qi=zi.templates.ButtonTemplates.SubmitButton,bs=Bn?ve:void 0,Vs=Bn||ve||"form",Lo=(0,it.LI)($i),Ii=Lo[it.t5],si=Ii===void 0?{}:Ii;dr&&(si=Qr({},si,{props:Qr({},si.props,{disabled:!0})}));var ls=(k={},k[it.ji]=(E={},E[it.t5]=si,E),k);return(0,pt.jsxs)(Vs,{className:et||"rjsf",id:ce,name:Ye,method:We,target:bt,action:kt,autoComplete:zt,encType:It,acceptCharset:nr,noValidate:kr,onSubmit:this.onSubmit,as:bs,ref:this.formElement,children:[Fn==="top"&&this.renderErrors(zi),(0,pt.jsx)(No,{name:"",schema:ni,uiSchema:$i,errorSchema:oi,idSchema:ui,idPrefix:le,idSeparator:Be,formContext:Mr,formData:ii,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:zi,disabled:dr,readonly:bn}),ie||(0,pt.jsx)(Qi,{uiSchema:ls,registry:zi}),Fn==="bottom"&&this.renderErrors(zi)]})},u}(M.Component),gl=["fields","widgets","templates"];function yl(n){return(0,M.forwardRef)(function(u,d){var w,E,k=u.fields,H=u.widgets,ie=u.templates,ce=Xi(u,gl);return k=Qr({},n==null?void 0:n.fields,k),H=Qr({},n==null?void 0:n.widgets,H),ie=Qr({},n==null?void 0:n.templates,ie,{ButtonTemplates:Qr({},n==null||(w=n.templates)===null||w===void 0?void 0:w.ButtonTemplates,(E=ie)===null||E===void 0?void 0:E.ButtonTemplates)}),(0,pt.jsx)(ll,Qr({},n,ce,{fields:k,widgets:H,templates:ie,ref:d}))})}var ml=a(34520),Ca=a(73495),ra=a(52160),cl=a(67898),fl=a(27057),Tl=a(71140),Bl=a(34063),Wl=a(72779),Zl=a.n(Wl),Ul=a(34812),Vl=a(91750),Kl=a(70218),Sl=a(26228),zl=a(75951),Hl=a.n(zl);function Jl(n){(0,M.useEffect)(function(){n()},[])}var Gl=a(82108),Yl=a.n(Gl),Xl=a(19996),Ql=a(25505),ql=a(38016),eu=a(88013),tu=a(61837),_l=a(86136),Dl=a(49378),kl=a(12231),ru=a(50758),nu=a(79784),iu=a(30254),ou=a(27604),su=a(5075),au=a(43054),Ju=a(18473);function nl(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}function dl(n,u){if(!nl(n))return;const{properties:d,items:w,anyOf:E,oneOf:k,allOf:H,dependencies:ie}=n;for(const ce in n)n.hasOwnProperty(ce)&&ce.startsWith("ui:")&&(u[ce]=n[ce],delete n[ce]);if(nl(d))for(const ce in d){if(!d.hasOwnProperty(ce))continue;const le=d[ce];if(!nl(le))continue;const Be={};u[ce]=Be,dl(le,Be)}if(nl(w)){const ce={};u.items=ce,dl(w,ce)}if(Array.isArray(E))for(const ce of E)nl(ce)&&dl(ce,u);if(Array.isArray(k))for(const ce of k)nl(ce)&&dl(ce,u);if(Array.isArray(H))for(const ce of H)nl(ce)&&dl(ce,u);if(nl(ie))for(const ce of Object.keys(ie)){const le=ie[ce];nl(le)&&dl(le,u)}}const El=n=>{const u={},d=JSON.parse(JSON.stringify(n));return dl(d,u),{uiSchema:u,schema:d}},lu=()=>{const n={__errors:[],addError:u=>{var d;(d=n.__errors)==null||d.push(u)}};return n};function uu(n){return!!n&&"__errors"in n}function Il(n){var u;if(!n)return!1;for(const d of Object.values(n)){if(uu(d)){if(((u=d.__errors)!=null?u:[]).length>0)return!0;continue}if(Il(d))return!0}return!1}function cu(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}const fu=(n,u,d)=>{async function w(E,k="#",H=E){var ie,ce;const le=new xi(n),Be={},Ve=async(et,ve,Ye,We,bt)=>{const kt=u[et];if(kt){const zt=lu();try{await kt(Ye,zt,{...d,formData:E,schema:We,uiSchema:bt})}catch(It){zt.addError(It.message)}Be[ve]=zt}};for(const[et,ve]of Object.entries(H)){const Ye=`${k}/${et}`,We=le.getSchema(Ye,E),{schema:bt,uiSchema:kt}=El(We),zt=We&&We.items,It=async(mr,kr,br)=>{await Ve(mr["ui:field"],et,ve,kr,br)},nr=async mr=>{if("ui:field"in mr){const{schema:kr,uiSchema:br}=El(We.items);await It(mr,kr,br)}};if(We&&"ui:field"in We)await It(We,bt,kt);else if(zt&&"ui:field"in We.items)await nr(We.items);else if(zt&&We.items.type==="object"){const mr=(ce=(ie=We.items)==null?void 0:ie.properties)!=null?ce:[];for(const[,kr]of Object.entries(mr))await nr(kr)}else cu(ve)&&(Be[et]=await w(E,Ye,ve))}return Be}return async E=>await w(E)},du=n=>{const u=Object.fromEntries(Object.entries(n.formState).map(([d,w])=>{var E;for(const k of n.schemas){const ie=new xi(k.mergedSchema).getSchema(`#/${d}`,n.formState);if(ie){const ce=(E=ie["ui:backstage"])==null?void 0:E.review;if(ce){if(ce.mask)return[d,ce.mask];if(ce.show===!1)return[]}if(ie["ui:widget"]==="password")return[d,"******"]}}return[d,w]}));return M.createElement(Wn.xT,{metadata:u})},hu=n=>{const u=(0,o.h_)(o.W0);return{steps:n.steps.map(({title:E,description:k,schema:H})=>({title:E,description:k,mergedSchema:H,...El(H)})).filter(E=>{var k;const H=(k=E.uiSchema["ui:backstage"])==null?void 0:k.featureFlag;return H?u.isActive(H):!0}).map(E=>{var k,H;return{...E,schema:{...E.schema,title:void 0,properties:Object.fromEntries(Object.entries((H=(k=E.schema)==null?void 0:k.properties)!=null?H:[]).filter(([ie])=>{var ce,le;const Be=(le=(ce=E.uiSchema[ie])==null?void 0:ce["ui:backstage"])==null?void 0:le.featureFlag;return Be?u.isActive(Be):!0}))}}})}},mu=n=>(0,M.useState)(()=>{if(n)return n;const u=es().parse(window.location.search,{ignoreQueryPrefix:!0});try{return JSON.parse(u.formData)}catch{return{}}}),pu=n=>{const u=(0,o.h_)(xs.s),{value:d,loading:w,error:E}=(0,Os.default)(()=>u.getTemplateParameterSchema(n),[u,n]);return{manifest:d,loading:w,error:E}},gu=(n,u={})=>{var d;const{layouts:w=[]}=u,E=n==null?void 0:n.uiSchema["ui:ObjectFieldTemplate"];if(typeof E!="string")return n;const k=(d=w.find(H=>H.name===E))==null?void 0:d.component;return k?{...n,uiSchema:{...n.uiSchema,["ui:ObjectFieldTemplate"]:k}}:n};var yu=Object.freeze({__proto__:null,DescriptionField:({description:n})=>n&&M.createElement(Wn.SA,{content:n,linkTarget:"_blank"})});const Rl=yl(a(80070).Q2),vu=(0,m.Z)(n=>({backButton:{marginRight:n.spacing(1)},footer:{display:"flex",flexDirection:"row",justifyContent:"right",marginTop:n.spacing(2)},formWrapper:{padding:n.spacing(2)}})),Fl=n=>{var u;const{layouts:d=[],components:w={},...E}=n,{ReviewStateComponent:k=du,createButtonText:H="Create",reviewButtonText:ie="Review"}=w,ce=(0,o.z$)(),{steps:le}=hu(E.manifest),Be=(0,o.I_)(),[Ve,et]=(0,M.useState)(0),[ve,Ye]=(0,M.useState)(!1),[We,bt]=mu(E.initialState),[kt,zt]=(0,M.useState)(),It=vu(),nr=(0,M.useMemo)(()=>Object.fromEntries(E.extensions.map(({name:Mr,component:sn})=>[Mr,sn])),[E.extensions]),mr=(0,M.useMemo)(()=>Object.fromEntries(E.extensions.map(({name:Mr,validation:sn})=>[Mr,sn])),[E.extensions]),kr=(0,M.useMemo)(()=>{var Mr;return fu((Mr=le[Ve])==null?void 0:Mr.mergedSchema,mr,{apiHolder:Be})},[le,Ve,mr,Be]),br=()=>{et(Mr=>Mr-1)},dr=(0,M.useCallback)(Mr=>bt(sn=>({...sn,...Mr.formData})),[bt]),Yr=gu(le[Ve],{layouts:d}),bn=async({formData:Mr={}})=>{zt(void 0),Ye(!0);const sn=await kr(Mr);Ye(!1),Il(sn)?zt(sn):(zt(void 0),et(Fn=>{const Bn=Fn+1;return ce.captureEvent("click",`Next Step (${Bn})`),Bn})),bt(Fn=>({...Fn,...Mr}))};return M.createElement(M.Fragment,null,ve&&M.createElement(I.Z,{variant:"indeterminate"}),M.createElement(O.Z,{activeStep:Ve,alternativeLabel:!0,variant:"elevation"},le.map((Mr,sn)=>M.createElement(_.Z,{key:sn},M.createElement(D.Z,null,Mr.title))),M.createElement(_.Z,null,M.createElement(D.Z,null,"Review"))),M.createElement("div",{className:It.formWrapper},Ve<le.length?M.createElement(Rl,{validator:zs.Z,extraErrors:kt,formData:We,formContext:{formData:We},schema:Yr.schema,uiSchema:Yr.uiSchema,onSubmit:bn,fields:{...yu,...nr},showErrorList:!1,onChange:dr,...(u=E.FormProps)!=null?u:{}},M.createElement("div",{className:It.footer},M.createElement(N.Z,{onClick:br,className:It.backButton,disabled:Ve<1||ve},"Back"),M.createElement(N.Z,{variant:"contained",color:"primary",type:"submit",disabled:ve},Ve===le.length-1?ie:"Next"))):M.createElement(M.Fragment,null,M.createElement(k,{formState:We,schemas:le}),M.createElement("div",{className:It.footer},M.createElement(N.Z,{onClick:br,className:It.backButton,disabled:Ve<1},"Back"),M.createElement(N.Z,{variant:"contained",color:"primary",onClick:()=>{var Mr;E.onCreate(We);const sn=typeof We.name=="string"?We.name:void 0;ce.captureEvent("create",(Mr=sn!=null?sn:E.templateName)!=null?Mr:"unknown")}},H)))))},bu=(0,m.Z)(()=>({header:{backgroundImage:({cardBackgroundImage:n})=>n,color:({cardFontColor:n})=>n},subtitleWrapper:{display:"flex",justifyContent:"space-between"}})),Su=n=>{const{template:{metadata:{title:u,name:d},spec:{type:w}}}=n,{getPageTheme:E}=(0,R.Z)(),k=E({themeId:w}),H=bu({cardFontColor:k.fontColor,cardBackgroundImage:k.backgroundImage}),ie=M.createElement("div",{className:H.subtitleWrapper},M.createElement("div",null,w),M.createElement("div",null,M.createElement(Ca.LH,{entity:n.template,style:{padding:0}})));return M.createElement(Wn.hu,{title:u!=null?u:d,subtitle:ie,classes:{root:H.header}})},Eu=(0,m.Z)(()=>({linkText:{display:"inline-flex",alignItems:"center"}})),jl=({icon:n,text:u,url:d})=>{const w=Eu();return M.createElement("div",{className:w.linkText},M.createElement(n,{fontSize:"small"}),M.createElement(Wn.rU,{style:{marginLeft:"8px"},to:d},u||d))},wu=(0,m.Z)(n=>({box:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box","-webkit-line-clamp":10,"-webkit-box-orient":"vertical"},markdown:{"& :first-child":{margin:0}},label:{color:n.palette.text.secondary,textTransform:"uppercase",fontWeight:"bold",letterSpacing:.5,lineHeight:1,fontSize:"0.75rem"},footer:{display:"flex",justifyContent:"space-between",flex:1,alignItems:"center"},ownedBy:{display:"flex",alignItems:"center",flex:1,color:n.palette.link}})),Ou=n=>{var u,d,w,E,k,H,ie;const{template:ce}=n,le=wu(),Be=(0,Ca.hF)(ce,ml.S4),Ve=(0,o.qD)(),et=ve=>{var Ye;return ve&&(Ye=Ve.getSystemIcon(ve))!=null?Ye:ra.Z};return M.createElement($.Z,null,M.createElement(Su,{template:ce}),M.createElement(z.Z,null,M.createElement(J.Z,{container:!0,spacing:2},M.createElement(J.Z,{item:!0,xs:12},M.createElement(ee.Z,{className:le.box},M.createElement(Wn.SA,{className:le.markdown,content:(u=ce.metadata.description)!=null?u:"No description"}))),((w=(d=ce.metadata.tags)==null?void 0:d.length)!=null?w:0)>0&&M.createElement(M.Fragment,null,M.createElement(J.Z,{item:!0,xs:12},M.createElement(re.Z,null)),M.createElement(J.Z,{item:!0,xs:12},M.createElement(J.Z,{container:!0,spacing:2},(E=ce.metadata.tags)==null?void 0:E.map(ve=>M.createElement(J.Z,{item:!0},M.createElement(oe.Z,{style:{margin:0},size:"small",label:ve,key:ve})))))),(n.additionalLinks||((k=ce.metadata.links)==null?void 0:k.length))&&M.createElement(M.Fragment,null,M.createElement(J.Z,{item:!0,xs:12},M.createElement(re.Z,null)),M.createElement(J.Z,{item:!0,xs:12},M.createElement(J.Z,{container:!0,spacing:2},(H=n.additionalLinks)==null?void 0:H.map(({icon:ve,text:Ye,url:We},bt)=>M.createElement(J.Z,{className:le.linkText,item:!0,xs:6,key:bt},M.createElement(jl,{icon:ve,text:Ye,url:We}))),(ie=ce.metadata.links)==null?void 0:ie.map(({url:ve,icon:Ye,title:We},bt)=>M.createElement(J.Z,{className:le.linkText,item:!0,xs:6,key:bt},M.createElement(jl,{icon:et(Ye),text:We||ve,url:ve})))))))),M.createElement(ye.Z,{style:{padding:"16px",flex:1,alignItems:"flex-end"}},M.createElement("div",{className:le.footer},M.createElement("div",{className:le.ownedBy},Be.length>0&&M.createElement(M.Fragment,null,M.createElement(Wn.tB,{fontSize:"small"}),M.createElement(Ca.rI,{style:{marginLeft:"8px"},entityRefs:Be,defaultKind:"Group"}))),M.createElement(N.Z,{size:"small",variant:"outlined",color:"primary",onClick:()=>{var ve;return(ve=n.onSelected)==null?void 0:ve.call(n,ce)}},"Choose"))))},Nl=n=>{const{templates:u,title:d,components:{CardComponent:w}={},onSelected:E}=n,k=typeof d=="string"?M.createElement(Wn.yW,{title:d}):d;if(u.length===0)return M.createElement(Wn.VY,null,k,M.createElement(F.Z,{variant:"body2"},"No templates found that match your filter. Learn more about"," ",M.createElement(Wn.rU,{to:"https://backstage.io/docs/features/software-templates/adding-templates"},"adding templates"),"."));const H=w||Ou;return M.createElement(Wn.VY,null,k,M.createElement(Wn.Oh,null,u.map(({template:ie,additionalLinks:ce})=>M.createElement(H,{key:(0,ml.eE)(ie),additionalLinks:ce,template:ie,onSelected:E}))))},xu=n=>{const{loading:u,error:d,entities:w}=(0,Ca.wp)(),{groups:E,templateFilter:k,TemplateCardComponent:H,onTemplateSelected:ie}=n,ce=(0,o.h_)(o.VE),le=(0,M.useCallback)(Be=>{ie==null||ie(Be)},[ie]);return u?M.createElement(Wn.Ex,null):d?(ce.post(d),null):!w||!w.length?M.createElement(F.Z,{variant:"body2"},"No templates found that match your filter. Learn more about"," ",M.createElement(Wn.rU,{to:"https://backstage.io/docs/features/software-templates/adding-templates"},"adding templates"),"."):M.createElement(M.Fragment,null,E.map(({title:Be,filter:Ve},et)=>{const ve=w.filter(cl.t).filter(Ye=>k?k(Ye):!0).filter(Ve).map(Ye=>{var We,bt;const kt=(bt=(We=n.additionalLinksForEntity)==null?void 0:We.call(n,Ye))!=null?bt:[];return{template:Ye,additionalLinks:kt}});return M.createElement(Nl,{key:et,templates:ve,title:Be,components:{CardComponent:H},onSelected:le})}))},Cu=(0,m.Z)(()=>({markdown:{"& :first-child":{marginTop:0},"& :last-child":{marginBottom:0}}})),Ll=n=>{var u;const{title:d,description:w,namespace:E,templateName:k,...H}=n,ie=Cu(),ce=(0,ml.eE)({kind:"Template",namespace:E,name:k}),le=(0,o.h_)(o.VE),{loading:Be,manifest:Ve,error:et}=pu(ce);return(0,M.useEffect)(()=>{et&&le.post(new Error(`Failed to load template, ${et}`))},[et,le]),et?H.onError(et):M.createElement(Wn.VY,null,Be&&M.createElement(Wn.Ex,null),Ve&&M.createElement(Wn.rJ,{title:d!=null?d:Ve.title,subheader:M.createElement(Wn.SA,{className:ie.markdown,content:(u=w!=null?w:Ve.description)!=null?u:"No description"}),noPadding:!0,titleTypographyProps:{component:"h2"}},M.createElement(Fl,{manifest:Ve,...H})))},Yu=n=>React.createElement(SecretsContextProvider,null,React.createElement(Ll,{...n})),Au=(0,m.Z)({root:{"&:hover":{textDecoration:"none"}}}),Pu=n=>{const{links:u=[]}=n.output,d=Au(),w=(0,o.qD)(),E=(0,o.tg)(Ca.wi),k=H=>{var ie;return(ie=w.getSystemIcon(H))!=null?ie:fl.Z};return M.createElement(M.Fragment,null,u.filter(({url:H,entityRef:ie})=>H||ie).map(({url:H,entityRef:ie,title:ce,icon:le})=>{if(ie){const Be=(0,ml.of)(ie),Ve=E(Be);return{title:ce,icon:le,url:Ve}}return{title:ce,icon:le,url:H}}).map(({url:H,title:ie,icon:ce},le)=>{const Be=k(ce);return M.createElement(Wn.rU,{to:H,key:le,classes:{root:d.root}},M.createElement(N.Z,{startIcon:M.createElement(Be,null),component:"div",color:"primary"},ie))}))},Tu=n=>{const{output:{text:u=[]},index:d,setIndex:w}=n,E=(0,o.qD)(),k=H=>{var ie;return(ie=E.getSystemIcon(H))!=null?ie:fl.Z};return M.createElement(M.Fragment,null,u.filter(({content:H})=>H!==void 0).map(({title:H,icon:ie},ce)=>{const le=k(ie);return M.createElement(N.Z,{key:ce,startIcon:M.createElement(le,null),component:"div",color:"primary",onClick:()=>w==null?void 0:w(d!==ce?ce:void 0),variant:d===ce?"outlined":void 0},H)}))},_u=n=>{var u,d;const[w,E]=(0,M.useState)(),k=(0,M.useMemo)(()=>{var H,ie;return w!==void 0?(ie=(H=n.output)==null?void 0:H.text)==null?void 0:ie[w]:null},[n.output,w]);return n.output?M.createElement(M.Fragment,null,M.createElement(ee.Z,{paddingBottom:2},M.createElement(G.Z,null,M.createElement(ee.Z,{padding:2,justifyContent:"center",display:"flex",gridGap:16},M.createElement(Tu,{output:n.output,index:w,setIndex:E}),M.createElement(Pu,{output:n.output})))),k?M.createElement(ee.Z,{paddingBottom:2},M.createElement(Wn.rJ,{title:(u=k.title)!=null?u:"Text Output",noPadding:!0,titleTypographyProps:{component:"h2"}},M.createElement(ee.Z,{padding:2,height:"100%"},M.createElement(Wn.SA,{content:(d=k.content)!=null?d:""})))):null):null},Du=(0,m.Z)(n=>({root:{color:n.palette.text.disabled},completed:{color:n.palette.status.ok},error:{color:n.palette.status.error}})),ku=n=>{const u=Du(),{active:d,completed:w,error:E,skipped:k}=n,H=()=>d?M.createElement(Se.Z,{size:"20px"}):w?M.createElement(Ul.Z,null):E?M.createElement(Vl.Z,null):k?M.createElement(Tl.Z,null):M.createElement(Bl.Z,null);return M.createElement("div",{className:Zl()(u.root,{[u.completed]:w,[u.error]:E})},H())},Mu=n=>{const[u,d]=(0,M.useState)(""),{step:w}=n,E=(0,M.useCallback)(()=>{if(!w.startedAt){d("");return}const k=w.endedAt?Sl.ou.fromISO(w.endedAt):Sl.ou.local(),H=Sl.ou.fromISO(w.startedAt),ie=Sl.Xp.fromDateTimes(H,k).toDuration().valueOf();d(Hl()(ie,{round:!0}))},[w.endedAt,w.startedAt]);return Jl(()=>E()),(0,Kl.Z)(()=>!w.endedAt&&E(),1e3),M.createElement(F.Z,{variant:"caption"},u)},$u=(0,m.Z)(n=>({failed:{backgroundColor:n.palette.error.main},success:{backgroundColor:n.palette.success.main}})),Iu=n=>{const u=$u();return n.isComplete?M.createElement(I.Z,{variant:"determinate",classes:{bar:n.isError?u.failed:u.success},value:100}):M.createElement(I.Z,{variant:"indeterminate"})},Ru=n=>{var u,d;return M.createElement(G.Z,{style:{position:"relative",overflow:"hidden"}},M.createElement(Iu,{isComplete:(u=n.isComplete)!=null?u:!1,isError:(d=n.isError)!=null?d:!1}),M.createElement(ee.Z,{padding:2},M.createElement(O.Z,{activeStep:n.activeStep,alternativeLabel:!0,variant:"elevation"},n.steps.map((w,E)=>{const k=w.status==="completed",H=w.status==="failed",ie=w.status==="processing",ce=w.status==="skipped",le={completed:k,error:H,active:ie,skipped:ce};return M.createElement(_.Z,{key:E},M.createElement(se.Z,null,M.createElement(D.Z,{StepIconProps:le,StepIconComponent:ku,"data-testid":"step-label"},M.createElement(ee.Z,null,w.name),!ce&&M.createElement(Mu,{step:w}))))}))))},Fu=(0,m.Z)({root:{width:"100%",height:"100%",position:"relative"}}),ju=n=>{const u=Fu();return M.createElement("div",{className:u.root},M.createElement(Wn.nU,{text:Object.values(n.logs).map(d=>d.join(`
`)).filter(Boolean).join(`
`)}))},Nu=M.createElement(Ql.Z,{fontSize:"small"}),Lu=M.createElement(Xl.Z,{fontSize:"small"}),Bu=()=>{const n=(0,o.h_)(o.$v),{error:u,loading:d,availableTypes:w,selectedTypes:E,setSelectedTypes:k}=(0,Ca.Uh)();return d?M.createElement(Wn.Ex,null):u?(n.post({message:`Failed to load entity types with error: ${u}`,severity:"error"}),null):w?M.createElement(ee.Z,{pb:1,pt:1},M.createElement(F.Z,{variant:"button",component:"label",htmlFor:"categories-picker"},"Categories"),M.createElement(eu.ZP,{multiple:!0,id:"categories-picker",options:w,value:E,onChange:(H,ie)=>k(ie),renderOption:(H,{selected:ie})=>M.createElement(fe.Z,{control:M.createElement(be.Z,{icon:Nu,checkedIcon:Lu,checked:ie}),label:Yl()(H)}),size:"small",popupIcon:M.createElement(ql.Z,null),renderInput:H=>M.createElement(te.Z,{...H,variant:"outlined"})})):null},Wu=(0,m.Z)(n=>({button:{color:n.page.fontColor}}));function Zu(n){const{onEditorClicked:u,onActionsClicked:d,onTasksClicked:w}=n,E=Wu(),[k,H]=(0,M.useState)();if(!u&&!d)return null;const ie=le=>{H(le.currentTarget)},ce=()=>{H(void 0)};return M.createElement(M.Fragment,null,M.createElement(tu.Z,{id:"long-menu","aria-label":"more","aria-controls":"long-menu","aria-expanded":!!k,"aria-haspopup":"true",role:"button",onClick:ie,"data-testid":"menu-button",color:"inherit",className:E.button},M.createElement(au.Z,null)),M.createElement(nu.ZP,{"aria-labelledby":"long-menu",open:Boolean(k),onClose:ce,anchorEl:k,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},M.createElement(ru.Z,null,u&&M.createElement(kl.Z,{onClick:u},M.createElement(_l.Z,null,M.createElement(ou.Z,{fontSize:"small"})),M.createElement(Dl.Z,{primary:"Template Editor"})),d&&M.createElement(kl.Z,{onClick:d},M.createElement(_l.Z,null,M.createElement(iu.Z,{fontSize:"small"})),M.createElement(Dl.Z,{primary:"Installed Actions"})),w&&M.createElement(kl.Z,{onClick:w},M.createElement(_l.Z,null,M.createElement(su.Z,{fontSize:"small"})),M.createElement(Dl.Z,{primary:"Task List"})))))}function Xu(n){return{expose(){const u=()=>null;return attachComponentData(u,FIELD_EXTENSION_KEY,n),u}}}},30411:function(Te,b,a){"use strict";a.d(b,{D:function(){return oe},L:function(){return fe}});var o=a(23054),m=a(80236),I=a(30705),O=a(73495),_=a(64279),D=a(2784),N=a(12053),R=a(29181),$=a(26228),z=a(75951),J=a.n(z),ee=a(90436),re=a(34520);const oe=[{component:o.x,name:"EntityPicker",schema:o.y},{component:o.z,name:"EntityNamePicker",validation:o.A,schema:o.B},{component:o.C,name:"EntityTagsPicker",schema:o.D},{component:o.F,name:"RepoUrlPicker",validation:o.h,schema:o.G},{component:o.H,name:"OwnerPicker",schema:o.I},{component:o.J,name:"OwnedEntityPicker",schema:o.K}],ye=({createdAt:be})=>{const te=$.ou.fromISO(be),M=$.Xp.fromDateTimes(te,$.ou.local()).toDuration().valueOf();return D.createElement(ee.Z,{paragraph:!0},J()(M,{round:!0})," ago")},F=({entityRef:be})=>{var te,M,xe;const Le=(0,I.h_)(O.Ah),{value:Ce,loading:Ke,error:Xe}=(0,_.default)(()=>Le.getEntityByRef(be||""),[Le,be]);return be?Ke||Xe?null:D.createElement(O.dx,{entityRef:(0,re.of)(be),title:(xe=(M=(te=Ce==null?void 0:Ce.spec)==null?void 0:te.profile)==null?void 0:M.displayName)!=null?xe:Ce==null?void 0:Ce.metadata.name}):D.createElement(ee.Z,{paragraph:!0},"Unknown")},G=({status:be})=>{switch(be){case"processing":return D.createElement(m.wA,null,be);case"completed":return D.createElement(m.Kq,null,be);case"error":default:return D.createElement(m.vK,null,be)}},Se=({entityRef:be})=>{const te=(0,I.h_)(N.lc),{value:M,loading:xe,error:Le}=(0,_.default)(()=>te.getTemplateParameterSchema(be||""),[te,be]);return xe||Le||!be?null:D.createElement(O.dx,{entityRef:(0,re.of)(be),title:M==null?void 0:M.title})},se=be=>{var te;const{initiallySelectedFilter:M="owned"}=be,xe=(0,I.h_)(N.lc),Le=(0,I.tg)(o.r),[Ce,Ke]=(0,D.useState)(M),{value:Xe,loading:dt,error:st}=(0,_.default)(()=>{var Ge;return xe.listTasks?(Ge=xe.listTasks)==null?void 0:Ge.call(xe,{filterByOwnership:Ce}):(console.warn("listTasks is not implemented in the scaffolderApi, please make sure to implement this method."),Promise.resolve({tasks:[]}))},[xe,Ce]);return dt?D.createElement(m.Ex,null):st?D.createElement(D.Fragment,null,D.createElement(m.yu,{error:st}),D.createElement(m.ub,{missing:"info",title:"No information to display",description:"There is no Tasks or there was an issue communicating with backend."})):D.createElement(O._i,null,D.createElement(O._i.Filters,null,D.createElement(R.O,{filter:Ce,onSelectOwner:Ge=>Ke(Ge)})),D.createElement(O._i.Content,null,D.createElement(m.iA,{data:(te=Xe==null?void 0:Xe.tasks)!=null?te:[],title:"Tasks",columns:[{title:"Task ID",field:"id",render:Ge=>D.createElement(m.rU,{to:`${Le()}/tasks/${Ge.id}`},Ge.id)},{title:"Template",render:Ge=>{var _t;return D.createElement(Se,{entityRef:(_t=Ge.spec.templateInfo)==null?void 0:_t.entityRef})}},{title:"Created",field:"createdAt",render:Ge=>D.createElement(ye,{createdAt:Ge.createdAt})},{title:"Owner",field:"createdBy",render:Ge=>{var _t,or;return D.createElement(F,{entityRef:(or=(_t=Ge.spec)==null?void 0:_t.user)==null?void 0:or.ref})}},{title:"Status",field:"status",render:Ge=>D.createElement(G,{status:Ge.status})}]})))},fe=be=>D.createElement(m.T3,{themeId:"home"},D.createElement(m.h4,{pageTitleOverride:"Templates Tasks",title:D.createElement(D.Fragment,null,"List template tasks ",D.createElement(m.Fw,{shorthand:!0,alpha:!0})),subtitle:"All tasks that have been started"}),D.createElement(m.VY,null,D.createElement(se,{...be})))},29181:function(Te,b,a){"use strict";a.d(b,{A:function(){return _n},D:function(){return qt},O:function(){return mn},T:function(){return to},W:function(){return Pe},a:function(){return Bo},b:function(){return Oe},c:function(){return cs},d:function(){return ai},e:function(){return $s},u:function(){return Ee}});var o=a(2784),m=a(64279),I=a(12053),O=a(79692),_=a(60905),D=a(95544),N=a(90436),R=a(91256),$=a(27556),z=a(37390),J=a(58987),ee=a(89571),re=a(15584),oe=a(97485),ye=a(82113),F=a(27616),G=a(8284),Se=a(70660),se=a(94339),fe=a(11776),be=a(12231),te=a(86136),M=a(49378),xe=a(80030),Le=a(61837),Ce=a(85256),Ke=a(72779),Xe=a.n(Ke),dt=a(38016),st=a(84905),Ge=a(30705),_t=a(80236),or=a(7089),St=a(47603),xt=a(56881),mt=a(78887),Re=function(ht){return(ht+1)%Number.MAX_SAFE_INTEGER};function yt(){var ht=(0,mt.F)(0),Je=ht[1];return(0,o.useCallback)(function(){Je(Re)},[])}var ot=a(51967);function de(ht){var Je=(0,o.useRef)();return(0,o.useEffect)(function(){Je.current=ht}),Je.current}var $e=a(77246),lt=a(29862),Dt=a(16303),Gt=function(ht,Je,Zt){if(Zt||arguments.length===2)for(var Jt=0,lr=Je.length,Ur;Jt<lr;Jt++)(Ur||!(Jt in Je))&&(Ur||(Ur=Array.prototype.slice.call(Je,0,Jt)),Ur[Jt]=Je[Jt]);return ht.concat(Ur||Array.prototype.slice.call(Je))};function Pr(ht){for(var Je=[],Zt=1;Zt<arguments.length;Zt++)Je[Zt-1]=arguments[Zt];var Jt=(0,lt.t)(),lr=(0,$e.x)(Je[1]),Ur=(0,o.useMemo)(function(){return function(){for(var Ir=[],ln=0;ln<arguments.length;ln++)Ir[ln]=arguments[ln];Jt()&&(typeof lr.current=="function"?lr.current.apply(this,Ir):typeof lr.current.handleEvent=="function"&&lr.current.handleEvent.apply(this,Ir))}},[]);(0,o.useEffect)(function(){var Ir=ht&&(0,Dt.nr)(ht,"current")?ht.current:ht;if(Ir){var ln=Je.slice(2);return Dt.on.apply(void 0,Gt([Ir,Je[0],Ur],ln,!1)),function(){return Dt.S1.apply(void 0,Gt([Ir,Je[0],Ur],ln,!1))}}},[ht,Je[0]])}var Ze=a(24947),K=function(ht){return typeof ht=="function"?ht:typeof ht=="string"?function(Je){return Je.key===ht}:ht?Dt.cI:Dt.Vp},Z=Ze.jU?window:null;function Q(ht,Je,Zt,Jt){Jt===void 0&&(Jt={});var lr=Jt.event,Ur=lr===void 0?"keydown":lr,Ir=Jt.target,ln=Ir===void 0?Z:Ir,mi=Jt.eventOptions,jn=(0,$e.x)(Je),Jn=(0,o.useMemo)(function(){var on=K(ht);return function(Gn){on(Gn)&&jn.current.call(this,Gn)}},Zt);Pr(ln,Ur,Jn,mi)}var ge=a(10921),De=a(38402),Qe=a(9520),Ue=a(49166),Lt=a(98281),tr=a(22983),Kt=a(77120),Yt=a(42123),Ht=a(6487),rt=a(99152),Ct=a(31060),Vt=a(23054),hr=a(87685),xr=a(49423),Sr=a(96401),cr=a(7896),Nt=a(96234),Lr=a(59740),Er=a(6277),yr=a(15459),Zr=a(24514),Vr=o.createContext({}),Rr=Vr,fr={root:{padding:0,margin:0,listStyle:"none"}};function Ie(ht,Je){if(ht.length!==Je.length)return!0;for(var Zt=0;Zt<ht.length;Zt+=1)if(ht[Zt]!==Je[Zt])return!0;return!1}var Xt=function(Je,Zt,Jt){for(var lr=Zt;lr<Je.length;lr+=1)if(Jt===Je[lr])return lr;return-1},sr=[],ur=[],Fr=o.forwardRef(function(Je,Zt){var Jt=Je.children,lr=Je.classes,Ur=Je.className,Ir=Je.defaultCollapseIcon,ln=Je.defaultEndIcon,mi=Je.defaultExpanded,jn=mi===void 0?sr:mi,Jn=Je.defaultExpandIcon,on=Je.defaultParentIcon,nn=Je.defaultSelected,Gn=nn===void 0?ur:nn,fn=Je.disableSelection,Qn=fn===void 0?!1:fn,vi=Je.multiSelect,Ni=vi===void 0?!1:vi,ro=Je.expanded,Yn=Je.onNodeSelect,Li=Je.onNodeToggle,Bi=Je.selected,Xr=(0,Lr.Z)(Je,["children","classes","className","defaultCollapseIcon","defaultEndIcon","defaultExpanded","defaultExpandIcon","defaultParentIcon","defaultSelected","disableSelection","multiSelect","expanded","onNodeSelect","onNodeToggle","selected"]),Co=o.useState(null),Hi=Co[0],pi=Co[1],Ao=o.useState(null),Po=Ao[0],To=Ao[1],ci=o.useRef({}),lo=o.useRef({}),_i=o.useRef([]),_o=(0,Zr.Z)({controlled:ro,default:jn,name:"TreeView",state:"expanded"}),Wo=(0,Nt.Z)(_o,2),go=Wo[0],Ss=Wo[1],Is=(0,Zr.Z)({controlled:Bi,default:Gn,name:"TreeView",state:"selected"}),Rs=(0,Nt.Z)(Is,2),Dn=Rs[0],Do=Rs[1],uo=o.useCallback(function(Jr){return Array.isArray(go)?go.indexOf(Jr)!==-1:!1},[go]),fs=o.useCallback(function(Jr){return Array.isArray(Dn)?Dn.indexOf(Jr)!==-1:Dn===Jr},[Dn]),Ji=function(Or){return Hi===Or},pn=function(Or){return Po===Or},Fs=function(Or){var gr=_i.current.indexOf(Or);return gr!==-1&&gr+1<_i.current.length?_i.current[gr+1]:null},Di=function(Or){var gr=_i.current.indexOf(Or);return gr!==-1&&gr-1>=0?_i.current[gr-1]:null},Qo=function(){return _i.current[_i.current.length-1]},no=function(){return _i.current[0]},qo=function(Or){return ci.current[Or].parent},Gi=function(Or,gr){var zr=_i.current.indexOf(Or),wn=_i.current.indexOf(gr),An=Math.min(zr,wn),fi=Math.max(zr,wn);return _i.current.slice(An,fi+1)},En=function(Or){Or&&(pi(Or),To(Or))},bi=function(Or){return En(Fs(Or))},qn=function(Or){return En(Di(Or))},ko=function(){return En(no())},xi=function(){return En(Qo())},ei=function(Or,gr){var zr,wn,An=gr.toLowerCase(),fi=[],gi=[];Object.keys(lo.current).forEach(function(So){var ds=lo.current[So],Zn=ci.current[So],Nn=Zn.parent?uo(Zn.parent):!0;Nn&&(fi.push(So),gi.push(ds))}),zr=fi.indexOf(Or)+1,zr===ci.current.length&&(zr=0),wn=Xt(gi,zr,An),wn===-1&&(wn=Xt(gi,0,An)),wn>-1&&En(fi[wn])},Es=function(Or){var gr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Po,zr;go.indexOf(gr)!==-1?(zr=go.filter(function(wn){return wn!==gr}),pi(function(wn){var An=ci.current[wn];return wn&&(An&&An.parent?An.parent.id:null)===gr?gr:wn})):zr=[gr].concat(go),Li&&Li(Or,zr),Ss(zr)},ti=function(Or,gr){var zr=ci.current[gr],wn=ci.current[zr.parent],An;if(wn)An=wn.children.filter(function(So){return!uo(So)});else{var fi=ci.current[-1].children;An=fi.filter(function(So){return!uo(So)})}var gi=go.concat(An);An.length>0&&(Ss(gi),Li&&Li(Or,gi))},co=o.useRef(null),io=o.useRef(!1),Wi=o.useRef([]),Zo=function(Or,gr){var zr=Dn,wn=gr.start,An=gr.next,fi=gr.current;!An||!fi||(Wi.current.indexOf(fi)===-1&&(Wi.current=[]),io.current?Wi.current.indexOf(An)!==-1?(zr=zr.filter(function(gi){return gi===wn||gi!==fi}),Wi.current=Wi.current.filter(function(gi){return gi===wn||gi!==fi})):(zr.push(An),Wi.current.push(An)):(zr.push(An),Wi.current.push(fi,An)),Yn&&Yn(Or,zr),Do(zr))},ki=function(Or,gr){var zr=Dn,wn=gr.start,An=gr.end;io.current&&(zr=Dn.filter(function(So){return Wi.current.indexOf(So)===-1}));var fi=Gi(wn,An);Wi.current=fi;var gi=zr.concat(fi);gi=gi.filter(function(So,ds){return gi.indexOf(So)===ds}),Yn&&Yn(Or,gi),Do(gi)},ws=function(Or,gr){var zr=[];Dn.indexOf(gr)!==-1?zr=Dn.filter(function(wn){return wn!==gr}):zr=[gr].concat(Dn),Yn&&Yn(Or,zr),Do(zr)},bo=function(Or,gr){var zr=Ni?[gr]:gr;Yn&&Yn(Or,zr),Do(zr)},ri=function(Or,gr){var zr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return gr?(zr?ws(Or,gr):bo(Or,gr),co.current=gr,io.current=!1,Wi.current=[],!0):!1},Ci=function(Or,gr){var zr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,wn=gr.start,An=wn===void 0?co.current:wn,fi=gr.end,gi=gr.current;return zr?Zo(Or,{start:An,next:fi,current:gi}):ki(Or,{start:An,end:fi}),io.current=!0,!0},Dr=function(Or,gr){co.current||(co.current=gr);var zr=io.current?co.current:gr;return Ci(Or,{start:zr,end:no()})},li=function(Or,gr){co.current||(co.current=gr);var zr=io.current?co.current:gr;return Ci(Or,{start:zr,end:Qo()})},oo=function(Or,gr){return Ci(Or,{end:Fs(gr),current:gr},!0)},Uo=function(Or,gr){return Ci(Or,{end:Di(gr),current:gr},!0)},Ks=function(Or){return Ci(Or,{start:no(),end:Qo()})},Wn=function(Or,gr){var zr=ci.current[Or];ci.current[Or]=(0,cr.Z)({},zr,{children:gr,id:Or}),gr.forEach(function(wn){var An=ci.current[wn];ci.current[wn]=(0,cr.Z)({},An,{parent:Or,id:wn})})},zs=o.useCallback(function(Jr){var Or=ci.current[Jr],gr=[];return Or&&(gr.push(Jr),Or.children&&(gr.concat(Or.children),Or.children.forEach(function(zr){gr.concat(zs(zr))}))),gr},[]),Vo=o.useCallback(function(Jr){var Or=(0,cr.Z)({},lo.current);Jr.forEach(function(gr){Or[gr]&&delete Or[gr]}),lo.current=Or},[]),es=o.useCallback(function(Jr){var Or=zs(Jr);Vo(Or);var gr=(0,cr.Z)({},ci.current);Or.forEach(function(zr){var wn=gr[zr];if(wn){if(wn.parent){var An=gr[wn.parent];if(An&&An.children){var fi=An.children.filter(function(gi){return gi!==zr});gr[wn.parent]=(0,cr.Z)({},An,{children:fi})}}delete gr[zr]}}),ci.current=gr,To(function(zr){return zr===Jr?null:zr})},[zs,Vo]),Os=function(Or,gr){lo.current[Or]=gr},xs=o.useRef([]),pt=o.useState(!1),it=pt[0],Zi=pt[1];o.useEffect(function(){var Jr=[];o.Children.forEach(Jt,function(Or){o.isValidElement(Or)&&Or.props.nodeId&&Jr.push(Or.props.nodeId)}),Ie(xs.current,Jr)&&(ci.current[-1]={parent:null,children:Jr},Jr.forEach(function(Or,gr){gr===0&&pi(Or)}),_i.current=ci.current[-1].children,xs.current=Jr,Zi(!0))},[Jt]),o.useEffect(function(){var Jr=function Or(gr){for(var zr=[],wn=0;wn<gr.length;wn+=1){var An=gr[wn];zr.push(An);var fi=ci.current[An].children;uo(An)&&fi&&(zr=zr.concat(Or(fi)))}return zr};it&&(_i.current=Jr(ci.current[-1].children))},[go,it,uo,Jt]);var Mi=function(){return!1};return o.createElement(Rr.Provider,{value:{icons:{defaultCollapseIcon:Ir,defaultExpandIcon:Jn,defaultParentIcon:on,defaultEndIcon:ln},focus:En,focusFirstNode:ko,focusLastNode:xi,focusNextNode:bi,focusPreviousNode:qn,focusByFirstCharacter:ei,expandAllSiblings:ti,toggleExpansion:Es,isExpanded:uo,isFocused:pn,isSelected:fs,selectNode:Qn?Mi:ri,selectRange:Qn?Mi:Ci,selectNextNode:Qn?Mi:oo,selectPreviousNode:Qn?Mi:Uo,rangeSelectToFirst:Qn?Mi:Dr,rangeSelectToLast:Qn?Mi:li,selectAllNodes:Qn?Mi:Ks,isTabbable:Ji,multiSelect:Ni,getParent:qo,mapFirstChar:Os,addNodeToNodeMap:Wn,removeNodeFromNodeMap:es}},o.createElement("ul",(0,cr.Z)({role:"tree","aria-multiselectable":Ni,className:(0,Er.default)(lr.root,Ur),ref:Zt},Xr),Jt))}),jr=(0,yr.Z)(fr,{name:"MuiTreeView"})(Fr),wr=a(51209),Tr=a(41128),_r=a(60364),$r=a(85974),en=function(Je){return{root:{listStyle:"none",margin:0,padding:0,outline:0,WebkitTapHighlightColor:"transparent","&:focus > $content $label":{backgroundColor:Je.palette.action.hover},"&$selected > $content $label":{backgroundColor:(0,Tr.Fq)(Je.palette.primary.main,Je.palette.action.selectedOpacity)},"&$selected > $content $label:hover, &$selected:focus > $content $label":{backgroundColor:(0,Tr.Fq)(Je.palette.primary.main,Je.palette.action.selectedOpacity+Je.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},expanded:{},selected:{},group:{margin:0,padding:0,marginLeft:17},content:{width:"100%",display:"flex",alignItems:"center",cursor:"pointer"},iconContainer:{marginRight:4,width:15,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},label:{width:"100%",paddingLeft:4,position:"relative","&:hover":{backgroundColor:Je.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}}},hn=function(Je){return Je&&Je.length===1&&Je.match(/\S/)},Nr=o.forwardRef(function(Je,Zt){var Jt=Je.children,lr=Je.classes,Ur=Je.className,Ir=Je.collapseIcon,ln=Je.endIcon,mi=Je.expandIcon,jn=Je.icon,Jn=Je.label,on=Je.nodeId,nn=Je.onClick,Gn=Je.onLabelClick,fn=Je.onIconClick,Qn=Je.onFocus,vi=Je.onKeyDown,Ni=Je.onMouseDown,ro=Je.TransitionComponent,Yn=ro===void 0?ye.Z:ro,Li=Je.TransitionProps,Bi=(0,Lr.Z)(Je,["children","classes","className","collapseIcon","endIcon","expandIcon","icon","label","nodeId","onClick","onLabelClick","onIconClick","onFocus","onKeyDown","onMouseDown","TransitionComponent","TransitionProps"]),Xr=o.useContext(Rr),Co=Xr.icons,Hi=Xr.focus,pi=Xr.focusFirstNode,Ao=Xr.focusLastNode,Po=Xr.focusNextNode,To=Xr.focusPreviousNode,ci=Xr.focusByFirstCharacter,lo=Xr.selectNode,_i=Xr.selectRange,_o=Xr.selectNextNode,Wo=Xr.selectPreviousNode,go=Xr.rangeSelectToFirst,Ss=Xr.rangeSelectToLast,Is=Xr.selectAllNodes,Rs=Xr.expandAllSiblings,Dn=Xr.toggleExpansion,Do=Xr.isExpanded,uo=Xr.isFocused,fs=Xr.isSelected,Ji=Xr.isTabbable,pn=Xr.multiSelect,Fs=Xr.getParent,Di=Xr.mapFirstChar,Qo=Xr.addNodeToNodeMap,no=Xr.removeNodeFromNodeMap,qo=o.useRef(null),Gi=o.useRef(null),En=(0,$r.Z)(qo,Zt),bi=jn,qn=Boolean(Array.isArray(Jt)?Jt.length:Jt),ko=Do?Do(on):!1,xi=uo?uo(on):!1,ei=Ji?Ji(on):!1,Es=fs?fs(on):!1,ti=Co||{},co=(0,_r.Z)();bi||(qn?(ko?bi=Ir||ti.defaultCollapseIcon:bi=mi||ti.defaultExpandIcon,bi||(bi=ti.defaultParentIcon)):bi=ln||ti.defaultEndIcon);var io=function(Dr){xi||Hi(on);var li=pn&&(Dr.shiftKey||Dr.ctrlKey||Dr.metaKey);qn&&!Dr.defaultPrevented&&!(li&&Do(on))&&Dn(Dr,on),li?Dr.shiftKey?_i(Dr,{end:on}):lo(Dr,on,!0):lo(Dr,on),nn&&nn(Dr)},Wi=function(Dr){(Dr.shiftKey||Dr.ctrlKey||Dr.metaKey)&&Dr.preventDefault(),Ni&&Ni(Dr)},Zo=function(Dr){return qn&&(ko?Po(on):Dn(Dr)),!0},ki=function(Dr){if(ko)return Dn(Dr,on),!0;var li=Fs(on);return li?(Hi(li),!0):!1},ws=function(Dr){var li=!1,oo=Dr.key;if(!(Dr.altKey||Dr.currentTarget!==Dr.target)){var Uo=Dr.ctrlKey||Dr.metaKey;switch(oo){case" ":qo.current===Dr.currentTarget&&(pn&&Dr.shiftKey?li=_i(Dr,{end:on}):pn?li=lo(Dr,on,!0):li=lo(Dr,on)),Dr.stopPropagation();break;case"Enter":qo.current===Dr.currentTarget&&qn&&(Dn(Dr),li=!0),Dr.stopPropagation();break;case"ArrowDown":pn&&Dr.shiftKey&&_o(Dr,on),Po(on),li=!0;break;case"ArrowUp":pn&&Dr.shiftKey&&Wo(Dr,on),To(on),li=!0;break;case"ArrowRight":co.direction==="rtl"?li=ki(Dr):li=Zo(Dr);break;case"ArrowLeft":co.direction==="rtl"?li=Zo(Dr):li=ki(Dr);break;case"Home":pn&&Uo&&Dr.shiftKey&&go(Dr,on),pi(),li=!0;break;case"End":pn&&Uo&&Dr.shiftKey&&Ss(Dr,on),Ao(),li=!0;break;default:oo==="*"?(Rs(Dr,on),li=!0):pn&&Uo&&oo.toLowerCase()==="a"?li=Is(Dr):!Uo&&!Dr.shiftKey&&hn(oo)&&(ci(on,oo),li=!0)}li&&(Dr.preventDefault(),Dr.stopPropagation()),vi&&vi(Dr)}},bo=function(Dr){!xi&&Dr.currentTarget===Dr.target&&Hi(on),Qn&&Qn(Dr)};o.useEffect(function(){if(Qo){var Ci=[];o.Children.forEach(Jt,function(Dr){o.isValidElement(Dr)&&Dr.props.nodeId&&Ci.push(Dr.props.nodeId)}),Qo(on,Ci)}},[Jt,on,Qo]),o.useEffect(function(){if(no)return function(){no(on)}},[on,no]),o.useEffect(function(){Di&&Jn&&Di(on,Gi.current.textContent.substring(0,1).toLowerCase())},[Di,on,Jn]),o.useEffect(function(){xi&&qo.current.focus()},[xi]);var ri;return pn?ri=Es:Es&&(ri=!0),o.createElement("li",(0,cr.Z)({className:(0,Er.default)(lr.root,Ur,ko&&lr.expanded,Es&&lr.selected),role:"treeitem",onKeyDown:ws,onFocus:bo,"aria-expanded":qn?ko:null,"aria-selected":ri,ref:En,tabIndex:ei?0:-1},Bi),o.createElement("div",{className:lr.content,onClick:io,onMouseDown:Wi,ref:Gi},o.createElement("div",{onClick:fn,className:lr.iconContainer},bi),o.createElement(N.Z,{onClick:Gn,component:"div",className:lr.label},Jn)),Jt&&o.createElement(Yn,(0,cr.Z)({unmountOnExit:!0,className:lr.group,in:ko,component:"ul",role:"group"},Li),Jt))}),cn=(0,yr.Z)(en,{name:"MuiTreeItem"})(Nr),gn=a(65329),Sn=a(25417),yn=a(24579),dn=a(82726);const vn=(0,O.Z)(ht=>({code:{fontFamily:"Menlo, monospace",padding:ht.spacing(1),backgroundColor:ht.palette.type==="dark"?ht.palette.grey[700]:ht.palette.grey[300],display:"inline-block",borderRadius:5,border:`1px solid ${ht.palette.grey[500]}`,position:"relative"},codeRequired:{"&::after":{position:"absolute",content:'"*"',top:0,right:ht.spacing(.5),fontWeight:"bolder",color:ht.palette.error.light}}})),tn=ht=>o.createElement(_.Z,{container:!0},ht.examples.map((Je,Zt)=>o.createElement(o.Fragment,{key:`example-${Zt}`},o.createElement(_.Z,{item:!0,lg:3},o.createElement(D.Z,{padding:4},o.createElement(N.Z,null,Je.description))),o.createElement(_.Z,{item:!0,lg:9},o.createElement(D.Z,{padding:1},o.createElement(_t.Oi,{text:Je.example,showLineNumbers:!0,showCopyCodeButton:!0,language:"yaml"})))))),_n=()=>{const ht=(0,Ge.h_)(I.lc),Je=vn(),{loading:Zt,value:Jt,error:lr}=(0,m.default)(async()=>ht.listActions()),[Ur,Ir]=(0,o.useState)({});if(Zt)return o.createElement(_t.Ex,null);if(lr)return o.createElement(_t.mf,{statusMessage:"Failed to load installed actions",status:"500"});const ln=nn=>!nn||nn.length<1?o.createElement(N.Z,null,"No schema defined"):o.createElement(R.Z,{component:$.Z},o.createElement(z.Z,{size:"small"},o.createElement(J.Z,null,o.createElement(ee.Z,null,o.createElement(re.Z,null,"Name"),o.createElement(re.Z,null,"Title"),o.createElement(re.Z,null,"Description"),o.createElement(re.Z,null,"Type"))),o.createElement(oe.Z,null,nn))),mi=nn=>{var Gn,fn;return nn.type?nn.type!=="array"?[nn.type].flat():[`${nn.type}(${(fn=(Gn=nn.items)==null?void 0:Gn.type)!=null?fn:"unknown"})`]:["unknown"]},jn=(nn,Gn)=>{const fn=Gn==null?void 0:Gn.properties;if(fn)return Object.entries(fn).map(Qn=>{var vi,Ni,ro;const[Yn]=Qn,Li=`${nn}.${Yn}`,Bi=Qn[1],Xr=Xe()(Je.code,{[Je.codeRequired]:(vi=Gn.required)==null?void 0:vi.includes(Yn)}),Co=mi(Bi);return o.createElement(o.Fragment,{key:Li},o.createElement(ee.Z,{key:Li},o.createElement(re.Z,null,o.createElement("div",{className:Xr},Yn)),o.createElement(re.Z,null,Bi.title),o.createElement(re.Z,null,Bi.description),o.createElement(re.Z,null,Co.map(Hi=>Hi.includes("object")?o.createElement(or.Z,{label:Hi,key:Hi,icon:Ur[Li]?o.createElement(st.Z,null):o.createElement(dt.Z,null),variant:"outlined",onClick:()=>Ir(pi=>{const Ao={...pi};return Ao[Li]=!pi[Li],Ao})}):o.createElement(or.Z,{label:Hi,key:Hi,variant:"outlined"})))),o.createElement(ee.Z,null,o.createElement(re.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:6},o.createElement(ye.Z,{in:Ur[Li],timeout:"auto",unmountOnExit:!0},o.createElement(D.Z,{sx:{margin:1}},o.createElement(N.Z,{variant:"h6",component:"div"},Yn),ln(jn(Li,Bi.type==="array"?{properties:(ro=(Ni=Bi.items)==null?void 0:Ni.properties)!=null?ro:{}}:Bi)))))))})},Jn=(nn,Gn,fn)=>{if(fn)return o.createElement(o.Fragment,null,o.createElement(N.Z,{variant:"h6",component:"h4"},nn),fn.map((Qn,vi)=>o.createElement("div",{key:vi},ln(jn(`${Gn}.${vi}`,Qn)))))},on=Jt==null?void 0:Jt.map(nn=>{var Gn,fn,Qn,vi,Ni,ro;if(nn.id.startsWith("legacy:"))return;const Yn=Jn("oneOf",`${nn.id}.input`,(fn=(Gn=nn.schema)==null?void 0:Gn.input)==null?void 0:fn.oneOf);return o.createElement(D.Z,{pb:4,key:nn.id},o.createElement(N.Z,{variant:"h4",component:"h2",className:Je.code},nn.id),nn.description&&o.createElement(_t.SA,{content:nn.description}),((Qn=nn.schema)==null?void 0:Qn.input)&&o.createElement(D.Z,{pb:2},o.createElement(N.Z,{variant:"h5",component:"h3"},"Input"),ln(jn(`${nn.id}.input`,(vi=nn==null?void 0:nn.schema)==null?void 0:vi.input)),Yn),((Ni=nn.schema)==null?void 0:Ni.output)&&o.createElement(D.Z,{pb:2},o.createElement(N.Z,{variant:"h5",component:"h3"},"Output"),ln(jn(`${nn.id}.output`,(ro=nn==null?void 0:nn.schema)==null?void 0:ro.output))),nn.examples&&o.createElement(F.Z,null,o.createElement(G.Z,{expandIcon:o.createElement(dt.Z,null)},o.createElement(N.Z,{variant:"h5",component:"h3"},"Examples")),o.createElement(Se.Z,null,o.createElement(D.Z,{pb:2},o.createElement(tn,{examples:nn.examples})))))});return o.createElement(_t.T3,{themeId:"home"},o.createElement(_t.h4,{pageTitleOverride:"Create a New Component",title:"Installed actions",subtitle:"This is the collection of all installed actions"}),o.createElement(_t.VY,null,on))},an=(0,O.Z)(ht=>({root:{backgroundColor:"rgba(0, 0, 0, .11)",boxShadow:"none",margin:ht.spacing(1,0,1,0)},title:{margin:ht.spacing(1,0,0,1),textTransform:"uppercase",fontSize:12,fontWeight:"bold"},listIcon:{minWidth:30,color:ht.palette.text.primary},menuItem:{minHeight:ht.spacing(6)},groupWrapper:{margin:ht.spacing(1,1,2,1)}}),{name:"ScaffolderReactOwnerListPicker"});function rn(){return[{name:"Task Owner",items:[{id:"owned",label:"Owned",icon:St.Z},{id:"all",label:"All",icon:xt.Z}]}]}const mn=ht=>{const{filter:Je,onSelectOwner:Zt}=ht,Jt=an(),lr=rn();return o.createElement(se.Z,{className:Jt.root},lr.map(Ur=>o.createElement(o.Fragment,{key:Ur.name},o.createElement(N.Z,{variant:"subtitle2",component:"span",className:Jt.title},Ur.name),o.createElement(se.Z,{className:Jt.groupWrapper},o.createElement(fe.Z,{disablePadding:!0,dense:!0,role:"menu"},Ur.items.map(Ir=>o.createElement(be.Z,{key:Ir.id,button:!0,divider:!0,ContainerProps:{role:"menuitem"},onClick:()=>Zt(Ir.id),selected:Ir.id===Je,className:Jt.menuItem,"data-testid":`owner-picker-${Ir.id}`},Ir.icon&&o.createElement(te.Z,{className:Jt.listIcon},o.createElement(Ir.icon,{fontSize:"small"})),o.createElement(M.Z,null,o.createElement(N.Z,{variant:"body1"},Ir.label)))))))))},Kn=window.showDirectoryPicker;class hi{constructor(Je,Zt){this.path=Je,this.handle=Zt}file(){return this.handle.getFile()}async save(Je){const Zt=await this.handle.createWritable();await Zt.write(Je),await Zt.close()}}class Ri{constructor(Je){this.handle=Je}async listFiles(){const Je=[];for await(const Zt of this.listDirectoryContents(this.handle))Je.push(Zt);return Je}async*listDirectoryContents(Je,Zt=[]){for await(const Jt of Je.values())if(Jt.kind==="file")yield new hi([...Zt,Jt.name].join("/"),Jt);else if(Jt.kind==="directory"){if(Jt.name===".git")continue;yield*this.listDirectoryContents(Jt,[...Zt,Jt.name])}}}class Pe{static isSupported(){return Boolean(Kn)}static async requestDirectoryAccess(){if(!Kn)throw new Error("File system access is not supported");const Je=await Kn();return new Ri(Je)}constructor(){}}const y=64*1024,T=32*1024,V=(0,o.createContext)(void 0);function q(ht){if(ht.length>y)return window.btoa("<file too large>");try{return window.btoa(ht)}catch{const Zt=new TextEncoder().encode(ht),Jt=new Array;for(let lr=0;lr<Zt.length;lr+=T)Jt.push(String.fromCharCode(...Zt.slice(lr,lr+T)));return window.btoa(Jt.join(""))}}function Oe(ht){const Je=(0,Ge.h_)(I.lc),[Zt,Jt]=(0,o.useState)({results:[],selectedResult:void 0}),lr=(0,o.useRef)(1),Ur=(0,o.useCallback)(jn=>{Jt(Jn=>{const on=Jn.results.find(nn=>nn.id===jn);return on===Jn.selectedResult?Jn:{results:Jn.results,selectedResult:on}})},[]),Ir=(0,o.useCallback)(jn=>{Jt(Jn=>{var on;const nn=Jn.results.findIndex(Qn=>Qn.id===jn);if(nn===-1)return Jn;const Gn=Jn.results.slice(),[fn]=Gn.splice(nn,1);return{results:Gn,selectedResult:((on=Jn.selectedResult)==null?void 0:on.id)===fn.id?Gn[0]:Jn.selectedResult}})},[]),ln=(0,o.useCallback)(async jn=>{if(!Je.dryRun)throw new Error("Scaffolder API does not support dry-run");const Jn=ge.ZP.parse(jn.templateContent),nn={...await Je.dryRun({template:Jn,values:jn.values,secrets:{},directoryContents:jn.files.map(Gn=>({path:Gn.path,base64Content:q(Gn.content)}))}),id:lr.current++};Jt(Gn=>{var fn;return{results:[...Gn.results,nn],selectedResult:(fn=Gn.selectedResult)!=null?fn:nn}})},[Je]),mi=(0,o.useMemo)(()=>({...Zt,selectResult:Ur,deleteResult:Ir,execute:ln}),[Zt,Ur,Ir,ln]);return o.createElement(V.Provider,{value:mi},ht.children)}function Ee(){const ht=(0,o.useContext)(V);if(!ht)throw new Error("must be used within a DryRunProvider");return ht}var ze=(ht,Je,Zt)=>{if(!Je.has(ht))throw TypeError("Cannot "+Zt)},He=(ht,Je,Zt)=>(ze(ht,Je,"read from private field"),Zt?Zt.call(ht):Je.get(ht)),wt=(ht,Je,Zt)=>{if(Je.has(ht))throw TypeError("Cannot add the same private member more than once");Je instanceof WeakSet?Je.add(ht):Je.set(ht,Zt)},jt=(ht,Je,Zt,Jt)=>(ze(ht,Je,"write to private field"),Jt?Jt.call(ht,Zt):Je.set(ht,Zt),Zt),$t,Cr,pr,Cn,Xn,zn,wi,yi,ji;const us=1024*1024,qi="This file is too large to be displayed";class Hn{constructor(Je,Zt){wt(this,$t,void 0),wt(this,Cr,void 0),wt(this,pr,void 0),wt(this,Cn,void 0),jt(this,$t,Je),jt(this,Cr,Zt)}get path(){return He(this,$t).path}get content(){var Je;return(Je=He(this,pr))!=null?Je:qi}updateContent(Je){He(this,pr)!==void 0&&(jt(this,pr,Je),He(this,Cr).call(this))}get dirty(){return He(this,pr)!==He(this,Cn)}async save(){He(this,pr)!==void 0&&(await He(this,$t).save(He(this,pr)),jt(this,Cn,He(this,pr)),He(this,Cr).call(this))}async reload(){const Je=await He(this,$t).file();if(Je.size>us){He(this,pr)!==void 0&&(jt(this,pr,void 0),jt(this,Cn,void 0),He(this,Cr).call(this));return}const Zt=await Je.text();He(this,pr)!==Zt&&(jt(this,pr,Zt),jt(this,Cn,Zt),He(this,Cr).call(this))}}$t=new WeakMap,Cr=new WeakMap,pr=new WeakMap,Cn=new WeakMap;class kn{constructor(Je){wt(this,Xn,void 0),wt(this,zn,new Set),wt(this,wi,[]),wt(this,yi,void 0),this.setSelectedFile=Zt=>{const Jt=He(this,yi),lr=He(this,wi).find(Ur=>Ur.path===Zt);Jt!==lr&&(jt(this,yi,lr),He(this,ji).call(this))},wt(this,ji,()=>{He(this,zn).forEach(Zt=>Zt())}),jt(this,Xn,Je)}get files(){return He(this,wi)}get selectedFile(){return He(this,yi)}get dirty(){return He(this,wi).some(Je=>Je.dirty)}async save(){await Promise.all(He(this,wi).map(Je=>Je.save()))}async reload(){var Je;const Zt=(Je=He(this,yi))==null?void 0:Je.path,Jt=await He(this,Xn).listFiles(),lr=await Promise.all(Jt.map(async Ur=>{const Ir=new Hn(Ur,He(this,ji));return await Ir.reload(),Ir}));He(this,wi).length=0,He(this,wi).push(...lr),this.setSelectedFile(Zt),He(this,ji).call(this)}subscribe(Je){return He(this,zn).add(Je),()=>{He(this,zn).delete(Je)}}}Xn=new WeakMap,zn=new WeakMap,wi=new WeakMap,yi=new WeakMap,ji=new WeakMap;const eo=(0,o.createContext)(void 0);function Bo(){const ht=(0,o.useContext)(eo),Je=yt();if((0,o.useEffect)(()=>ht==null?void 0:ht.subscribe(Je),[ht,Je]),!ht)throw new Error("must be used within a DirectoryEditorProvider");return ht}function qt(ht){const{directory:Je}=ht,[{result:Zt,error:Jt},{execute:lr}]=(0,ot.r)(async Ur=>{const Ir=new kn(Ur);await Ir.reload();const ln=Ir.files.find(mi=>mi.path.match(/\.ya?ml$/));return ln&&Ir.setSelectedFile(ln.path),Ir});return(0,o.useEffect)(()=>{lr(Je)},[lr,Je]),Jt?o.createElement(_t.yu,{error:Jt}):Zt?o.createElement(eo.Provider,{value:Zt},ht.children):o.createElement(_t.Ex,null)}const pe=(0,O.Z)(ht=>({root:{overflowY:"auto",background:ht.palette.background.default},iconSuccess:{minWidth:0,marginRight:ht.spacing(1),color:ht.palette.status.ok},iconFailure:{minWidth:0,marginRight:ht.spacing(1),color:ht.palette.status.error}}));function j(){const ht=pe(),Je=Ee();return o.createElement(fe.Z,{className:ht.root,dense:!0},Je.results.map(Zt=>{var Jt;const lr=Zt.log.some(Ur=>Ur.body.status==="failed");return o.createElement(De.Z,{button:!0,key:Zt.id,selected:((Jt=Je.selectedResult)==null?void 0:Jt.id)===Zt.id,onClick:()=>Je.selectResult(Zt.id)},o.createElement(te.Z,{className:lr?ht.iconFailure:ht.iconSuccess},lr?o.createElement(Ue.Z,null):o.createElement(Lt.Z,null)),o.createElement(M.Z,{primary:`Result ${Zt.id}`}),o.createElement(Qe.Z,null,o.createElement(Le.Z,{edge:"end","aria-label":"delete",onClick:()=>Je.deleteResult(Zt.id)},o.createElement(tr.Z,null))))}))}const Y=(0,O.Z)({root:{whiteSpace:"nowrap",overflowY:"auto"}});function ke(ht){const Je={type:"directory",name:"",path:"",children:[]};for(const Zt of ht.slice().sort()){const Jt=Zt.split("/");let lr=Je;for(let Ur=0;Ur<Jt.length;Ur++){const Ir=Jt[Ur];if(Ir==="")throw new Error("Invalid path part: ''");const ln=Jt.slice(0,Ur+1).join("/"),mi=lr.children.find(jn=>jn.name===Ir);if((mi==null?void 0:mi.type)==="file")throw new Error(`Duplicate filename at '${ln}'`);if(mi)lr=mi;else if(Ur<Jt.length-1){const jn={type:"directory",name:Ir,path:ln,children:[]},Jn=lr.children.findIndex(on=>on.type==="file");lr.children.splice(Jn,0,jn),lr=jn}else lr.children.push({type:"file",name:Ir,path:ln})}}return Je.children}function Ne({entry:ht}){return ht.type==="file"?o.createElement(cn,{nodeId:ht.path,label:ht.name}):o.createElement(cn,{nodeId:ht.path,label:ht.name},ht.children.map(Je=>o.createElement(Ne,{key:Je.path,entry:Je})))}function nt(ht){const Je=Y(),Zt=(0,o.useMemo)(()=>ke(ht.filePaths),[ht.filePaths]);return o.createElement(jr,{selected:ht.selected,className:Je.root,defaultCollapseIcon:o.createElement(dt.Z,null),defaultExpandIcon:o.createElement(wr.Z,null),onNodeSelect:(Jt,lr)=>{ht.onSelect&&ht.filePaths.includes(lr)&&ht.onSelect(lr)}},Zt.map(Jt=>o.createElement(Ne,{key:Jt.path,entry:Jt})))}const ft=(0,O.Z)(ht=>({root:{display:"grid",gridTemplateColumns:"280px auto 3fr",gridTemplateRows:"1fr"},child:{overflowY:"auto",height:"100%",minHeight:0},firstChild:{background:ht.palette.background.paper}}));function Ut(ht){const Je=ft(),Zt=o.Children.toArray(ht.children);if(Zt.length!==2)throw new Error("must have exactly 2 children");return o.createElement("div",{className:Je.root},o.createElement("div",{className:Xe()(Je.child,Je.firstChild)},Zt[0]),o.createElement(Ce.Z,{orientation:"horizontal"}),o.createElement("div",{className:Je.child},Zt[1]))}const Wt=(0,O.Z)({root:{display:"flex",flexFlow:"column nowrap"},contentWrapper:{flex:1,position:"relative"},content:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex","& > *":{flex:1}},codeMirror:{height:"100%",overflowY:"auto"}});function Br(){const ht=Wt(),{selectedResult:Je}=Ee(),[Zt,Jt]=(0,o.useState)(""),lr=Je==null?void 0:Je.directoryContents.find(Ur=>Ur.path===Zt);return(0,o.useEffect)(()=>{if(Je){const[Ur]=Je.directoryContents;Jt(Ur?Ur.path:"")}},[Je]),Je?o.createElement(Ut,null,o.createElement(nt,{selected:Zt,onSelect:Jt,filePaths:Je.directoryContents.map(Ur=>Ur.path)}),o.createElement(Ct.ZP,{className:ht.codeMirror,theme:"dark",height:"100%",extensions:[Kt.il.define(Yt.r)],readOnly:!0,value:lr!=null&&lr.base64Content?atob(lr.base64Content):""})):null}function Kr(){var ht,Je;const{selectedResult:Zt}=Ee(),[Jt,lr]=(0,o.useState)(),Ur=(0,o.useMemo)(()=>{var ln;return Zt?(ln=Zt.steps.map(mi=>{var jn,Jn;const on=Zt.log.filter(nn=>nn.body.stepId===mi.id);return{id:mi.id,name:mi.name,logString:on.map(nn=>nn.body.message).join(`
`),status:(Jn=(jn=on[on.length-1])==null?void 0:jn.body.status)!=null?Jn:"completed"}}))!=null?ln:[]:[]},[Zt]);if(!Zt)return null;const Ir=(ht=Ur.find(ln=>ln.id===Jt))!=null?ht:Ur[0];return o.createElement(Ut,null,o.createElement(Vt.l,{steps:Ur,currentStepId:Ir.id,onUserStepChange:lr}),o.createElement(_t.nU,{text:(Je=Ir==null?void 0:Ir.logString)!=null?Je:""}))}function Mn(){var ht,Je;const Zt=Wt(),{selectedResult:Jt}=Ee();return Jt?o.createElement(Ut,null,o.createElement(D.Z,{pt:2},((Je=(ht=Jt.output)==null?void 0:ht.links)==null?void 0:Je.length)&&o.createElement(Vt.n,{output:Jt.output})),o.createElement(Ct.ZP,{className:Zt.codeMirror,theme:"dark",height:"100%",extensions:[Kt.il.define(Yt.r)],readOnly:!0,value:JSON.stringify(Jt.output,null,2)})):null}function Oi(){const ht=Wt(),[Je,Zt]=(0,o.useState)("files");return o.createElement("div",{className:ht.root},o.createElement(rt.Z,{value:Je,onChange:(Jt,lr)=>Zt(lr)},o.createElement(Ht.Z,{value:"files",label:"Files"}),o.createElement(Ht.Z,{value:"log",label:"Log"}),o.createElement(Ht.Z,{value:"output",label:"Output"})),o.createElement(Ce.Z,null),o.createElement("div",{className:ht.contentWrapper},o.createElement("div",{className:ht.content},Je==="files"&&o.createElement(Br,null),Je==="log"&&o.createElement(Kr,null),Je==="output"&&o.createElement(Mn,null))))}const Pi=(0,O.Z)(ht=>({header:{height:48,minHeight:0,"&.Mui-expanded":{height:48,minHeight:0}},content:{display:"grid",background:ht.palette.background.default,gridTemplateColumns:"180px auto 1fr",gridTemplateRows:"1fr",padding:0,height:400}}));function ai(){const ht=Pi(),Je=Ee(),[Zt,Jt]=(0,o.useState)(!1),[lr,Ur]=(0,o.useState)(!0),Ir=Je.results.length,ln=de(Ir);return(0,o.useEffect)(()=>{ln===0&&Ir===1?(Ur(!1),Jt(!0)):ln===1&&Ir===0&&Jt(!1)},[ln,Ir]),o.createElement(o.Fragment,null,o.createElement(F.Z,{variant:"outlined",expanded:Zt,hidden:Ir===0&&lr,onChange:(mi,jn)=>Jt(jn),onTransitionEnd:()=>Ir===0&&Ur(!0)},o.createElement(G.Z,{className:ht.header,expandIcon:o.createElement(st.Z,null)},o.createElement(N.Z,null,"Dry-run results")),o.createElement(Ce.Z,{orientation:"horizontal"}),o.createElement(Se.Z,{className:ht.content},o.createElement(j,null),o.createElement(Ce.Z,{orientation:"horizontal"}),o.createElement(Oi,null))))}const Ti=(0,O.Z)(ht=>({button:{padding:ht.spacing(1)},buttons:{display:"flex",flexFlow:"row nowrap",alignItems:"center",justifyContent:"flex-start"},buttonsGap:{flex:"1 1 auto"},buttonsDivider:{marginBottom:ht.spacing(1)}}));function to(ht){var Je,Zt;const Jt=Ti(),lr=Bo(),Ur=lr.files.filter(ln=>ln.dirty),Ir=()=>{ht.onClose&&(Ur.length>0&&!window.confirm("Are you sure? Unsaved changes will be lost")||ht.onClose())};return o.createElement(o.Fragment,null,o.createElement("div",{className:Jt.buttons},o.createElement(xe.ZP,{title:"Save all files"},o.createElement(Le.Z,{className:Jt.button,disabled:lr.files.every(ln=>!ln.dirty),onClick:()=>lr.save()},o.createElement(Sr.Z,null))),o.createElement(xe.ZP,{title:"Reload directory"},o.createElement(Le.Z,{className:Jt.button,onClick:()=>lr.reload()},o.createElement(xr.Z,null))),o.createElement("div",{className:Jt.buttonsGap}),o.createElement(xe.ZP,{title:"Close directory"},o.createElement(Le.Z,{className:Jt.button,onClick:Ir},o.createElement(hr.Z,null)))),o.createElement(Ce.Z,{className:Jt.buttonsDivider}),o.createElement(nt,{selected:(Zt=(Je=lr.selectedFile)==null?void 0:Je.path)!=null?Zt:"",onSelect:lr.setSelectedFile,filePaths:lr.files.map(ln=>ln.path)}))}const Ms=(0,O.Z)(ht=>({container:{position:"relative",width:"100%",height:"100%"},codeMirror:{position:"absolute",top:0,bottom:0,left:0,right:0},errorPanel:{color:ht.palette.error.main,lineHeight:2,margin:ht.spacing(0,1)},floatingButtons:{position:"absolute",top:ht.spacing(1),right:ht.spacing(3)},floatingButton:{padding:ht.spacing(1)}}));function cs(ht){const{errorText:Je}=ht,Zt=Ms(),Jt=(0,o.useMemo)(()=>{if(!Je)return gn.mH.of(null);const lr=document.createElement("div");return lr.classList.add(Zt.errorPanel),lr.textContent=Je,gn.mH.of(()=>({dom:lr,bottom:!0}))},[Zt,Je]);return Q(lr=>lr.key==="s"&&(lr.ctrlKey||lr.metaKey),lr=>{lr.preventDefault(),ht.onSave&&ht.onSave()}),o.createElement("div",{className:Zt.container},o.createElement(Ct.ZP,{className:Zt.codeMirror,theme:"dark",height:"100%",extensions:[Kt.il.define(Yt.r),Jt],value:ht.content,onChange:ht.onUpdate}),(ht.onSave||ht.onReload)&&o.createElement("div",{className:Zt.floatingButtons},o.createElement($.Z,null,ht.onSave&&o.createElement(xe.ZP,{title:"Save file"},o.createElement(Le.Z,{className:Zt.floatingButton,onClick:()=>{var lr;return(lr=ht.onSave)==null?void 0:lr.call(ht)}},o.createElement(Sr.Z,null))),ht.onReload&&o.createElement(xe.ZP,{title:"Reload file"},o.createElement(Le.Z,{className:Zt.floatingButton,onClick:()=>{var lr;return(lr=ht.onReload)==null?void 0:lr.call(ht)}},o.createElement(xr.Z,null))))))}function da(ht){var Je,Zt;const Jt=Bo(),lr=(Je=Jt.selectedFile)!=null&&Je.dirty?{onSave:()=>Jt.save(),onReload:()=>Jt.reload()}:{onReload:()=>Jt.reload()};return o.createElement(cs,{errorText:ht.errorText,content:(Zt=Jt.selectedFile)==null?void 0:Zt.content,onUpdate:Ur=>{var Ir;return(Ir=Jt.selectedFile)==null?void 0:Ir.updateContent(Ur)},...lr})}cs.DirectoryEditor=da;const Xo=(0,O.Z)(ht=>({introText:{textAlign:"center",marginTop:ht.spacing(2)},card:{position:"relative",maxWidth:340,marginTop:ht.spacing(4),margin:ht.spacing(0,2)},infoIcon:{position:"absolute",top:ht.spacing(1),right:ht.spacing(1)}}));function $s(ht){const Je=Xo(),Zt=Pe.isSupported(),Jt=o.createElement(se.Z,{className:Je.card,elevation:4},o.createElement(Sn.Z,{disabled:!Zt,onClick:()=>{var Ir;return(Ir=ht.onSelect)==null?void 0:Ir.call(ht,"local")}},o.createElement(yn.Z,null,o.createElement(N.Z,{variant:"h4",component:"h3",gutterBottom:!0,color:Zt?void 0:"textSecondary",style:{display:"flex",flexFlow:"row nowrap"}},"Load Template Directory"),o.createElement(N.Z,{variant:"body1",color:Zt?void 0:"textSecondary"},"Load a local template directory, allowing you to both edit and try executing your own template."))),!Zt&&o.createElement("div",{className:Je.infoIcon},o.createElement(xe.ZP,{placement:"top",title:"Only supported in some Chromium-based browsers"},o.createElement(dn.Z,null)))),lr=o.createElement(se.Z,{className:Je.card,elevation:4},o.createElement(Sn.Z,{onClick:()=>{var Ir;return(Ir=ht.onSelect)==null?void 0:Ir.call(ht,"form")}},o.createElement(yn.Z,null,o.createElement(N.Z,{variant:"h4",component:"h3",gutterBottom:!0},"Edit Template Form"),o.createElement(N.Z,{variant:"body1"},"Preview and edit a template form, either using a sample template or by loading a template from the catalog.")))),Ur=o.createElement(se.Z,{className:Je.card,elevation:4},o.createElement(Sn.Z,{onClick:()=>{var Ir;return(Ir=ht.onSelect)==null?void 0:Ir.call(ht,"field-explorer")}},o.createElement(yn.Z,null,o.createElement(N.Z,{variant:"h4",component:"h3",gutterBottom:!0},"Custom Field Explorer"),o.createElement(N.Z,{variant:"body1"},"View and play around with available installed custom field extensions."))));return o.createElement("div",{style:ht.style},o.createElement(N.Z,{variant:"h4",component:"h2",className:Je.introText},"Get started by choosing one of the options below"),o.createElement("div",{style:{display:"flex",flexFlow:"row wrap",alignItems:"flex-start",justifyContent:"center",alignContent:"flex-start"}},Zt&&Jt,lr,!Zt&&Jt,Ur))}},34812:function(Te,b,a){"use strict";var o,m=a(71600),I=a(34590);o={value:!0},b.Z=void 0;var O=I(a(2784)),_=m(a(50175)),D=(0,_.default)(O.createElement("path",{d:"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline");b.Z=D},22983:function(Te,b,a){"use strict";var o,m=a(71600),I=a(34590);o={value:!0},b.Z=void 0;var O=I(a(2784)),_=m(a(50175)),D=(0,_.default)(O.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");b.Z=D},16715:function(Te,b,a){"use strict";var o,m=a(71600),I=a(34590);o={value:!0},b.Z=void 0;var O=I(a(2784)),_=m(a(50175)),D=(0,_.default)(O.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");b.Z=D},82726:function(Te,b,a){"use strict";var o,m=a(71600),I=a(34590);o={value:!0},b.Z=void 0;var O=I(a(2784)),_=m(a(50175)),D=(0,_.default)(O.createElement("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"InfoOutlined");b.Z=D},5075:function(Te,b,a){"use strict";var o,m=a(71600),I=a(34590);o={value:!0},b.Z=void 0;var O=I(a(2784)),_=m(a(50175)),D=(0,_.default)(O.createElement("path",{d:"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"}),"List");b.Z=D},34063:function(Te,b,a){"use strict";var o,m=a(71600),I=a(34590);o={value:!0},b.Z=void 0;var O=I(a(2784)),_=m(a(50175)),D=(0,_.default)(O.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"PanoramaFishEye");b.Z=D},49423:function(Te,b,a){"use strict";var o,m=a(71600),I=a(34590);o={value:!0},b.Z=void 0;var O=I(a(2784)),_=m(a(50175)),D=(0,_.default)(O.createElement("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");b.Z=D},71140:function(Te,b,a){"use strict";var o,m=a(71600),I=a(34590);o={value:!0},b.Z=void 0;var O=I(a(2784)),_=m(a(50175)),D=(0,_.default)(O.createElement("path",{d:"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"RemoveCircleOutline");b.Z=D},96401:function(Te,b,a){"use strict";var o,m=a(71600),I=a(34590);o={value:!0},b.Z=void 0;var O=I(a(2784)),_=m(a(50175)),D=(0,_.default)(O.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");b.Z=D},27057:function(Te,b,a){"use strict";var o,m=a(71600),I=a(34590);o={value:!0},b.Z=void 0;var O=I(a(2784)),_=m(a(50175)),D=(0,_.default)(O.createElement("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z"}),"Web");b.Z=D},51967:function(Te,b,a){"use strict";a.d(b,{r:function(){return _}});var o=a(2784),m=a(78887),I=a(77246),O=function(){return O=Object.assign||function(D){for(var N,R=1,$=arguments.length;R<$;R++){N=arguments[R];for(var z in N)Object.prototype.hasOwnProperty.call(N,z)&&(D[z]=N[z])}return D},O.apply(this,arguments)};function _(D,N){var R=(0,m.F)({status:"not-executed",error:void 0,result:N}),$=R[0],z=R[1],J=(0,o.useRef)(),ee=(0,o.useRef)(),re=(0,I.x)({execute:function(){for(var oe=[],ye=0;ye<arguments.length;ye++)oe[ye]=arguments[ye];ee.current=oe;var F=D.apply(void 0,oe);return J.current=F,z(function(G){return O(O({},G),{status:"loading"})}),F.then(function(G){F===J.current&&z(function(Se){return O(O({},Se),{status:"success",error:void 0,result:G})})},function(G){F===J.current&&z(function(Se){return O(O({},Se),{status:"error",error:G})})}),F},reset:function(){z({status:"not-executed",error:void 0,result:N}),J.current=void 0,ee.current=void 0}});return[$,(0,o.useMemo)(function(){return{reset:function(){re.current.reset()},execute:function(){for(var oe,ye=[],F=0;F<arguments.length;F++)ye[F]=arguments[F];return(oe=re.current).execute.apply(oe,ye)}}},[]),{promise:J.current,lastArgs:ee.current}]}},78887:function(Te,b,a){"use strict";a.d(b,{F:function(){return I}});var o=a(2784),m=a(29862);function I(O){var _=(0,o.useState)(O),D=_[0],N=_[1],R=(0,m.t)(!0);return[D,(0,o.useCallback)(function($){R()&&N($)},[])]}},74182:function(Te,b,a){"use strict";a.d(b,{ZP:function(){return La},P6:function(){return o},Zz:function(){return el}});var o={};a.r(o),a.d(o,{jk:function(){return Ho},TE:function(){return Ia},mH:function(){return Ps},Rc:function(){return Io},OP:function(){return di},qt:function(){return Pt},Tx:function(){return ba},c6:function(){return Yi},ON:function(){return za},Ek:function(){return wo},f_:function(){return Cs},LI:function(){return As},us:function(){return Jo},sm:function(){return _s},H7:function(){return Ma},nb:function(){return Ws},FZ:function(){return Qs},qX:function(){return ua},Kn:function(){return Ai},pA:function(){return Bs},_4:function(){return $n},PM:function(){return ys},pp:function(){return Ro},$2:function(){return vs},vk:function(){return Pn},xk:function(){return Wr},um:function(){return Si},u6:function(){return C},iE:function(){return Vi},N0:function(){return ar},tC:function(){return xn},iZ:function(){return vr},J2:function(){return Ar},Yp:function(){return Un}});var m=a(2784),I=a(13888),O=a.n(I),_=a(72579),D=a.n(_),N=a(45455),R=a.n(N);function $(s){var h=s.errors;return m.createElement("div",{className:"panel panel-danger errors"},m.createElement("div",{className:"panel-heading"},m.createElement("h3",{className:"panel-title"},"Errors")),m.createElement("ul",{className:"list-group"},h.map(function(x,g){return m.createElement("li",{key:g,className:"list-group-item text-danger"},x.stack)})))}var z=a(38294),J=a(76485),ee=a.n(J),re=a(29320),oe=a.n(re),ye=a(26139),F=a.n(ye),G=a(404);function Se(){return Se=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},Se.apply(this,arguments)}function se(s,h){if(s==null)return{};var x=fe(s,h),g,L;if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(s);for(L=0;L<he.length;L++)g=he[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function fe(s,h){if(s==null)return{};var x={},g=Object.keys(s),L,he;for(he=0;he<g.length;he++)L=g[he],!(h.indexOf(L)>=0)&&(x[L]=s[L]);return x}function be(s){var h=s.type,x=h===void 0?"default":h,g=s.icon,L=s.className,he=se(s,["type","icon","className"]);return m.createElement("button",Se({type:"button",className:"btn btn-".concat(x," ").concat(L)},he),m.createElement("i",{className:"glyphicon glyphicon-".concat(g)}))}function te(s){var h=s.className,x=s.onClick,g=s.disabled;return m.createElement("div",{className:"row"},m.createElement("p",{className:"col-xs-3 col-xs-offset-9 text-right ".concat(h)},m.createElement(be,{type:"info",icon:"plus",className:"btn-add col-xs-12","aria-label":"Add",tabIndex:"0",onClick:x,disabled:g})))}var M=a(5594),xe=a.n(M),Le=a(13980),Ce=a.n(Le),Ke=Ce().shape({ArrayFieldTemplate:Ce().elementType,FieldTemplate:Ce().elementType,ObjectFieldTemplate:Ce().elementType,definitions:Ce().object.isRequired,rootSchema:Ce().object,fields:Ce().objectOf(Ce().elementType).isRequired,formContext:Ce().object.isRequired,widgets:Ce().objectOf(Ce().oneOfType([Ce().func,Ce().object])).isRequired}),Xe={autofocus:Ce().bool,disabled:Ce().bool,errorSchema:Ce().object,formData:Ce().any,idSchema:Ce().object,onBlur:Ce().func,onChange:Ce().func.isRequired,onFocus:Ce().func,rawErrors:Ce().arrayOf(Ce().string),readonly:Ce().bool,registry:Ke.isRequired,required:Ce().bool,schema:Ce().object.isRequired,uiSchema:Ce().shape({"ui:options":Ce().shape({addable:Ce().bool,orderable:Ce().bool,removable:Ce().bool})})},dt=a(37164);function st(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?st=function(x){return typeof x}:st=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},st(s)}function Ge(s,h){if(s==null)return{};var x=_t(s,h),g,L;if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(s);for(L=0;L<he.length;L++)g=he[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function _t(s,h){if(s==null)return{};var x={},g=Object.keys(s),L,he;for(he=0;he<g.length;he++)L=g[he],!(h.indexOf(L)>=0)&&(x[L]=s[L]);return x}function or(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){Ze(s,L,x[L])})}return s}function St(s){return Re(s)||mt(s)||xt()}function xt(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function mt(s){if(Symbol.iterator in Object(s)||Object.prototype.toString.call(s)==="[object Arguments]")return Array.from(s)}function Re(s){if(Array.isArray(s)){for(var h=0,x=new Array(s.length);h<s.length;h++)x[h]=s[h];return x}}function yt(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function ot(s,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}function de(s,h,x){return h&&ot(s.prototype,h),x&&ot(s,x),s}function $e(s,h){return h&&(st(h)==="object"||typeof h=="function")?h:Dt(s)}function lt(s){return lt=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},lt(s)}function Dt(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Gt(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&Pr(s,h)}function Pr(s,h){return Pr=Object.setPrototypeOf||function(g,L){return g.__proto__=L,g},Pr(s,h)}function Ze(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function K(s){var h=s.TitleField,x=s.idSchema,g=s.title,L=s.required;if(!g)return null;var he="".concat(x.$id,"__title");return m.createElement(h,{id:he,title:g,required:L})}function Z(s){var h=s.DescriptionField,x=s.idSchema,g=s.description;if(!g)return null;var L="".concat(x.$id,"__description");return m.createElement(h,{id:L,description:g})}function Q(s){var h={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return m.createElement("div",{key:s.key,className:s.className},m.createElement("div",{className:s.hasToolbar?"col-xs-9":"col-xs-12"},s.children),s.hasToolbar&&m.createElement("div",{className:"col-xs-3 array-item-toolbox"},m.createElement("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"}},(s.hasMoveUp||s.hasMoveDown)&&m.createElement(be,{icon:"arrow-up","aria-label":"Move up",className:"array-item-move-up",tabIndex:"-1",style:h,disabled:s.disabled||s.readonly||!s.hasMoveUp,onClick:s.onReorderClick(s.index,s.index-1)}),(s.hasMoveUp||s.hasMoveDown)&&m.createElement(be,{icon:"arrow-down",className:"array-item-move-down","aria-label":"Move down",tabIndex:"-1",style:h,disabled:s.disabled||s.readonly||!s.hasMoveDown,onClick:s.onReorderClick(s.index,s.index+1)}),s.hasRemove&&m.createElement(be,{type:"danger",icon:"remove","aria-label":"Remove",className:"array-item-remove",tabIndex:"-1",style:h,disabled:s.disabled||s.readonly,onClick:s.onDropIndexClick(s.index)}))))}function ge(s){return m.createElement("fieldset",{className:s.className,id:s.idSchema.$id},m.createElement(K,{key:"array-field-title-".concat(s.idSchema.$id),TitleField:s.TitleField,idSchema:s.idSchema,title:s.uiSchema["ui:title"]||s.title,required:s.required}),(s.uiSchema["ui:description"]||s.schema.description)&&m.createElement("div",{className:"field-description",key:"field-description-".concat(s.idSchema.$id)},s.uiSchema["ui:description"]||s.schema.description),m.createElement("div",{className:"row array-item-list",key:"array-item-list-".concat(s.idSchema.$id)},s.items&&s.items.map(Q)),s.canAdd&&m.createElement(te,{className:"array-item-add",onClick:s.onAddClick,disabled:s.disabled||s.readonly}))}function De(s){return m.createElement("fieldset",{className:s.className,id:s.idSchema.$id},m.createElement(K,{key:"array-field-title-".concat(s.idSchema.$id),TitleField:s.TitleField,idSchema:s.idSchema,title:s.uiSchema["ui:title"]||s.title,required:s.required}),(s.uiSchema["ui:description"]||s.schema.description)&&m.createElement(Z,{key:"array-field-description-".concat(s.idSchema.$id),DescriptionField:s.DescriptionField,idSchema:s.idSchema,description:s.uiSchema["ui:description"]||s.schema.description}),m.createElement("div",{className:"row array-item-list",key:"array-item-list-".concat(s.idSchema.$id)},s.items&&s.items.map(function(h){return Q(h)})),s.canAdd&&m.createElement(te,{className:"array-item-add",onClick:s.onAddClick,disabled:s.disabled||s.readonly}))}function Qe(){return(0,dt.x0)()}function Ue(s){return Array.isArray(s)?s.map(function(h){return{key:Qe(),item:h}}):[]}function Lt(s){return s.map(function(h){return h.item})}var tr=function(s){Gt(h,s);function h(x){var g;yt(this,h),g=$e(this,lt(h).call(this,x)),Ze(Dt(g),"_getNewFormDataRow",function(){var qe=g.props,tt=qe.schema,ut=qe.registry,Et=ut===void 0?Yi():ut,At=Et.rootSchema,Mt=tt.items;return Qs(tt)&&Ia(tt)&&(Mt=tt.additionalItems),ba(Mt,void 0,At)}),Ze(Dt(g),"onAddClick",function(qe){qe&&qe.preventDefault();var tt=g.props.onChange,ut={key:Qe(),item:g._getNewFormDataRow()},Et=[].concat(St(g.state.keyedFormData),[ut]);g.setState({keyedFormData:Et,updatedKeyedFormData:!0},function(){return tt(Lt(Et))})}),Ze(Dt(g),"onAddIndexClick",function(qe){return function(tt){tt&&tt.preventDefault();var ut=g.props.onChange,Et={key:Qe(),item:g._getNewFormDataRow()},At=St(g.state.keyedFormData);At.splice(qe,0,Et),g.setState({keyedFormData:At,updatedKeyedFormData:!0},function(){return ut(Lt(At))})}}),Ze(Dt(g),"onDropIndexClick",function(qe){return function(tt){tt&&tt.preventDefault();var ut=g.props.onChange,Et=g.state.keyedFormData,At;if(g.props.errorSchema){At={};var Mt=g.props.errorSchema;for(var er in Mt)er=parseInt(er),er<qe?At[er]=Mt[er]:er>qe&&(At[er-1]=Mt[er])}var ir=Et.filter(function(l,e){return e!==qe});g.setState({keyedFormData:ir,updatedKeyedFormData:!0},function(){return ut(Lt(ir),At)})}}),Ze(Dt(g),"onReorderClick",function(qe,tt){return function(ut){ut&&(ut.preventDefault(),ut.target.blur());var Et=g.props.onChange,At;if(g.props.errorSchema){At={};var Mt=g.props.errorSchema;for(var er in Mt)er==qe?At[tt]=Mt[qe]:er==tt?At[qe]=Mt[tt]:At[er]=Mt[er]}var ir=g.state.keyedFormData;function l(){var t=ir.slice();return t.splice(qe,1),t.splice(tt,0,ir[qe]),t}var e=l();g.setState({keyedFormData:e},function(){return Et(Lt(e),At)})}}),Ze(Dt(g),"onChangeForIndex",function(qe){return function(tt,ut){var Et=g.props,At=Et.formData,Mt=Et.onChange,er=At.map(function(ir,l){var e=typeof tt=="undefined"?null:tt;return qe===l?e:ir});Mt(er,ut&&g.props.errorSchema&&or({},g.props.errorSchema,Ze({},qe,ut)))}}),Ze(Dt(g),"onSelectChange",function(qe){g.props.onChange(qe)});var L=x.formData,he=Ue(L);return g.state={keyedFormData:he,updatedKeyedFormData:!1},g}return de(h,[{key:"isItemRequired",value:function(g){return Array.isArray(g.type)?!xe()(g.type,"null"):g.type!=="null"}},{key:"canAddItem",value:function(g){var L=this.props,he=L.schema,qe=L.uiSchema,tt=As(qe),ut=tt.addable;return ut!==!1&&(he.maxItems!==void 0?ut=g.length<he.maxItems:ut=!0),ut}},{key:"render",value:function(){var g=this.props,L=g.schema,he=g.uiSchema,qe=g.idSchema,tt=g.registry,ut=tt===void 0?Yi():tt,Et=ut.rootSchema;if(!L.hasOwnProperty("items")){var At=ut.fields,Mt=At.UnsupportedField;return m.createElement(Mt,{schema:L,idSchema:qe,reason:"Missing items definition"})}return Qs(L)?this.renderFixedArray():Ws(L,he,Et)?this.renderFiles():ua(L,Et)?this.renderMultiSelect():this.renderNormalArray()}},{key:"renderNormalArray",value:function(){var g=this,L=this.props,he=L.schema,qe=L.uiSchema,tt=L.errorSchema,ut=L.idSchema,Et=L.name,At=L.required,Mt=L.disabled,er=L.readonly,ir=L.autofocus,l=L.registry,e=l===void 0?Yi():l,t=L.onBlur,i=L.onFocus,c=L.idPrefix,v=L.rawErrors,A=he.title===void 0?Et:he.title,W=e.ArrayFieldTemplate,X=e.rootSchema,me=e.fields,ue=e.formContext,je=me.TitleField,ct=me.DescriptionField,vt=C(he.items,X),Ft=Lt(this.state.keyedFormData),Ot={canAdd:this.canAddItem(Ft),items:this.state.keyedFormData.map(function(Qt,Hr){var Gr=Qt.key,un=Qt.item,Tn=C(he.items,X,un),Ln=tt?tt[Hr]:void 0,Fi=ut.$id+"_"+Hr,Fo=vr(Tn,Fi,X,un,c);return g.renderArrayFieldItem({key:Gr,index:Hr,canMoveUp:Hr>0,canMoveDown:Hr<Ft.length-1,itemSchema:Tn,itemIdSchema:Fo,itemErrorSchema:Ln,itemData:un,itemUiSchema:qe.items,autofocus:ir&&Hr===0,onBlur:t,onFocus:i})}),className:"field field-array field-array-of-".concat(vt.type),DescriptionField:ct,disabled:Mt,idSchema:ut,uiSchema:qe,onAddClick:this.onAddClick,readonly:er,required:At,schema:he,title:A,TitleField:je,formContext:ue,formData:Ft,rawErrors:v,registry:e},Bt=qe["ui:ArrayFieldTemplate"]||W||De;return m.createElement(Bt,Ot)}},{key:"renderMultiSelect",value:function(){var g=this.props,L=g.schema,he=g.idSchema,qe=g.uiSchema,tt=g.formData,ut=g.disabled,Et=g.readonly,At=g.required,Mt=g.placeholder,er=g.autofocus,ir=g.onBlur,l=g.onFocus,e=g.registry,t=e===void 0?Yi():e,i=g.rawErrors,c=g.name,v=this.props.formData,A=t.widgets,W=t.rootSchema,X=t.formContext,me=C(L.items,W,tt),ue=L.title||c,je=Ro(me),ct=or({},As(qe),{enumOptions:je}),vt=ct.widget,Ft=vt===void 0?"select":vt,Ot=Ge(ct,["widget"]),Bt=Jo(L,Ft,A);return m.createElement(Bt,{id:he&&he.$id,multiple:!0,onChange:this.onSelectChange,onBlur:ir,onFocus:l,options:Ot,schema:L,registry:t,value:v,disabled:ut,readonly:Et,required:At,label:ue,placeholder:Mt,formContext:X,autofocus:er,rawErrors:i})}},{key:"renderFiles",value:function(){var g=this.props,L=g.schema,he=g.uiSchema,qe=g.idSchema,tt=g.name,ut=g.disabled,Et=g.readonly,At=g.autofocus,Mt=g.onBlur,er=g.onFocus,ir=g.registry,l=ir===void 0?Yi():ir,e=g.rawErrors,t=L.title||tt,i=this.props.formData,c=l.widgets,v=l.formContext,A=As(he),W=A.widget,X=W===void 0?"files":W,me=Ge(A,["widget"]),ue=Jo(L,X,c);return m.createElement(ue,{options:me,id:qe&&qe.$id,multiple:!0,onChange:this.onSelectChange,onBlur:Mt,onFocus:er,schema:L,title:t,value:i,disabled:ut,readonly:Et,formContext:v,autofocus:At,rawErrors:e})}},{key:"renderFixedArray",value:function(){var g=this,L=this.props,he=L.schema,qe=L.uiSchema,tt=L.formData,ut=L.errorSchema,Et=L.idPrefix,At=L.idSchema,Mt=L.name,er=L.required,ir=L.disabled,l=L.readonly,e=L.autofocus,t=L.registry,i=t===void 0?Yi():t,c=L.onBlur,v=L.onFocus,A=L.rawErrors,W=he.title||Mt,X=this.props.formData,me=i.ArrayFieldTemplate,ue=i.rootSchema,je=i.fields,ct=i.formContext,vt=je.TitleField,Ft=he.items.map(function(Hr,Gr){return C(Hr,ue,tt[Gr])}),Ot=Ia(he)?C(he.additionalItems,ue,tt):null;(!X||X.length<Ft.length)&&(X=X||[],X=X.concat(new Array(Ft.length-X.length)));var Bt={canAdd:this.canAddItem(X)&&Ot,className:"field field-array field-array-fixed-items",disabled:ir,idSchema:At,formData:tt,items:this.state.keyedFormData.map(function(Hr,Gr){var un=Hr.key,Tn=Hr.item,Ln=Gr>=Ft.length,Fi=Ln?C(he.additionalItems,ue,Tn):Ft[Gr],Fo=At.$id+"_"+Gr,Yo=vr(Fi,Fo,ue,Tn,Et),Ba=Ln?qe.additionalItems||{}:Array.isArray(qe.items)?qe.items[Gr]:qe.items||{},Ja=ut?ut[Gr]:void 0;return g.renderArrayFieldItem({key:un,index:Gr,canRemove:Ln,canMoveUp:Gr>=Ft.length+1,canMoveDown:Ln&&Gr<X.length-1,itemSchema:Fi,itemData:Tn,itemUiSchema:Ba,itemIdSchema:Yo,itemErrorSchema:Ja,autofocus:e&&Gr===0,onBlur:c,onFocus:v})}),onAddClick:this.onAddClick,readonly:l,required:er,schema:he,uiSchema:qe,title:W,TitleField:vt,formContext:ct,rawErrors:A},Qt=qe["ui:ArrayFieldTemplate"]||me||ge;return m.createElement(Qt,Bt)}},{key:"renderArrayFieldItem",value:function(g){var L=g.key,he=g.index,qe=g.canRemove,tt=qe===void 0?!0:qe,ut=g.canMoveUp,Et=ut===void 0?!0:ut,At=g.canMoveDown,Mt=At===void 0?!0:At,er=g.itemSchema,ir=g.itemData,l=g.itemUiSchema,e=g.itemIdSchema,t=g.itemErrorSchema,i=g.autofocus,c=g.onBlur,v=g.onFocus,A=g.rawErrors,W=this.props,X=W.disabled,me=W.readonly,ue=W.uiSchema,je=W.registry,ct=je===void 0?Yi():je,vt=ct.fields.SchemaField,Ft=or({orderable:!0,removable:!0},ue["ui:options"]),Ot=Ft.orderable,Bt=Ft.removable,Qt={moveUp:Ot&&Et,moveDown:Ot&&Mt,remove:Bt&&tt};return Qt.toolbar=Object.keys(Qt).some(function(Hr){return Qt[Hr]}),{children:m.createElement(vt,{index:he,schema:er,uiSchema:l,formData:ir,errorSchema:t,idSchema:e,required:this.isItemRequired(er),onChange:this.onChangeForIndex(he),onBlur:c,onFocus:v,registry:this.props.registry,disabled:this.props.disabled,readonly:this.props.readonly,autofocus:i,rawErrors:A}),className:"array-item",disabled:X,hasToolbar:Qt.toolbar,hasMoveUp:Qt.moveUp,hasMoveDown:Qt.moveDown,hasRemove:Qt.remove,index:he,key:L,onAddIndexClick:this.onAddIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:me}}},{key:"itemTitle",get:function(){var g=this.props.schema;return g.items.title||g.items.description||"Item"}}],[{key:"getDerivedStateFromProps",value:function(g,L){if(L.updatedKeyedFormData)return{updatedKeyedFormData:!1};var he=g.formData||[],qe=L.keyedFormData||[],tt=he.length===qe.length?qe.map(function(ut,Et){return{key:ut.key,item:he[Et]}}):Ue(he);return{keyedFormData:tt}}}]),h}(m.Component);Ze(tr,"defaultProps",{uiSchema:{},formData:[],idSchema:{},required:!1,disabled:!1,readonly:!1,autofocus:!1});var Kt=tr;function Yt(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){Ht(s,L,x[L])})}return s}function Ht(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function rt(s,h){if(s==null)return{};var x=Ct(s,h),g,L;if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(s);for(L=0;L<he.length;L++)g=he[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function Ct(s,h){if(s==null)return{};var x={},g=Object.keys(s),L,he;for(he=0;he<g.length;he++)L=g[he],!(h.indexOf(L)>=0)&&(x[L]=s[L]);return x}function Vt(s){var h=s.schema,x=s.name,g=s.uiSchema,L=s.idSchema,he=s.formData,qe=s.registry,tt=qe===void 0?Yi():qe,ut=s.required,Et=s.disabled,At=s.readonly,Mt=s.autofocus,er=s.onChange,ir=s.onFocus,l=s.onBlur,e=s.rawErrors,t=h.title,i=tt.widgets,c=tt.formContext,v=tt.fields,A=As(g),W=A.widget,X=W===void 0?"checkbox":W,me=rt(A,["widget"]),ue=Jo(h,X,i),je;return Array.isArray(h.oneOf)?je=Ro({oneOf:h.oneOf.map(function(ct){return Yt({},ct,{title:ct.title||(ct.const===!0?"Yes":"No")})})}):je=Ro({enum:h.enum||[!0,!1],enumNames:h.enumNames||(h.enum&&h.enum[0]===!1?["No","Yes"]:["Yes","No"])}),m.createElement(ue,{options:Yt({},me,{enumOptions:je}),schema:h,uiSchema:g,id:L&&L.$id,onChange:er,onFocus:ir,onBlur:l,label:t===void 0?x:t,value:he,required:ut,disabled:Et,readonly:At,registry:tt,formContext:c,autofocus:Mt,rawErrors:e,DescriptionField:v.DescriptionField})}Vt.defaultProps={uiSchema:{},disabled:!1,readonly:!1,autofocus:!1};var hr=Vt;function xr(s){var h=s.id,x=s.description;return x?typeof x=="string"?m.createElement("p",{id:h,className:"field-description"},x):m.createElement("div",{id:h,className:"field-description"},x):null}var Sr=xr;function cr(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cr=function(x){return typeof x}:cr=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},cr(s)}function Nt(){return Nt=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},Nt.apply(this,arguments)}function Lr(s,h){if(s==null)return{};var x=Er(s,h),g,L;if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(s);for(L=0;L<he.length;L++)g=he[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function Er(s,h){if(s==null)return{};var x={},g=Object.keys(s),L,he;for(he=0;he<g.length;he++)L=g[he],!(h.indexOf(L)>=0)&&(x[L]=s[L]);return x}function yr(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function Zr(s,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}function Vr(s,h,x){return h&&Zr(s.prototype,h),x&&Zr(s,x),s}function Rr(s,h){return h&&(cr(h)==="object"||typeof h=="function")?h:Ie(s)}function fr(s){return fr=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},fr(s)}function Ie(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Xt(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&sr(s,h)}function sr(s,h){return sr=Object.setPrototypeOf||function(g,L){return g.__proto__=L,g},sr(s,h)}function ur(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}var Fr=function(s){Xt(h,s);function h(x){var g;yr(this,h),g=Rr(this,fr(h).call(this,x)),ur(Ie(g),"onOptionChange",function(tt){var ut=parseInt(tt,10),Et=g.props,At=Et.formData,Mt=Et.onChange,er=Et.options,ir=Et.registry,l=ir.rootSchema,e=C(er[ut],l,At),t=void 0;if(_s(At)==="object"&&(e.type==="object"||e.properties)){t=Object.assign({},At);var i=er.slice();i.splice(ut,1);var c=!0,v=!1,A=void 0;try{for(var W=i[Symbol.iterator](),X;!(c=(X=W.next()).done);c=!0){var me=X.value;if(me.properties)for(var ue in me.properties)t.hasOwnProperty(ue)&&delete t[ue]}}catch(je){v=!0,A=je}finally{try{!c&&W.return!=null&&W.return()}finally{if(v)throw A}}}Mt(ba(er[ut],t,l)),g.setState({selectedOption:parseInt(tt,10)})});var L=g.props,he=L.formData,qe=L.options;return g.state={selectedOption:g.getMatchingOption(he,qe)},g}return Vr(h,[{key:"componentDidUpdate",value:function(g,L){if(!Pt(this.props.formData,g.formData)&&this.props.idSchema.$id===g.idSchema.$id){var he=this.getMatchingOption(this.props.formData,this.props.options);if(!L||he===this.state.selectedOption)return;this.setState({selectedOption:he})}}},{key:"getMatchingOption",value:function(g,L){var he=this.props.registry.rootSchema,qe=wo(g,L,he);return qe!==0?qe:this&&this.state?this.state.selectedOption:0}},{key:"render",value:function(){var g=this.props,L=g.baseType,he=g.disabled,qe=g.errorSchema,tt=g.formData,ut=g.idPrefix,Et=g.idSchema,At=g.onBlur,Mt=g.onChange,er=g.onFocus,ir=g.options,l=g.registry,e=g.uiSchema,t=g.schema,i=l.fields.SchemaField,c=l.widgets,v=this.state.selectedOption,A=As(e),W=A.widget,X=W===void 0?"select":W,me=Lr(A,["widget"]),ue=Jo({type:"number"},X,c),je=ir[v]||null,ct;je&&(ct=je.type?je:Object.assign({},je,{type:L}));var vt=ir.map(function(Ft,Ot){return{label:Ft.title||"Option ".concat(Ot+1),value:Ot}});return m.createElement("div",{className:"panel panel-default panel-body"},m.createElement("div",{className:"form-group"},m.createElement(ue,Nt({id:"".concat(Et.$id).concat(t.oneOf?"__oneof_select":"__anyof_select"),schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:At,onFocus:er,value:v,options:{enumOptions:vt}},me))),je!==null&&m.createElement(i,{schema:ct,uiSchema:e,errorSchema:qe,idSchema:Et,idPrefix:ut,formData:tt,onChange:Mt,onBlur:At,onFocus:er,registry:l,disabled:he}))}}]),h}(m.Component);Fr.defaultProps={disabled:!1,errorSchema:{},idSchema:{},uiSchema:{}};var jr=Fr;function wr(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wr=function(x){return typeof x}:wr=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},wr(s)}function Tr(){return Tr=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},Tr.apply(this,arguments)}function _r(s,h){if(s==null)return{};var x=$r(s,h),g,L;if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(s);for(L=0;L<he.length;L++)g=he[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function $r(s,h){if(s==null)return{};var x={},g=Object.keys(s),L,he;for(he=0;he<g.length;he++)L=g[he],!(h.indexOf(L)>=0)&&(x[L]=s[L]);return x}function en(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function hn(s,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}function Nr(s,h,x){return h&&hn(s.prototype,h),x&&hn(s,x),s}function cn(s,h){return h&&(wr(h)==="object"||typeof h=="function")?h:Sn(s)}function gn(s){return gn=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},gn(s)}function Sn(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function yn(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&dn(s,h)}function dn(s,h){return dn=Object.setPrototypeOf||function(g,L){return g.__proto__=L,g},dn(s,h)}function vn(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}var tn=/\.([0-9]*0)*$/,_n=/[0.]0*$/,an=function(s){yn(h,s);function h(x){var g;return en(this,h),g=cn(this,gn(h).call(this,x)),vn(Sn(g),"handleChange",function(L){g.setState({lastValue:L}),"".concat(L).charAt(0)==="."&&(L="0".concat(L));var he=typeof L=="string"&&L.match(tn)?Ps(L.replace(_n,"")):Ps(L);g.props.onChange(he)}),g.state={lastValue:x.value},g}return Nr(h,[{key:"render",value:function(){var g=this.props.registry.fields.StringField,L=this.props,he=L.formData,qe=_r(L,["formData"]),tt=this.state.lastValue,ut=he;if(typeof tt=="string"&&typeof ut=="number"){var Et=new RegExp("".concat(ut).replace(".","\\.")+"\\.?0*$");tt.match(Et)&&(ut=tt)}return m.createElement(g,Tr({},qe,{formData:ut,onChange:this.handleChange}))}}]),h}(m.Component);an.defaultProps={uiSchema:{}};var rn=an;function mn(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mn=function(x){return typeof x}:mn=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},mn(s)}function Kn(){return Kn=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},Kn.apply(this,arguments)}function hi(s){return y(s)||Pe(s)||Ri()}function Ri(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Pe(s){if(Symbol.iterator in Object(s)||Object.prototype.toString.call(s)==="[object Arguments]")return Array.from(s)}function y(s){if(Array.isArray(s)){for(var h=0,x=new Array(s.length);h<s.length;h++)x[h]=s[h];return x}}function T(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){$t(s,L,x[L])})}return s}function V(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function q(s,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}function Oe(s,h,x){return h&&q(s.prototype,h),x&&q(s,x),s}function Ee(s,h){return h&&(mn(h)==="object"||typeof h=="function")?h:He(s)}function ze(s){return ze=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},ze(s)}function He(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function wt(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&jt(s,h)}function jt(s,h){return jt=Object.setPrototypeOf||function(g,L){return g.__proto__=L,g},jt(s,h)}function $t(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function Cr(s){var h=s.TitleField,x=s.DescriptionField;return m.createElement("fieldset",{id:s.idSchema.$id},(s.uiSchema["ui:title"]||s.title)&&m.createElement(h,{id:"".concat(s.idSchema.$id,"__title"),title:s.title||s.uiSchema["ui:title"],required:s.required,formContext:s.formContext}),s.description&&m.createElement(x,{id:"".concat(s.idSchema.$id,"__description"),description:s.description,formContext:s.formContext}),s.properties.map(function(g){return g.content}),Io(s.schema,s.uiSchema,s.formData)&&m.createElement(te,{className:"object-property-expand",onClick:s.onAddClick(s.schema),disabled:s.disabled||s.readonly}))}var pr=function(s){wt(h,s);function h(){var x,g;V(this,h);for(var L=arguments.length,he=new Array(L),qe=0;qe<L;qe++)he[qe]=arguments[qe];return g=Ee(this,(x=ze(h)).call.apply(x,[this].concat(he))),$t(He(g),"state",{wasPropertyKeyModified:!1,additionalProperties:{}}),$t(He(g),"onPropertyChange",function(tt){var ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return function(Et,At){Et===void 0&&ut&&(Et="");var Mt=T({},g.props.formData,$t({},tt,Et));g.props.onChange(Mt,At&&g.props.errorSchema&&T({},g.props.errorSchema,$t({},tt,At)))}}),$t(He(g),"onDropPropertyClick",function(tt){return function(ut){ut.preventDefault();var Et=g.props,At=Et.onChange,Mt=Et.formData,er=T({},Mt);delete er[tt],At(er)}}),$t(He(g),"getAvailableKey",function(tt,ut){for(var Et=0,At=tt;ut.hasOwnProperty(At);)At="".concat(tt,"-").concat(++Et);return At}),$t(He(g),"onKeyChange",function(tt){return function(ut,Et){if(tt!==ut){ut=g.getAvailableKey(ut,g.props.formData);var At=T({},g.props.formData),Mt=$t({},tt,ut),er=Object.keys(At).map(function(l){var e=Mt[l]||l;return $t({},e,At[l])}),ir=Object.assign.apply(Object,[{}].concat(hi(er)));g.setState({wasPropertyKeyModified:!0}),g.props.onChange(ir,Et&&g.props.errorSchema&&T({},g.props.errorSchema,$t({},ut,Et)))}}}),$t(He(g),"handleAddClick",function(tt){return function(){var ut=tt.additionalProperties.type,Et=T({},g.props.formData);if(tt.additionalProperties.hasOwnProperty("$ref")){var At=g.props.registry,Mt=At===void 0?Yi():At,er=C({$ref:tt.additionalProperties.$ref},Mt.rootSchema,g.props.formData);ut=er.type}Et[g.getAvailableKey("newKey",Et)]=g.getDefaultValue(ut),g.props.onChange(Et)}}),g}return Oe(h,[{key:"isRequired",value:function(g){var L=this.props.schema;return Array.isArray(L.required)&&L.required.indexOf(g)!==-1}},{key:"getDefaultValue",value:function(g){switch(g){case"string":return"New Value";case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};default:return"New Value"}}},{key:"render",value:function(){var g=this,L=this.props,he=L.uiSchema,qe=L.formData,tt=L.errorSchema,ut=L.idSchema,Et=L.name,At=L.required,Mt=L.disabled,er=L.readonly,ir=L.idPrefix,l=L.onBlur,e=L.onFocus,t=L.registry,i=t===void 0?Yi():t,c=i.rootSchema,v=i.fields,A=i.formContext,W=v.SchemaField,X=v.TitleField,me=v.DescriptionField,ue=C(this.props.schema,c,qe),je=ue.title===void 0?Et:ue.title,ct=he["ui:description"]||ue.description,vt;try{var Ft=Object.keys(ue.properties||{});vt=vs(Ft,he["ui:order"])}catch(Qt){return m.createElement("div",null,m.createElement("p",{className:"config-error",style:{color:"red"}},"Invalid ",Et||"root"," object field configuration:",m.createElement("em",null,Qt.message),"."),m.createElement("pre",null,JSON.stringify(ue)))}var Ot=he["ui:ObjectFieldTemplate"]||i.ObjectFieldTemplate||Cr,Bt={title:he["ui:title"]||je,description:ct,TitleField:X,DescriptionField:me,properties:vt.map(function(Qt){var Hr=ue.properties[Qt].hasOwnProperty(Ho),Gr=Hr?he.additionalProperties:he[Qt],un=Gr&&Gr["ui:widget"]==="hidden";return{content:m.createElement(W,{key:Qt,name:Qt,required:g.isRequired(Qt),schema:ue.properties[Qt],uiSchema:Gr,errorSchema:tt[Qt],idSchema:ut[Qt],idPrefix:ir,formData:(qe||{})[Qt],wasPropertyKeyModified:g.state.wasPropertyKeyModified,onKeyChange:g.onKeyChange(Qt),onChange:g.onPropertyChange(Qt,Hr),onBlur:l,onFocus:e,registry:i,disabled:Mt,readonly:er,onDropPropertyClick:g.onDropPropertyClick}),name:Qt,readonly:er,disabled:Mt,required:At,hidden:un}}),readonly:er,disabled:Mt,required:At,idSchema:ut,uiSchema:he,schema:ue,formData:qe,formContext:A,registry:i};return m.createElement(Ot,Kn({},Bt,{onAddClick:this.handleAddClick}))}}]),h}(m.Component);$t(pr,"defaultProps",{uiSchema:{},formData:{},errorSchema:{},idSchema:{},required:!1,disabled:!1,readonly:!1});var Cn=pr;function Xn(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xn=function(x){return typeof x}:Xn=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Xn(s)}function zn(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function wi(s,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}function yi(s,h,x){return h&&wi(s.prototype,h),x&&wi(s,x),s}function ji(s,h){return h&&(Xn(h)==="object"||typeof h=="function")?h:us(s)}function us(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function qi(s){return qi=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},qi(s)}function Hn(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&kn(s,h)}function kn(s,h){return kn=Object.setPrototypeOf||function(g,L){return g.__proto__=L,g},kn(s,h)}function eo(){return eo=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},eo.apply(this,arguments)}function Bo(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){qt(s,L,x[L])})}return s}function qt(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function pe(s,h){if(s==null)return{};var x=j(s,h),g,L;if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(s);for(L=0;L<he.length;L++)g=he[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function j(s,h){if(s==null)return{};var x={},g=Object.keys(s),L,he;for(he=0;he<g.length;he++)L=g[he],!(h.indexOf(L)>=0)&&(x[L]=s[L]);return x}var Y="*",ke={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function Ne(s,h,x,g){var L=h["ui:field"];if(typeof L=="function")return L;if(typeof L=="string"&&L in g)return g[L];var he=ke[Cs(s)];return!he&&(s.anyOf||s.oneOf)?function(){return null}:he in g?g[he]:function(){var qe=g.UnsupportedField;return m.createElement(qe,{schema:s,idSchema:x,reason:"Unknown field type ".concat(s.type)})}}function nt(s){var h=s.label,x=s.required,g=s.id;return h?m.createElement("label",{className:"control-label",htmlFor:g},h,x&&m.createElement("span",{className:"required"},Y)):null}function ft(s){var h=s.id,x=s.label,g=s.onChange;return m.createElement("input",{className:"form-control",type:"text",id:h,onBlur:function(he){return g(he.target.value)},defaultValue:x})}function Ut(s){var h=s.id,x=s.help;return x?typeof x=="string"?m.createElement("p",{id:h,className:"help-block"},x):m.createElement("div",{id:h,className:"help-block"},x):null}function Wt(s){var h=s.errors,x=h===void 0?[]:h;return x.length===0?null:m.createElement("div",null,m.createElement("ul",{className:"error-detail bs-callout bs-callout-info"},x.filter(function(g){return!!g}).map(function(g,L){return m.createElement("li",{className:"text-danger",key:L},g)})))}function Br(s){var h=s.id,x=s.label,g=s.children,L=s.errors,he=s.help,qe=s.description,tt=s.hidden,ut=s.required,Et=s.displayLabel;return tt?m.createElement("div",{className:"hidden"},g):m.createElement(Kr,s,Et&&m.createElement(nt,{label:x,required:ut,id:h}),Et&&qe?qe:null,g,L,he)}Br.defaultProps={hidden:!1,readonly:!1,required:!1,displayLabel:!0};function Kr(s){var h=s.id,x=s.classNames,g=s.disabled,L=s.label,he=s.onKeyChange,qe=s.onDropPropertyClick,tt=s.readonly,ut=s.required,Et=s.schema,At="".concat(L," Key"),Mt=Et.hasOwnProperty(Ho);return Mt?m.createElement("div",{className:x},m.createElement("div",{className:"row"},m.createElement("div",{className:"col-xs-5 form-additional"},m.createElement("div",{className:"form-group"},m.createElement(nt,{label:At,required:ut,id:"".concat(h,"-key")}),m.createElement(ft,{label:L,required:ut,id:"".concat(h,"-key"),onChange:he}))),m.createElement("div",{className:"form-additional form-group col-xs-5"},s.children),m.createElement("div",{className:"col-xs-2"},m.createElement(be,{type:"danger",icon:"remove",className:"array-item-remove btn-block",tabIndex:"-1",style:{border:"0"},disabled:g||tt,onClick:qe(L)})))):m.createElement("div",{className:x},s.children)}function Mn(s){var h=s.uiSchema,x=s.formData,g=s.errorSchema,L=s.idPrefix,he=s.name,qe=s.onChange,tt=s.onKeyChange,ut=s.onDropPropertyClick,Et=s.required,At=s.registry,Mt=At===void 0?Yi():At,er=s.wasPropertyKeyModified,ir=er===void 0?!1:er,l=Mt.rootSchema,e=Mt.fields,t=Mt.formContext,i=h["ui:FieldTemplate"]||Mt.FieldTemplate||Br,c=s.idSchema,v=C(s.schema,l,x);c=ys(vr(v,null,l,x,L),c);var A=Ne(v,h,c,e),W=e.DescriptionField,X=Boolean(s.disabled||h["ui:disabled"]),me=Boolean(s.readonly||h["ui:readonly"]||s.schema.readOnly||v.readOnly),ue=Boolean(s.autofocus||h["ui:autofocus"]);if(Object.keys(v).length===0)return null;var je=za(v,h,l),ct=g.__errors,vt=pe(g,["__errors"]),Ft=m.createElement(A,eo({},s,{idSchema:c,schema:v,uiSchema:Bo({},h,{classNames:void 0}),disabled:X,readonly:me,autofocus:ue,errorSchema:vt,formContext:t,rawErrors:ct})),Ot=c.$id,Bt;ir?Bt=he:Bt=h["ui:title"]||s.schema.title||v.title||he;var Qt=h["ui:description"]||s.schema.description||v.description,Hr=ct,Gr=h["ui:help"],un=h["ui:widget"]==="hidden",Tn=["form-group","field","field-".concat(v.type),Hr&&Hr.length>0?"field-error has-error has-danger":"",h.classNames].join(" ").trim(),Ln={description:m.createElement(W,{id:Ot+"__description",description:Qt,formContext:t}),rawDescription:Qt,help:m.createElement(Ut,{id:Ot+"__help",help:Gr}),rawHelp:typeof Gr=="string"?Gr:void 0,errors:m.createElement(Wt,{errors:Hr}),rawErrors:Hr,id:Ot,label:Bt,hidden:un,onChange:qe,onKeyChange:tt,onDropPropertyClick:ut,required:Et,disabled:X,readonly:me,displayLabel:je,classNames:Tn,formContext:t,formData:x,fields:e,schema:v,uiSchema:h,registry:Mt},Fi=Mt.fields.AnyOfField,Fo=Mt.fields.OneOfField;return m.createElement(i,Ln,m.createElement(m.Fragment,null,Ft,v.anyOf&&!Bs(v)&&m.createElement(Fi,{disabled:X,errorSchema:g,formData:x,idPrefix:L,idSchema:c,onBlur:s.onBlur,onChange:s.onChange,onFocus:s.onFocus,options:v.anyOf.map(function(Yo){return C(Yo,l,x)}),baseType:v.type,registry:Mt,schema:v,uiSchema:h}),v.oneOf&&!Bs(v)&&m.createElement(Fo,{disabled:X,errorSchema:g,formData:x,idPrefix:L,idSchema:c,onBlur:s.onBlur,onChange:s.onChange,onFocus:s.onFocus,options:v.oneOf.map(function(Yo){return C(Yo,l,x)}),baseType:v.type,registry:Mt,schema:v,uiSchema:h})))}var Oi=function(s){Hn(h,s);function h(){return zn(this,h),ji(this,qi(h).apply(this,arguments))}return yi(h,[{key:"shouldComponentUpdate",value:function(g,L){return!Pt(this.props,g)}},{key:"render",value:function(){return Mn(this.props)}}]),h}(m.Component);Oi.defaultProps={uiSchema:{},errorSchema:{},idSchema:{},disabled:!1,readonly:!1,autofocus:!1};var Pi=Oi;function ai(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){Ti(s,L,x[L])})}return s}function Ti(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function to(s,h){if(s==null)return{};var x=Ms(s,h),g,L;if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(s);for(L=0;L<he.length;L++)g=he[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function Ms(s,h){if(s==null)return{};var x={},g=Object.keys(s),L,he;for(he=0;he<g.length;he++)L=g[he],!(h.indexOf(L)>=0)&&(x[L]=s[L]);return x}function cs(s){var h=s.schema,x=s.name,g=s.uiSchema,L=s.idSchema,he=s.formData,qe=s.required,tt=s.disabled,ut=s.readonly,Et=s.autofocus,At=s.onChange,Mt=s.onBlur,er=s.onFocus,ir=s.registry,l=ir===void 0?Yi():ir,e=s.rawErrors,t=h.title,i=h.format,c=l.widgets,v=l.formContext,A=Bs(h)&&Ro(h),W=A?"select":"text";i&&Ma(h,i,c)&&(W=i);var X=As(g),me=X.widget,ue=me===void 0?W:me,je=X.placeholder,ct=je===void 0?"":je,vt=to(X,["widget","placeholder"]),Ft=Jo(h,ue,c);return m.createElement(Ft,{options:ai({},vt,{enumOptions:A}),schema:h,uiSchema:g,id:L&&L.$id,label:t===void 0?x:t,value:he,onChange:At,onBlur:Mt,onFocus:er,required:qe,disabled:tt,readonly:ut,formContext:v,autofocus:Et,registry:l,placeholder:ct,rawErrors:e})}cs.defaultProps={uiSchema:{},disabled:!1,readonly:!1,autofocus:!1};var da=cs,Xo="*";function $s(s){var h=s.id,x=s.title,g=s.required;return m.createElement("legend",{id:h},x,g&&m.createElement("span",{className:"required"},Xo))}var ht=$s;function Je(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Je=function(x){return typeof x}:Je=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Je(s)}function Zt(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function Jt(s,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}function lr(s,h,x){return h&&Jt(s.prototype,h),x&&Jt(s,x),s}function Ur(s,h){return h&&(Je(h)==="object"||typeof h=="function")?h:Ir(s)}function Ir(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function ln(s){return ln=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},ln(s)}function mi(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&jn(s,h)}function jn(s,h){return jn=Object.setPrototypeOf||function(g,L){return g.__proto__=L,g},jn(s,h)}var Jn=function(s){mi(h,s);function h(){return Zt(this,h),Ur(this,ln(h).apply(this,arguments))}return lr(h,[{key:"componentDidMount",value:function(){this.props.formData===void 0&&this.props.onChange(null)}},{key:"render",value:function(){return null}}]),h}(m.Component),on=Jn;function nn(s){var h=s.schema,x=s.idSchema,g=s.reason;return m.createElement("div",{className:"unsupported-field"},m.createElement("p",null,"Unsupported field schema",x&&x.$id&&m.createElement("span",null," for"," field ",m.createElement("code",null,x.$id)),g&&m.createElement("em",null,": ",g),"."),h&&m.createElement("pre",null,JSON.stringify(h,null,2)))}var Gn=nn,fn={AnyOfField:jr,ArrayField:Kt,BooleanField:hr,DescriptionField:Sr,NumberField:rn,ObjectField:Cn,OneOfField:jr,SchemaField:Pi,StringField:da,TitleField:ht,NullField:on,UnsupportedField:Gn};function Qn(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qn=function(x){return typeof x}:Qn=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Qn(s)}function vi(){return vi=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},vi.apply(this,arguments)}function Ni(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function ro(s,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}function Yn(s,h,x){return h&&ro(s.prototype,h),x&&ro(s,x),s}function Li(s,h){return h&&(Qn(h)==="object"||typeof h=="function")?h:Xr(s)}function Bi(s){return Bi=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},Bi(s)}function Xr(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Co(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&Hi(s,h)}function Hi(s,h){return Hi=Object.setPrototypeOf||function(g,L){return g.__proto__=L,g},Hi(s,h)}function pi(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function Ao(s,h){for(var x=[],g=s;g<=h;g++)x.push({value:g,label:Pn(g,2)});return x}function Po(s){return Object.keys(s).every(function(h){return s[h]!==-1})}function To(s){var h=s.type,x=s.range,g=s.value,L=s.select,he=s.rootId,qe=s.disabled,tt=s.readonly,ut=s.autofocus,Et=s.registry,At=s.onBlur,Mt=he+"_"+h,er=Et.widgets.SelectWidget;return m.createElement(er,{schema:{type:"integer"},id:Mt,className:"form-control",options:{enumOptions:Ao(x[0],x[1])},placeholder:h,value:g,disabled:qe,readonly:tt,autofocus:ut,onChange:function(l){return L(h,l)},onBlur:At})}var ci=function(s){Co(h,s);function h(x){var g;return Ni(this,h),g=Li(this,Bi(h).call(this,x)),pi(Xr(g),"onChange",function(L,he){g.setState(pi({},L,typeof he=="undefined"?-1:he),function(){Po(g.state)&&g.props.onChange(xn(g.state,g.props.time))})}),pi(Xr(g),"setNow",function(L){L.preventDefault();var he=g.props,qe=he.time,tt=he.disabled,ut=he.readonly,Et=he.onChange;if(!(tt||ut)){var At=Wr(new Date().toJSON(),qe);g.setState(At,function(){return Et(xn(g.state,qe))})}}),pi(Xr(g),"clear",function(L){L.preventDefault();var he=g.props,qe=he.time,tt=he.disabled,ut=he.readonly,Et=he.onChange;tt||ut||g.setState(Wr("",qe),function(){return Et(void 0)})}),g.state=Wr(x.value,x.time),g}return Yn(h,[{key:"componentDidUpdate",value:function(g,L){g.value&&g.value!==Wr(this.props.value,this.props.time)&&this.setState(Wr(this.props.value,this.props.time))}},{key:"shouldComponentUpdate",value:function(g,L){return ar(this,g,L)}},{key:"render",value:function(){var g=this,L=this.props,he=L.id,qe=L.disabled,tt=L.readonly,ut=L.autofocus,Et=L.registry,At=L.onBlur,Mt=L.options;return m.createElement("ul",{className:"list-inline"},this.dateElementProps.map(function(er,ir){return m.createElement("li",{key:ir},m.createElement(To,vi({rootId:he,select:g.onChange},er,{disabled:qe,readonly:tt,registry:Et,onBlur:At,autofocus:ut&&ir===0})))}),(Mt.hideNowButton!=="undefined"?!Mt.hideNowButton:!0)&&m.createElement("li",null,m.createElement("a",{href:"#",className:"btn btn-info btn-now",onClick:this.setNow},"Now")),(Mt.hideClearButton!=="undefined"?!Mt.hideClearButton:!0)&&m.createElement("li",null,m.createElement("a",{href:"#",className:"btn btn-warning btn-clear",onClick:this.clear},"Clear")))}},{key:"dateElementProps",get:function(){var g=this.props,L=g.time,he=g.options,qe=this.state,tt=qe.year,ut=qe.month,Et=qe.day,At=qe.hour,Mt=qe.minute,er=qe.second,ir=[{type:"year",range:he.yearsRange,value:tt},{type:"month",range:[1,12],value:ut},{type:"day",range:[1,31],value:Et}];return L&&ir.push({type:"hour",range:[0,23],value:At},{type:"minute",range:[0,59],value:Mt},{type:"second",range:[0,59],value:er}),ir}}]),h}(m.Component);pi(ci,"defaultProps",{time:!1,disabled:!1,readonly:!1,autofocus:!1,options:{yearsRange:[1900,new Date().getFullYear()+2]}});var lo=ci;function _i(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){_o(s,L,x[L])})}return s}function _o(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function Wo(){return Wo=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},Wo.apply(this,arguments)}function go(s){var h=s.registry.widgets.AltDateWidget;return m.createElement(h,Wo({time:!0},s))}go.defaultProps=_i({},lo.defaultProps,{time:!0});var Ss=go;function Is(s){return Do(s)||Dn(s)||Rs()}function Rs(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Dn(s){if(Symbol.iterator in Object(s)||Object.prototype.toString.call(s)==="[object Arguments]")return Array.from(s)}function Do(s){if(Array.isArray(s)){for(var h=0,x=new Array(s.length);h<s.length;h++)x[h]=s[h];return x}}function uo(){return uo=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},uo.apply(this,arguments)}function fs(s,h){if(s==null)return{};var x=Ji(s,h),g,L;if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(s);for(L=0;L<he.length;L++)g=he[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function Ji(s,h){if(s==null)return{};var x={},g=Object.keys(s),L,he;for(he=0;he<g.length;he++)L=g[he],!(h.indexOf(L)>=0)&&(x[L]=s[L]);return x}function pn(s){if(!s.id)throw console.log("No id for",s),new Error("no id for props ".concat(JSON.stringify(s)));var h=s.value,x=s.readonly,g=s.disabled,L=s.autofocus,he=s.onBlur,qe=s.onFocus,tt=s.options,ut=s.schema,Et=s.uiSchema,At=s.formContext,Mt=s.registry,er=s.rawErrors,ir=fs(s,["value","readonly","disabled","autofocus","onBlur","onFocus","options","schema","uiSchema","formContext","registry","rawErrors"]);tt.inputType?ir.type=tt.inputType:ir.type||(ut.type==="number"?(ir.type="number",ir.step="any"):ut.type==="integer"?(ir.type="number",ir.step="1"):ir.type="text"),tt.autocomplete&&(ir.autoComplete=tt.autocomplete),ut.multipleOf&&(ir.step=ut.multipleOf),typeof ut.minimum!="undefined"&&(ir.min=ut.minimum),typeof ut.maximum!="undefined"&&(ir.max=ut.maximum);var l=function(t){var i=t.target.value;return s.onChange(i===""?tt.emptyValue:i)};return[m.createElement("input",uo({key:ir.id,className:"form-control",readOnly:x,disabled:g,autoFocus:L,value:h==null?"":h},ir,{list:ut.examples?"examples_".concat(ir.id):null,onChange:l,onBlur:he&&function(e){return he(ir.id,e.target.value)},onFocus:qe&&function(e){return qe(ir.id,e.target.value)}})),ut.examples?m.createElement("datalist",{key:"datalist_".concat(ir.id),id:"examples_".concat(ir.id)},Is(new Set(ut.examples.concat(ut.default?[ut.default]:[]))).map(function(e){return m.createElement("option",{key:e,value:e})})):null]}pn.defaultProps={required:!1,disabled:!1,readonly:!1,autofocus:!1};var Fs=pn;function Di(s){var h=s.schema,x=s.id,g=s.value,L=s.disabled,he=s.readonly,qe=s.label,tt=s.autofocus,ut=s.onBlur,Et=s.onFocus,At=s.onChange,Mt=s.DescriptionField,er=Vi(h);return m.createElement("div",{className:"checkbox ".concat(L||he?"disabled":"")},h.description&&m.createElement(Mt,{description:h.description}),m.createElement("label",null,m.createElement("input",{type:"checkbox",id:x,checked:typeof g=="undefined"?!1:g,required:er,disabled:L||he,autoFocus:tt,onChange:function(l){return At(l.target.checked)},onBlur:ut&&function(ir){return ut(x,ir.target.checked)},onFocus:Et&&function(ir){return Et(x,ir.target.checked)}}),m.createElement("span",null,qe)))}Di.defaultProps={autofocus:!1};var Qo=Di;function no(s,h,x){var g=x.indexOf(s),L=h.slice(0,g).concat(s,h.slice(g));return L.sort(function(he,qe){return x.indexOf(he)>x.indexOf(qe)})}function qo(s,h){return h.filter(function(x){return x!==s})}function Gi(s){var h=s.id,x=s.disabled,g=s.options,L=s.value,he=s.autofocus,qe=s.readonly,tt=s.onChange,ut=g.enumOptions,Et=g.enumDisabled,At=g.inline;return m.createElement("div",{className:"checkboxes",id:h},ut.map(function(Mt,er){var ir=L.indexOf(Mt.value)!==-1,l=Et&&Et.indexOf(Mt.value)!=-1,e=x||l||qe?"disabled":"",t=m.createElement("span",null,m.createElement("input",{type:"checkbox",id:"".concat(h,"_").concat(er),checked:ir,disabled:x||l||qe,autoFocus:he&&er===0,onChange:function(c){var v=ut.map(function(A){var W=A.value;return W});c.target.checked?tt(no(Mt.value,L,v)):tt(qo(Mt.value,L))}}),m.createElement("span",null,Mt.label));return At?m.createElement("label",{key:er,className:"checkbox-inline ".concat(e)},t):m.createElement("div",{key:er,className:"checkbox ".concat(e)},m.createElement("label",null,t))}))}Gi.defaultProps={autofocus:!1,options:{inline:!1}};var En=Gi;function bi(){return bi=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},bi.apply(this,arguments)}function qn(s){var h=s.disabled,x=s.readonly,g=s.registry.widgets.BaseInput;return m.createElement(g,bi({type:"color"},s,{disabled:h||x}))}var ko=qn;function xi(){return xi=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},xi.apply(this,arguments)}function ei(s){var h=s.onChange,x=s.registry.widgets.BaseInput;return m.createElement(x,xi({type:"date"},s,{onChange:function(L){return h(L||void 0)}}))}var Es=ei;function ti(){return ti=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},ti.apply(this,arguments)}function co(s){var h=s.value,x=s.onChange,g=s.registry.widgets.BaseInput;return m.createElement(g,ti({type:"datetime-local"},s,{value:Un(h),onChange:function(he){return x($n(he))}}))}var io=co;function Wi(){return Wi=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},Wi.apply(this,arguments)}function Zo(s){var h=s.registry.widgets.BaseInput;return m.createElement(h,Wi({type:"email"},s))}var ki=Zo;function ws(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ws=function(x){return typeof x}:ws=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},ws(s)}function bo(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function ri(s,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}function Ci(s,h,x){return h&&ri(s.prototype,h),x&&ri(s,x),s}function Dr(s,h){return h&&(ws(h)==="object"||typeof h=="function")?h:oo(s)}function li(s){return li=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},li(s)}function oo(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Uo(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&Ks(s,h)}function Ks(s,h){return Ks=Object.setPrototypeOf||function(g,L){return g.__proto__=L,g},Ks(s,h)}function Wn(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function zs(s,h){return s.replace(";base64",";name=".concat(encodeURIComponent(h),";base64"))}function Vo(s){var h=s.name,x=s.size,g=s.type;return new Promise(function(L,he){var qe=new window.FileReader;qe.onerror=he,qe.onload=function(tt){L({dataURL:zs(tt.target.result,h),name:h,size:x,type:g})},qe.readAsDataURL(s)})}function es(s){return Promise.all([].map.call(s,Vo))}function Os(s){var h=s.filesInfo;return h.length===0?null:m.createElement("ul",{className:"file-info"},h.map(function(x,g){var L=x.name,he=x.size,qe=x.type;return m.createElement("li",{key:g},m.createElement("strong",null,L)," (",qe,", ",he," bytes)")}))}function xs(s){return s.filter(function(h){return typeof h!="undefined"}).map(function(h){var x=di(h),g=x.blob,L=x.name;return{name:L,size:g.size,type:g.type}})}var pt=function(s){Uo(h,s);function h(x){var g;bo(this,h),g=Dr(this,li(h).call(this,x)),Wn(oo(g),"onChange",function(qe){var tt=g.props,ut=tt.multiple,Et=tt.onChange;es(qe.target.files).then(function(At){var Mt={values:At.map(function(er){return er.dataURL}),filesInfo:At};g.setState(Mt,function(){Et(ut?Mt.values:Mt.values[0])})})});var L=x.value,he=Array.isArray(L)?L:[L];return g.state={values:he,filesInfo:xs(he)},g}return Ci(h,[{key:"shouldComponentUpdate",value:function(g,L){return ar(this,g,L)}},{key:"render",value:function(){var g=this,L=this.props,he=L.multiple,qe=L.id,tt=L.readonly,ut=L.disabled,Et=L.autofocus,At=L.options,Mt=this.state.filesInfo;return m.createElement("div",null,m.createElement("p",null,m.createElement("input",{ref:function(ir){return g.inputRef=ir},id:qe,type:"file",disabled:tt||ut,onChange:this.onChange,defaultValue:"",autoFocus:Et,multiple:he,accept:At.accept})),m.createElement(Os,{filesInfo:Mt}))}}]),h}(m.Component);pt.defaultProps={autofocus:!1};var it=pt;function Zi(s){var h=s.id,x=s.value;return m.createElement("input",{type:"hidden",id:h,value:typeof x=="undefined"?"":x})}var Mi=Zi;function Jr(){return Jr=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},Jr.apply(this,arguments)}function Or(s){var h=s.registry.widgets.BaseInput;return m.createElement(h,Jr({type:"password"},s))}var gr=Or;function zr(s){var h=s.options,x=s.value,g=s.required,L=s.disabled,he=s.readonly,qe=s.autofocus,tt=s.onBlur,ut=s.onFocus,Et=s.onChange,At=s.id,Mt=Math.random().toString(),er=h.enumOptions,ir=h.enumDisabled,l=h.inline;return m.createElement("div",{className:"field-radio-group",id:At},er.map(function(e,t){var i=e.value===x,c=ir&&ir.indexOf(e.value)!=-1,v=L||c||he?"disabled":"",A=m.createElement("span",null,m.createElement("input",{type:"radio",checked:i,name:Mt,required:g,value:e.value,disabled:L||c||he,autoFocus:qe&&t===0,onChange:function(X){return Et(e.value)},onBlur:tt&&function(W){return tt(At,W.target.value)},onFocus:ut&&function(W){return ut(At,W.target.value)}}),m.createElement("span",null,e.label));return l?m.createElement("label",{key:t,className:"radio-inline ".concat(v)},A):m.createElement("div",{key:t,className:"radio ".concat(v)},m.createElement("label",null,A))}))}zr.defaultProps={autofocus:!1};var wn=zr;function An(){return An=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},An.apply(this,arguments)}function fi(s){var h=s.schema,x=s.value,g=s.registry.widgets.BaseInput;return m.createElement("div",{className:"field-range-wrapper"},m.createElement(g,An({type:"range"},s,Si(h))),m.createElement("span",{className:"range-view"},x))}var gi=fi,So=new Set(["number","integer"]);function ds(s,h){var x=s.type,g=s.items;if(h!==""){{if(x==="array"&&g&&So.has(g.type))return h.map(Ps);if(x==="boolean")return h==="true";if(x==="number")return Ps(h)}if(s.enum){if(s.enum.every(function(L){return _s(L)==="number"}))return Ps(h);if(s.enum.every(function(L){return _s(L)==="boolean"}))return h==="true"}return h}}function Zn(s,h){return h?[].slice.call(s.target.options).filter(function(x){return x.selected}).map(function(x){return x.value}):s.target.value}function Nn(s){var h=s.schema,x=s.id,g=s.options,L=s.value,he=s.required,qe=s.disabled,tt=s.readonly,ut=s.multiple,Et=s.autofocus,At=s.onChange,Mt=s.onBlur,er=s.onFocus,ir=s.placeholder,l=g.enumOptions,e=g.enumDisabled,t=ut?[]:"";return m.createElement("select",{id:x,multiple:ut,className:"form-control",value:typeof L=="undefined"?t:L,required:he,disabled:qe||tt,autoFocus:Et,onBlur:Mt&&function(i){var c=Zn(i,ut);Mt(x,ds(h,c))},onFocus:er&&function(i){var c=Zn(i,ut);er(x,ds(h,c))},onChange:function(c){var v=Zn(c,ut);At(ds(h,v))}},!ut&&h.default===void 0&&m.createElement("option",{value:""},ir),l.map(function(i,c){var v=i.value,A=i.label,W=e&&e.indexOf(v)!=-1;return m.createElement("option",{key:c,value:v,disabled:W},A)}))}Nn.defaultProps={autofocus:!1};var Aa=Nn;function ts(s){var h=s.id,x=s.options,g=s.placeholder,L=s.value,he=s.required,qe=s.disabled,tt=s.readonly,ut=s.autofocus,Et=s.onChange,At=s.onBlur,Mt=s.onFocus,er=function(l){var e=l.target.value;return Et(e===""?x.emptyValue:e)};return m.createElement("textarea",{id:h,className:"form-control",value:L||"",placeholder:g,required:he,disabled:qe,readOnly:tt,autoFocus:ut,rows:x.rows,onBlur:At&&function(ir){return At(h,ir.target.value)},onFocus:Mt&&function(ir){return Mt(h,ir.target.value)},onChange:er})}ts.defaultProps={autofocus:!1,options:{}};var rs=ts;function Ua(s){var h=s.registry.widgets.BaseInput;return m.createElement(h,s)}var Pa=Ua;function Ko(){return Ko=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},Ko.apply(this,arguments)}function fo(s){var h=s.registry.widgets.BaseInput;return m.createElement(h,Ko({type:"url"},s))}var ho=fo;function hs(){return hs=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},hs.apply(this,arguments)}function js(s){var h=s.registry.widgets.BaseInput;return m.createElement(h,hs({type:"number"},s,Si(s.schema)))}var na=js,Va={BaseInput:Fs,PasswordWidget:gr,RadioWidget:wn,UpDownWidget:na,RangeWidget:gi,SelectWidget:Aa,TextWidget:Pa,DateWidget:Es,DateTimeWidget:io,AltDateWidget:lo,AltDateTimeWidget:Ss,EmailWidget:ki,URLWidget:ho,TextareaWidget:rs,HiddenWidget:Mi,ColorWidget:ko,FileWidget:it,CheckboxWidget:Qo,CheckboxesWidget:En},ns=a(25497),Hs=a.n(ns),ha=a(84778),ma=a.n(ha);function yo(s){return ia(s)||pa(s)||Ta()}function Ta(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function pa(s){if(Symbol.iterator in Object(s)||Object.prototype.toString.call(s)==="[object Arguments]")return Array.from(s)}function ia(s){if(Array.isArray(s)){for(var h=0,x=new Array(s.length);h<s.length;h++)x[h]=s[h];return x}}function Js(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){Gs(s,L,x[L])})}return s}function Gs(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}var Eo=zo(),Ns=null,Ys=null,oa="__rjsf_rootSchema";function zo(){var s=new(ma())({errorDataPath:"property",allErrors:!0,multipleOfPrecision:8,schemaId:"auto",unknownFormats:"ignore"});return s.addFormat("data-url",/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/),s.addFormat("color",/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/),s}function Ls(s){return s.length?s.reduce(function(h,x){var g=x.property,L=x.message,he=Hs()(g),qe=h;he.length>0&&he[0]===""&&he.splice(0,1);var tt=!0,ut=!1,Et=void 0;try{for(var At=he.slice(0)[Symbol.iterator](),Mt;!(tt=(Mt=At.next()).done);tt=!0){var er=Mt.value;er in qe||(qe[er]={}),qe=qe[er]}}catch(ir){ut=!0,Et=ir}finally{try{!tt&&At.return!=null&&At.return()}finally{if(ut)throw Et}}return Array.isArray(qe.__errors)?qe.__errors=qe.__errors.concat(L):L&&(qe.__errors=[L]),h},{}):{}}function Mo(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",x=[];return"__errors"in s&&(x=x.concat(s.__errors.map(function(g){return{stack:"".concat(h,": ").concat(g)}}))),Object.keys(s).reduce(function(g,L){return L!=="__errors"&&(g=g.concat(Mo(s[L],L))),g},x)}function sa(s){var h={__errors:[],addError:function(g){this.__errors.push(g)}};return Ai(s)?Object.keys(s).reduce(function(x,g){return Js({},x,Gs({},g,sa(s[g])))},h):Array.isArray(s)?s.reduce(function(x,g,L){return Js({},x,Gs({},L,sa(g)))},h):h}function _a(s){return Object.keys(s).reduce(function(h,x){return x==="addError"?h:x==="__errors"?Js({},h,Gs({},x,s[x])):Js({},h,Gs({},x,_a(s[x])))},{})}function Da(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return s===null?[]:s.map(function(h){var x=h.dataPath,g=h.keyword,L=h.message,he=h.params,qe=h.schemaPath,tt="".concat(x);return{name:g,property:tt,message:L,params:he,stack:"".concat(tt," ").concat(L).trim(),schemaPath:qe}})}function ka(s,h,x,g){var L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],he=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},qe=h;s=ba(h,s,qe,!0);var tt=!Pt(Ys,L),ut=!Pt(Ns,he);(tt||ut)&&(Eo=zo()),L&&tt&&Array.isArray(L)&&(Eo.addMetaSchema(L),Ys=L),he&&ut&&Ai(he)&&(Object.keys(he).forEach(function(i){Eo.addFormat(i,he[i])}),Ns=he);var Et=null;try{Eo.validate(h,s)}catch(i){Et=i}var At=Da(Eo.errors);Eo.errors=null;var Mt=Et&&Et.message&&typeof Et.message=="string"&&Et.message.includes("no schema with key or ref ");Mt&&(At=[].concat(yo(At),[{stack:Et.message}])),typeof g=="function"&&(At=g(At));var er=Ls(At);if(Mt&&(er=Js({},er,{$schema:{__errors:[Et.message]}})),typeof x!="function")return{errors:At,errorSchema:er};var ir=x(s,sa(s)),l=_a(ir),e=ys(er,l,!0),t=Mo(e);return{errors:t,errorSchema:e}}function is(s){var h=s;if(s.constructor===Object){h=Js({},s);for(var x in h){var g=h[x];x==="$ref"&&typeof g=="string"&&g.startsWith("#")?h[x]=oa+g:h[x]=is(g)}}else if(Array.isArray(s)){h=yo(s);for(var L=0;L<h.length;L++)h[L]=is(h[L])}return h}function so(s,h,x){try{return Eo.addSchema(x,oa).validate(is(s),h)}catch{return!1}finally{Eo.removeSchema(oa)}}function $o(s){var h=Qa(s,"string");return mo(h)==="symbol"?h:String(h)}function Qa(s,h){if(mo(s)!=="object"||s===null)return s;var x=s[Symbol.toPrimitive];if(x!==void 0){var g=x.call(s,h||"default");if(mo(g)!=="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(s)}function aa(s){return ya(s)||Ui(s)||ga()}function ga(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Ui(s){if(Symbol.iterator in Object(s)||Object.prototype.toString.call(s)==="[object Arguments]")return Array.from(s)}function ya(s){if(Array.isArray(s)){for(var h=0,x=new Array(s.length);h<s.length;h++)x[h]=s[h];return x}}function mo(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mo=function(x){return typeof x}:mo=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},mo(s)}function Xs(){return Xs=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},Xs.apply(this,arguments)}function vo(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){la(s,L,x[L])})}return s}function la(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function ms(s,h){if(s==null)return{};var x=ps(s,h),g,L;if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(s);for(L=0;L<he.length;L++)g=he[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function ps(s,h){if(s==null)return{};var x={},g=Object.keys(s),L,he;for(he=0;he<g.length;he++)L=g[he],!(h.indexOf(L)>=0)&&(x[L]=s[L]);return x}var Ho="__additional_property",va={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function Io(s,h,x){if(!s.additionalProperties)return!1;var g=As(h),L=g.expandable;return L===!1?L:s.maxProperties!==void 0?Object.keys(x).length<s.maxProperties:!0}function Yi(){return{fields:fn,widgets:Va,definitions:{},rootSchema:{},formContext:{}}}function Cs(s){var h=s.type;return!h&&s.const?_s(s.const):!h&&s.enum?"string":!h&&(s.properties||s.additionalProperties)?"object":h instanceof Array&&h.length===2&&h.includes("null")?h.find(function(x){return x!=="null"}):h}function Jo(s,h){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=Cs(s);function L(tt){if(!tt.MergedWidget){var ut=tt.defaultProps&&tt.defaultProps.options||{};tt.MergedWidget=function(Et){var At=Et.options,Mt=At===void 0?{}:At,er=ms(Et,["options"]);return m.createElement(tt,Xs({options:vo({},ut,Mt)},er))}}return tt.MergedWidget}if(typeof h=="function"||z.isForwardRef(m.createElement(h))||z.isMemo(h))return L(h);if(typeof h!="string")throw new Error("Unsupported widget definition: ".concat(mo(h)));if(x.hasOwnProperty(h)){var he=x[h];return Jo(s,he,x)}if(!va.hasOwnProperty(g))throw new Error('No widget for type "'.concat(g,'"'));if(va[g].hasOwnProperty(h)){var qe=x[va[g][h]];return Jo(s,qe,x)}throw new Error('No widget "'.concat(h,'" for type "').concat(g,'"'))}function Ma(s,h){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};try{return Jo(s,h,x),!0}catch(g){if(g.message&&(g.message.startsWith("No widget")||g.message.startsWith("Unsupported widget")))return!1;throw g}}function gs(s,h,x){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,he=Ai(s)?s:{},qe=Ai(g)?g:{},tt=h;if(Ai(tt)&&Ai(he.default))tt=ys(tt,he.default);else if("default"in he)tt=he.default;else if("$ref"in he){var ut=Go(he.$ref,x);return gs(ut,tt,x,qe,L)}else if("dependencies"in he){var Et=U(he,x,qe);return gs(Et,tt,x,qe,L)}else Qs(he)?tt=he.items.map(function(l,e){return gs(l,Array.isArray(h)?h[e]:void 0,x,qe,L)}):"oneOf"in he?he=he.oneOf[wo(void 0,he.oneOf,x)]:"anyOf"in he&&(he=he.anyOf[wo(void 0,he.anyOf,x)]);switch(typeof tt=="undefined"&&(tt=he.default),Cs(he)){case"object":return Object.keys(he.properties||{}).reduce(function(l,e){var t=gs(he.properties[e],(tt||{})[e],x,(qe||{})[e],L);return(L||t!==void 0)&&(l[e]=t),l},{});case"array":if(Array.isArray(tt)&&(tt=tt.map(function(l,e){return gs(he.items[e]||he.additionalItems||{},l,x)})),Array.isArray(g)&&(tt=g.map(function(l,e){return gs(he.items,(tt||{})[e],x,l)})),he.minItems){if(ua(he,x))return tt||[];var At=tt?tt.length:0;if(he.minItems>At){var Mt=tt||[],er=Array.isArray(he.items)?he.additionalItems:he.items,ir=oe()(new Array(he.minItems-At),gs(er,er.defaults,x));return Mt.concat(ir)}}}return tt}function ba(s,h){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ai(s))throw new Error("Invalid schema: "+s);var L=C(s,x,h),he=gs(L,s.default,x,h,g);return typeof h=="undefined"?he:Ai(h)||Array.isArray(h)?Ka(he,h):h===0||h===!1||h===""?h:h||he}function Ka(s,h){if(Array.isArray(h))return Array.isArray(s)||(s=[]),h.map(function(g,L){return s[L]?Ka(s[L],g):g});if(Ai(h)){var x=Object.assign({},s);return Object.keys(h).reduce(function(g,L){return g[L]=Ka(s?s[L]:{},h[L]),g},x)}else return h}function As(s){return Object.keys(s).filter(function(h){return h.indexOf("ui:")===0}).reduce(function(h,x){var g=s[x];return x==="ui:widget"&&Ai(g)?(console.warn("Setting options via ui:widget object is deprecated, use ui:options instead"),vo({},h,g.options||{},{widget:g.component})):x==="ui:options"&&Ai(g)?vo({},h,g):vo({},h,la({},x.substring(3),g))},{})}function za(s,h,x){var g=As(h),L=g.label,he=L===void 0?!0:L,qe=Cs(s);return qe==="array"&&(he=ua(s,x)||Ws(s,h,x)),qe==="object"&&(he=!1),qe==="boolean"&&!h["ui:widget"]&&(he=!1),h["ui:field"]&&(he=!1),he}function Ai(s){return typeof File!="undefined"&&s instanceof File?!1:mo(s)==="object"&&s!==null&&!Array.isArray(s)}function ys(s,h){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=Object.assign({},s);return Object.keys(h).reduce(function(L,he){var qe=s?s[he]:{},tt=h[he];return s&&s.hasOwnProperty(he)&&Ai(tt)?L[he]=ys(qe,tt,x):x&&Array.isArray(qe)&&Array.isArray(tt)?L[he]=qe.concat(tt):L[he]=tt,L},g)}function Ps(s){if(s!==""){if(s===null)return null;if(/\.$/.test(s)||/\.0$/.test(s))return s;var h=Number(s),x=typeof h=="number"&&!Number.isNaN(h);return/\.\d*0$/.test(s)?s:x?h:s}}function vs(s,h){if(!Array.isArray(h))return s;var x=function(Mt){return Mt.reduce(function(er,ir){return er[ir]=!0,er},{})},g=function(Mt){return Mt.length>1?"properties '".concat(Mt.join("', '"),"'"):"property '".concat(Mt[0],"'")},L=x(s),he=h.filter(function(At){return At==="*"||L[At]}),qe=x(he),tt=s.filter(function(At){return!qe[At]}),ut=he.indexOf("*");if(ut===-1){if(tt.length)throw new Error("uiSchema order list does not contain ".concat(g(tt)));return he}if(ut!==he.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");var Et=aa(he);return Et.splice.apply(Et,[ut,1].concat(aa(tt))),Et}function $a(s){return Array.isArray(s.enum)&&s.enum.length===1||s.hasOwnProperty("const")}function Ts(s){if(Array.isArray(s.enum)&&s.enum.length===1)return s.enum[0];if(s.hasOwnProperty("const"))return s.const;throw new Error("schema cannot be inferred as a constant")}function Bs(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=C(s,h),g=x.oneOf||x.anyOf;return Array.isArray(x.enum)?!0:Array.isArray(g)?g.every(function(L){return $a(L)}):!1}function ua(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return!s.uniqueItems||!s.items?!1:Bs(s.items,h)}function Ws(s,h){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(h["ui:widget"]==="files")return!0;if(s.items){var g=C(s.items,x);return g.type==="string"&&g.format==="data-url"}return!1}function Qs(s){return Array.isArray(s.items)&&s.items.length>0&&s.items.every(function(h){return Ai(h)})}function Ia(s){return s.additionalItems===!0&&console.warn("additionalItems=true is currently not supported"),Ai(s.additionalItems)}function Ro(s){if(s.enum)return s.enum.map(function(x,g){var L=s.enumNames&&s.enumNames[g]||String(x);return{label:L,value:x}});var h=s.oneOf||s.anyOf;return h.map(function(x,g){var L=Ts(x),he=x.title||String(L);return{schema:x,label:he,value:L}})}function Go(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=s;if(s.startsWith("#"))s=decodeURIComponent(s.substring(1));else throw new Error("Could not find a definition for ".concat(x,"."));var g=G.get(h,s);if(g===void 0)throw new Error("Could not find a definition for ".concat(x,"."));return g.hasOwnProperty("$ref")?Go(g.$ref,h):g}var _s=function(h){if(Array.isArray(h))return"array";if(typeof h=="string")return"string";if(h==null)return"null";if(typeof h=="boolean")return"boolean";if(isNaN(h)){if(mo(h)==="object")return"object"}else return"number";return"string"};function Ra(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return s=vo({},s,{properties:vo({},s.properties)}),x=Ai(x)?x:{},Object.keys(x).forEach(function(g){if(!s.properties.hasOwnProperty(g)){var L;s.additionalProperties.hasOwnProperty("$ref")?L=C({$ref:s.additionalProperties.$ref},h,x):s.additionalProperties.hasOwnProperty("type")?L=vo({},s.additionalProperties):L={type:_s(x[g])},s.properties[g]=L,s.properties[g][Ho]=!0}}),s}function Zs(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(s.hasOwnProperty("$ref"))return Ds(s,h,x);if(s.hasOwnProperty("dependencies")){var g=U(s,h,x);return C(g,h,x)}else return s.hasOwnProperty("allOf")?vo({},s,{allOf:s.allOf.map(function(L){return C(L,h,x)})}):s}function Ds(s,h,x){var g=Go(s.$ref,h),L=s.$ref,he=ms(s,["$ref"]);return C(vo({},g,he),h,x)}function C(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!Ai(s))return{};var g=Zs(s,h,x);if("allOf"in s)try{g=ee()(vo({},g,{allOf:g.allOf}))}catch(ut){console.warn(`could not merge subschemas in allOf:
`+ut);var L=g,he=L.allOf,qe=ms(L,["allOf"]);return qe}var tt=g.hasOwnProperty("additionalProperties")&&g.additionalProperties!==!1;return tt?Ra(g,h,x):g}function U(s,h,x){var g=s.dependencies,L=g===void 0?{}:g,he=ms(s,["dependencies"]);return"oneOf"in he?he=he.oneOf[wo(x,he.oneOf,h)]:"anyOf"in he&&(he=he.anyOf[wo(x,he.anyOf,h)]),ne(L,he,h,x)}function ne(s,h,x,g){for(var L in s)if(g[L]!==void 0&&!(h.properties&&!(L in h.properties))){var he=s[L],qe=ms(s,[L].map($o));return Array.isArray(he)?h=we(h,he):Ai(he)&&(h=_e(h,x,g,L,he)),ne(qe,h,x,g)}return h}function we(s,h){if(!h)return s;var x=Array.isArray(s.required)?Array.from(new Set([].concat(aa(s.required),aa(h)))):h;return vo({},s,{required:x})}function _e(s,h,x,g,L){var he=C(L,h,x),qe=he.oneOf,tt=ms(he,["oneOf"]);if(s=at(s,tt),qe===void 0)return s;if(!Array.isArray(qe))throw new Error("invalid: it is some ".concat(mo(qe)," instead of an array"));var ut=qe.map(function(Et){return Et.hasOwnProperty("$ref")?Ds(Et,h,x):Et});return Fe(s,h,x,g,ut)}function Fe(s,h,x,g,L){var he=L.filter(function(Mt){if(!Mt.properties)return!1;var er=Mt.properties[g];if(er){var ir={type:"object",properties:la({},g,er)},l=ka(x,ir),e=l.errors;return e.length===0}});if(he.length!==1)return console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),s;var qe=he[0],tt=qe.properties,ut=tt[g],Et=ms(tt,[g].map($o)),At=vo({},qe,{properties:Et});return at(s,C(At,h,x))}function at(s,h){var x=Object.assign({},s);return Object.keys(h).reduce(function(g,L){var he=s?s[L]:{},qe=h[L];return s&&s.hasOwnProperty(L)&&Ai(qe)?g[L]=at(he,qe):s&&h&&(Cs(s)==="object"||Cs(h)==="object")&&L==="required"&&Array.isArray(he)&&Array.isArray(qe)?g[L]=F()(he,qe):g[L]=qe,g},x)}function Rt(s){return Object.prototype.toString.call(s)==="[object Arguments]"}function Pt(s,h){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];if(s===h)return!0;if(typeof s=="function"||typeof h=="function")return!0;if(mo(s)!=="object"||mo(h)!=="object")return!1;if(s===null||h===null)return!1;if(s instanceof Date&&h instanceof Date)return s.getTime()===h.getTime();if(s instanceof RegExp&&h instanceof RegExp)return s.source===h.source&&s.global===h.global&&s.multiline===h.multiline&&s.lastIndex===h.lastIndex&&s.ignoreCase===h.ignoreCase;if(Rt(s)||Rt(h)){if(!(Rt(s)&&Rt(h)))return!1;var L=Array.prototype.slice;return Pt(L.call(s),L.call(h),x,g)}else{if(s.constructor!==h.constructor)return!1;var he=Object.keys(s),qe=Object.keys(h);if(he.length===0&&qe.length===0)return!0;if(he.length!==qe.length)return!1;for(var tt=x.length;tt--;)if(x[tt]===s)return g[tt]===h;x.push(s),g.push(h),he.sort(),qe.sort();for(var ut=he.length-1;ut>=0;ut--)if(he[ut]!==qe[ut])return!1;for(var Et,At=he.length-1;At>=0;At--)if(Et=he[At],!Pt(s[Et],h[Et],x,g))return!1;return x.pop(),g.pop(),!0}}function ar(s,h,x){var g=s.props,L=s.state;return!Pt(g,h)||!Pt(L,x)}function vr(s,h,x){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"root",he={$id:h||L};if("$ref"in s||"dependencies"in s||"allOf"in s){var qe=C(s,x,g);return vr(qe,h,x,g,L)}if("items"in s&&!s.items.$ref)return vr(s.items,h,x,g,L);if(s.type!=="object")return he;for(var tt in s.properties||{}){var ut=s.properties[tt],Et=he.$id+"_"+tt;he[tt]=vr(Ai(ut)?ut:{},Et,x,(g||{})[tt],L)}return he}function Ar(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",x=arguments.length>2?arguments[2]:void 0,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},L={$name:h.replace(/^\./,"")};if("$ref"in s||"dependencies"in s||"allOf"in s){var he=C(s,x,g);return Ar(he,h,x,g)}if(s.hasOwnProperty("additionalProperties")&&(L.__rjsf_additionalProperties=!0),s.hasOwnProperty("items")&&Array.isArray(g))g.forEach(function(tt,ut){L[ut]=Ar(s.items,"".concat(h,".").concat(ut),x,tt)});else if(s.hasOwnProperty("properties"))for(var qe in s.properties)L[qe]=Ar(s.properties[qe],"".concat(h,".").concat(qe),x,(g||{})[qe]);return L}function Wr(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!s)return{year:-1,month:-1,day:-1,hour:h?-1:0,minute:h?-1:0,second:h?-1:0};var x=new Date(s);if(Number.isNaN(x.getTime()))throw new Error("Unable to parse date "+s);return{year:x.getUTCFullYear(),month:x.getUTCMonth()+1,day:x.getUTCDate(),hour:h?x.getUTCHours():0,minute:h?x.getUTCMinutes():0,second:h?x.getUTCSeconds():0}}function xn(s){var h=s.year,x=s.month,g=s.day,L=s.hour,he=L===void 0?0:L,qe=s.minute,tt=qe===void 0?0:qe,ut=s.second,Et=ut===void 0?0:ut,At=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Mt=Date.UTC(h,x-1,g,he,tt,Et),er=new Date(Mt).toJSON();return At?er:er.slice(0,10)}function Un(s){if(!s)return"";var h=new Date(s),x=Pn(h.getFullYear(),4),g=Pn(h.getMonth()+1,2),L=Pn(h.getDate(),2),he=Pn(h.getHours(),2),qe=Pn(h.getMinutes(),2),tt=Pn(h.getSeconds(),2),ut=Pn(h.getMilliseconds(),3);return"".concat(x,"-").concat(g,"-").concat(L,"T").concat(he,":").concat(qe,":").concat(tt,".").concat(ut)}function $n(s){if(s)return new Date(s).toJSON()}function Pn(s,h){for(var x=String(s);x.length<h;)x="0"+x;return x}function di(s){var h=s.split(","),x=h[0].split(";"),g=x[0].replace("data:",""),L=x.filter(function(At){return At.split("=")[0]==="name"}),he;L.length!==1?he="unknown":he=L[0].split("=")[1];for(var qe=atob(h[1]),tt=[],ut=0;ut<qe.length;ut++)tt.push(qe.charCodeAt(ut));var Et=new window.Blob([new Uint8Array(tt)],{type:g});return{blob:Et,name:he}}function Si(s){var h={};return s.multipleOf&&(h.step=s.multipleOf),(s.minimum||s.minimum===0)&&(h.min=s.minimum),(s.maximum||s.maximum===0)&&(h.max=s.maximum),h}function wo(s,h,x){for(var g=0;g<h.length;g++){var L=h[g];if(L.properties){var he={anyOf:Object.keys(L.properties).map(function(ut){return{required:[ut]}})},qe=void 0;if(L.anyOf){var tt=Xs({},L);tt.allOf?tt.allOf=tt.allOf.slice():tt.allOf=[],tt.allOf.push(he),qe=tt}else qe=Object.assign({},L,he);if(delete qe.required,so(qe,s,x))return g}else if(so(L,s,x))return g}return 0}function Vi(s){return s.const||s.enum&&s.enum.length===1&&s.enum[0]===!0?!0:s.anyOf&&s.anyOf.length===1?Vi(s.anyOf[0]):s.oneOf&&s.oneOf.length===1?Vi(s.oneOf[0]):s.allOf?s.allOf.some(Vi):!1}function Oo(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){as(s,L,x[L])})}return s}function Vn(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vn=function(x){return typeof x}:Vn=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Vn(s)}function Ei(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function os(s,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}function Fa(s,h,x){return h&&os(s.prototype,h),x&&os(s,x),s}function On(s,h){return h&&(Vn(h)==="object"||typeof h=="function")?h:ss(s)}function qs(s){return qs=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},qs(s)}function ss(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Ha(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&ol(s,h)}function ol(s,h){return ol=Object.setPrototypeOf||function(g,L){return g.__proto__=L,g},ol(s,h)}function as(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}var Sa=function(s){Ha(h,s);function h(x){var g;return Ei(this,h),g=On(this,qs(h).call(this,x)),as(ss(g),"getUsedFormData",function(L,he){if(he.length===0&&Vn(L)!=="object")return L;var qe=O()(L,he);return Array.isArray(L)?Object.keys(qe).map(function(tt){return qe[tt]}):qe}),as(ss(g),"getFieldNames",function(L,he){var qe=function tt(ut){var Et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],At=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[""];return Object.keys(ut).forEach(function(Mt){if(Vn(ut[Mt])==="object"){var er=At.map(function(ir){return"".concat(ir,".").concat(Mt)});ut[Mt].__rjsf_additionalProperties&&ut[Mt].$name!==""?Et.push(ut[Mt].$name):tt(ut[Mt],Et,er)}else Mt==="$name"&&ut[Mt]!==""&&At.forEach(function(ir){ir=ir.replace(/^\./,"");var l=D()(he,ir);(Vn(l)!=="object"||R()(l))&&Et.push(ir)})}),Et};return qe(L)}),as(ss(g),"onChange",function(L,he){if(Ai(L)||Array.isArray(L)){var qe=g.getStateFromProps(g.props,L);L=qe.formData}var tt=!g.props.noValidate&&g.props.liveValidate,ut={formData:L},Et=L;if(g.props.omitExtraData===!0&&g.props.liveOmit===!0){var At=C(g.state.schema,g.state.schema,L),Mt=Ar(At,"",g.state.schema,L),er=g.getFieldNames(Mt,L);Et=g.getUsedFormData(L,er),ut={formData:Et}}if(tt){var ir=g.validate(Et),l=ir.errors,e=ir.errorSchema,t=l,i=e;g.props.extraErrors&&(e=ys(e,g.props.extraErrors,!0),l=Mo(e)),ut={formData:Et,errors:l,errorSchema:e,schemaValidationErrors:t,schemaValidationErrorSchema:i}}else if(!g.props.noValidate&&he){var c=g.props.extraErrors?ys(he,g.props.extraErrors,!0):he;ut={formData:Et,errorSchema:c,errors:Mo(c)}}g.setState(ut,function(){return g.props.onChange&&g.props.onChange(g.state)})}),as(ss(g),"onBlur",function(){if(g.props.onBlur){var L;(L=g.props).onBlur.apply(L,arguments)}}),as(ss(g),"onFocus",function(){if(g.props.onFocus){var L;(L=g.props).onFocus.apply(L,arguments)}}),as(ss(g),"onSubmit",function(L){if(L.preventDefault(),L.target===L.currentTarget){L.persist();var he=g.state.formData;if(g.props.omitExtraData===!0){var qe=C(g.state.schema,g.state.schema,he),tt=Ar(qe,"",g.state.schema,he),ut=g.getFieldNames(tt,he);he=g.getUsedFormData(he,ut)}if(!g.props.noValidate){var Et=g.validate(he),At=Et.errors,Mt=Et.errorSchema,er=At,ir=Mt;if(Object.keys(At).length>0){g.props.extraErrors&&(Mt=ys(Mt,g.props.extraErrors,!0),At=Mo(Mt)),g.setState({errors:At,errorSchema:Mt,schemaValidationErrors:er,schemaValidationErrorSchema:ir},function(){g.props.onError?g.props.onError(At):console.error("Form validation failed",At)});return}}var l,e;g.props.extraErrors?(l=g.props.extraErrors,e=Mo(l)):(l={},e=[]),g.setState({formData:he,errors:e,errorSchema:l,schemaValidationErrors:[],schemaValidationErrorSchema:{}},function(){g.props.onSubmit&&g.props.onSubmit(Oo({},g.state,{formData:he,status:"submitted"}),L)})}}),g.state=g.getStateFromProps(x,x.formData),g.props.onChange&&!Pt(g.state.formData,g.props.formData)&&g.props.onChange(g.state),g.formElement=null,g}return Fa(h,[{key:"UNSAFE_componentWillReceiveProps",value:function(g){var L=this.getStateFromProps(g,g.formData);!Pt(L.formData,g.formData)&&!Pt(L.formData,this.state.formData)&&this.props.onChange&&this.props.onChange(L),this.setState(L)}},{key:"getStateFromProps",value:function(g,L){var he=this.state||{},qe="schema"in g?g.schema:this.props.schema,tt="uiSchema"in g?g.uiSchema:this.props.uiSchema,ut=typeof L!="undefined",Et="liveValidate"in g?g.liveValidate:this.props.liveValidate,At=ut&&!g.noValidate&&Et,Mt=qe,er=ba(qe,L,Mt),ir=C(qe,Mt,er),l=g.customFormats,e=g.additionalMetaSchemas,t=function(){return g.noValidate?{errors:[],errorSchema:{}}:g.liveValidate?{errors:he.errors||[],errorSchema:he.errorSchema||{}}:{errors:he.schemaValidationErrors||[],errorSchema:he.schemaValidationErrorSchema||{}}},i,c,v,A;if(At){var W=this.validate(er,qe,e,l);i=W.errors,c=W.errorSchema,v=i,A=c}else{var X=t();i=X.errors,c=X.errorSchema,v=he.schemaValidationErrors,A=he.schemaValidationErrorSchema}g.extraErrors&&(c=ys(c,g.extraErrors,!0),i=Mo(c));var me=vr(ir,tt["ui:rootFieldId"],Mt,er,g.idPrefix),ue={schema:qe,uiSchema:tt,idSchema:me,formData:er,edit:ut,errors:i,errorSchema:c,additionalMetaSchemas:e};return v&&(ue.schemaValidationErrors=v,ue.schemaValidationErrorSchema=A),ue}},{key:"shouldComponentUpdate",value:function(g,L){return ar(this,g,L)}},{key:"validate",value:function(g){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.props.schema,he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.props.additionalMetaSchemas,qe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this.props.customFormats,tt=this.props,ut=tt.validate,Et=tt.transformErrors,At=this.getRegistry(),Mt=At.rootSchema,er=C(L,Mt,g);return ka(g,er,ut,Et,he,qe)}},{key:"renderErrors",value:function(){var g=this.state,L=g.errors,he=g.errorSchema,qe=g.schema,tt=g.uiSchema,ut=this.props,Et=ut.ErrorList,At=ut.showErrorList,Mt=ut.formContext;return L.length&&At!=!1?m.createElement(Et,{errors:L,errorSchema:he,schema:qe,uiSchema:tt,formContext:Mt}):null}},{key:"getRegistry",value:function(){var g=Yi(),L=g.fields,he=g.widgets;return{fields:Oo({},L,this.props.fields),widgets:Oo({},he,this.props.widgets),ArrayFieldTemplate:this.props.ArrayFieldTemplate,ObjectFieldTemplate:this.props.ObjectFieldTemplate,FieldTemplate:this.props.FieldTemplate,definitions:this.props.schema.definitions||{},rootSchema:this.props.schema,formContext:this.props.formContext||{}}}},{key:"submit",value:function(){this.formElement&&this.formElement.dispatchEvent(new CustomEvent("submit",{cancelable:!0}))}},{key:"render",value:function(){var g=this,L=this.props,he=L.children,qe=L.id,tt=L.idPrefix,ut=L.className,Et=L.tagName,At=L.name,Mt=L.method,er=L.target,ir=L.action,l=L.autocomplete,e=L.autoComplete,t=L.enctype,i=L.acceptcharset,c=L.noHtml5Validate,v=L.disabled,A=L.readonly,W=L.formContext,X=this.state,me=X.schema,ue=X.uiSchema,je=X.formData,ct=X.errorSchema,vt=X.idSchema,Ft=this.getRegistry(),Ot=Ft.fields.SchemaField,Bt=Et||"form";l&&console.warn("Using autocomplete property of Form is deprecated, use autoComplete instead.");var Qt=e||l;return m.createElement(Bt,{className:ut||"rjsf",id:qe,name:At,method:Mt,target:er,action:ir,autoComplete:Qt,encType:t,acceptCharset:i,noValidate:c,onSubmit:this.onSubmit,ref:function(Gr){g.formElement=Gr}},this.renderErrors(),m.createElement(Ot,{schema:me,uiSchema:ue,errorSchema:ct,idSchema:vt,idPrefix:tt,formContext:W,formData:je,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:Ft,disabled:v,readonly:A}),he||m.createElement("div",null,m.createElement("button",{type:"submit",className:"btn btn-info"},"Submit")))}}]),h}(m.Component);as(Sa,"defaultProps",{uiSchema:{},noValidate:!1,liveValidate:!1,disabled:!1,readonly:!1,noHtml5Validate:!1,ErrorList:$,omitExtraData:!1});function ja(){return ja=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},ja.apply(this,arguments)}function po(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){Qr(s,L,x[L])})}return s}function Qr(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function Na(s,h){if(s==null)return{};var x=qa(s,h),g,L;if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(s);for(L=0;L<he.length;L++)g=he[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function qa(s,h){if(s==null)return{};var x={},g=Object.keys(s),L,he;for(he=0;he<g.length;he++)L=g[he],!(h.indexOf(L)>=0)&&(x[L]=s[L]);return x}function Xi(s){return(0,m.forwardRef)(function(h,x){var g=h.fields,L=h.widgets,he=Na(h,["fields","widgets"]);return g=po({},s.fields,g),L=po({},s.widgets,L),m.createElement(La,ja({},s,he,{fields:g,widgets:L,ref:x}))})}Xi.propTypes={widgets:Ce().object,fields:Ce().object};var el=Xi,La=Sa},76485:function(Te,b,a){var o=a(9850),m=a(93503),I=a(73198),O=a(19003),_=a(35676),D=a(68632),N=a(30898),R=a(74186),$=a(18149),z=a(97030),J=a(78911),ee=a(829),re=a(59756),oe=a(75652),ye=a(39642),F=a(67304),G=(rt,...Ct)=>F.apply(null,[rt].concat(_(Ct))),Se=rt=>fe(Qe,rt),se=rt=>fe(Ue,rt),fe=(rt,Ct)=>rt.indexOf(Ct)!==-1,be=rt=>!$e(rt).length&&rt!==!1&&rt!==!0,te=rt=>z(rt)||rt===!0||rt===!1,M=rt=>rt===!1,xe=rt=>rt===!0,Le=(rt,Ct,Vt)=>Vt(rt),Ce=rt=>ee(oe(D(rt))),Ke=rt=>rt!==void 0,Xe=rt=>oe(D(rt.map($e))),dt=rt=>rt[0],st=rt=>Ce(rt),Ge=rt=>Math.max.apply(Math,rt),_t=rt=>Math.min.apply(Math,rt),or=rt=>rt.some(xe),St=rt=>ye(_(rt),$);function xt(rt){return function(Ct,Vt){return m({[rt]:Ct},{[rt]:Vt})}}function mt(rt){if(Array.isArray(rt.allOf)){var Ct=rt.allOf;return delete rt.allOf,[rt].concat(Ct.map(function(Vt){return mt(Vt)}))}else return[rt]}function Re(rt,Ct){return rt.map(function(Vt){return Vt&&Vt[Ct]})}function yt(rt,Ct){return rt.map(function(Vt){if(Vt)if(Array.isArray(Vt.items)){var hr=Vt.items[Ct];if(te(hr))return hr;if(Vt.hasOwnProperty("additionalItems"))return Vt.additionalItems}else return Vt.items})}function ot(rt,Ct){return rt.map(function(Vt,hr){try{return Ct(Vt,hr)}catch{return}}).filter(Ke)}function de(rt){return rt.map(function(Ct){if(Ct)return Array.isArray(Ct.items)?Ct.additionalItems:Ct.items})}function $e(rt){return z(rt)||Array.isArray(rt)?Object.keys(rt):[]}function lt(rt,Ct){if(Ct=Ct||[],!rt.length)return Ct;var Vt=rt.slice(0).shift(),hr=rt.slice(1);return Ct.length?lt(hr,_(Ct.map(xr=>Vt.map(Sr=>[Sr].concat(xr))))):lt(hr,Vt.map(xr=>xr))}function Dt(rt,Ct){return Array.isArray(rt)?(rt.splice.apply(rt,[0,0].concat(Ct)),rt):Ct}function Gt(rt,Ct){var Vt;try{Vt=rt.map(function(hr){return JSON.stringify(hr,null,2)}).join(`
`)}catch{Vt=rt.join(", ")}throw new Error('Could not resolve values for path:"'+Ct.join(".")+`". They are probably incompatible. Values: 
`+Vt)}function Pr(rt){for(var Ct in rt)rt.hasOwnProperty(Ct)&&be(rt[Ct])&&delete rt[Ct];return rt}function Ze(rt,Ct,Vt){return function(hr,xr){if(xr===void 0)throw new Error("You need to call merger with a key for the property name or index if array.");return xr=String(xr),rt(hr,null,Vt.concat(Ct,xr))}}function K(rt,Ct,Vt,hr,xr,Sr){if(rt.length){var cr=xr.resolvers[Ct];if(!cr)throw new Error("No resolver found for "+Ct);var Nt=ye(Vt.map(function(Zr){return rt.reduce(function(Vr,Rr){return Zr[Rr]!==void 0&&(Vr[Rr]=Zr[Rr]),Vr},{})}).filter(Ke),m),Lr=Ct==="properties"?Qe:Ue,Er=Lr.reduce(function(Zr,Vr){return fe(Lt,Vr)?Zr[Vr]=Ze(hr,Vr,Sr):Zr[Vr]=function(Rr){return hr(Rr,null,Sr.concat(Vr))},Zr},{});Ct==="items"&&(Er.itemsArray=Ze(hr,"items",Sr),Er.items=function(Zr){return hr(Zr,null,Sr.concat("items"))});var yr=cr(Nt,Sr.concat(Ct),Er,xr);return z(yr)||Gt(Nt,Sr.concat(Ct)),Pr(yr)}}function Z(rt,Ct,Vt){var hr=Xe(Vt||rt),xr=Vt?yt:Re;return hr.reduce(function(Sr,cr){var Nt=xr(rt,cr),Lr=ye(Nt.filter(Ke),m);return Sr[cr]=Ct(Lr,cr),Sr},Vt?[]:{})}function Q(rt){re(rt,function(Ct,Vt){Ct===!1&&delete rt[Vt]})}function ge(rt){re(rt,function(Ct,Vt){Ct===!1&&rt.splice(Vt,1)})}function De(rt){return{required:rt}}var Qe=["properties","patternProperties","additionalProperties"],Ue=["items","additionalItems"],Lt=["properties","patternProperties","definitions","dependencies"],tr=["anyOf","oneOf"],Kt=["additionalProperties","additionalItems","contains","propertyNames","not","items"],Yt={type(rt){if(rt.some(Array.isArray)){var Ct=rt.map(function(hr){return Array.isArray(hr)?hr:[hr]}),Vt=N.apply(null,Ct);if(Vt.length===1)return Vt[0];if(Vt.length>1)return oe(Vt)}},properties(rt,Ct,Vt,hr){hr.ignoreAdditionalProperties||(rt.forEach(function(Sr){var cr=rt.filter(yr=>yr!==Sr),Nt=$e(Sr.properties),Lr=$e(Sr.patternProperties),Er=Lr.map(yr=>new RegExp(yr));cr.forEach(function(yr){var Zr=$e(yr.properties),Vr=Zr.filter(fr=>Er.some(Ie=>Ie.test(fr))),Rr=G(Zr,Nt,Vr);Rr.forEach(function(fr){yr.properties[fr]=Vt.properties([yr.properties[fr],Sr.additionalProperties],fr)})})}),rt.forEach(function(Sr){var cr=rt.filter(Lr=>Lr!==Sr),Nt=$e(Sr.patternProperties);Sr.additionalProperties===!1&&cr.forEach(function(Lr){var Er=$e(Lr.patternProperties),yr=G(Er,Nt);yr.forEach(Zr=>delete Lr.patternProperties[Zr])})}));var xr={additionalProperties:Vt.additionalProperties(rt.map(Sr=>Sr.additionalProperties)),patternProperties:Z(rt.map(Sr=>Sr.patternProperties),Vt.patternProperties),properties:Z(rt.map(Sr=>Sr.properties),Vt.properties)};return xr.additionalProperties===!1&&Q(xr.properties),xr},dependencies(rt,Ct,Vt){var hr=Xe(rt);return hr.reduce(function(xr,Sr){var cr=Re(rt,Sr),Nt=ye(cr.filter(Ke),$),Lr=Nt.filter(Array.isArray);if(Lr.length){if(Lr.length===Nt.length)xr[Sr]=Ce(Nt);else{var Er=Nt.filter(te),yr=Lr.map(De);xr[Sr]=Vt(Er.concat(yr),Sr)}return xr}return Nt=ye(Nt,m),xr[Sr]=Vt(Nt,Sr),xr},{})},items(rt,Ct,Vt){var hr=rt.map(Nt=>Nt.items),xr=hr.filter(Ke),Sr={};xr.every(te)?Sr.items=Vt.items(hr):Sr.items=Z(rt,Vt.itemsArray,hr);var cr;return xr.every(Array.isArray)?cr=rt.map(Nt=>Nt.additionalItems):xr.some(Array.isArray)&&(cr=de(rt)),cr&&(Sr.additionalItems=Vt.additionalItems(cr)),Sr.additionalItems===!1&&Array.isArray(Sr.items)&&ge(Sr.items),Sr},oneOf(rt,Ct,Vt){var hr=lt(o(rt)),xr=ot(hr,Vt),Sr=ye(xr,m);if(Sr.length)return Sr},not(rt){return{anyOf:rt}},pattern(rt,Ct,Vt,hr,xr){var Sr=Ct.pop();xr(rt.map(function(cr){return{[Sr]:cr}}))},multipleOf(rt){for(var Ct=rt.slice(0),Vt=1;Ct.some(hr=>!Number.isInteger(hr));)Ct=Ct.map(hr=>hr*10),Vt=Vt*10;return I(Ct)/Vt},enum(rt){var Ct=R.apply(null,rt.concat($));if(Ct.length)return ee(Ct)}};Yt.$id=dt,Yt.$ref=dt,Yt.$schema=dt,Yt.additionalItems=Le,Yt.additionalProperties=Le,Yt.anyOf=Yt.oneOf,Yt.contains=Le,Yt.default=dt,Yt.definitions=Yt.dependencies,Yt.description=dt,Yt.examples=St,Yt.exclusiveMaximum=_t,Yt.exclusiveMinimum=Ge,Yt.maximum=_t,Yt.maxItems=_t,Yt.maxLength=_t,Yt.maxProperties=_t,Yt.minimum=Ge,Yt.minItems=Ge,Yt.minLength=Ge,Yt.minProperties=Ge,Yt.propertyNames=Le,Yt.required=st,Yt.title=dt,Yt.uniqueItems=or;function Ht(rt,Ct,Vt){Vt=Vt||[],Ct=O(Ct,{ignoreAdditionalProperties:!1,resolvers:Yt});function hr(cr,Nt,Lr){cr=o(cr.filter(Ke)),Lr=Lr||[];var Er=z(Nt)?Nt:{};if(!cr.length)return;if(cr.some(M))return!1;if(cr.every(xe))return!0;cr=cr.filter(z);var yr=Xe(cr);if(fe(yr,"allOf"))return Ht({allOf:cr},Ct,Vt);var Zr=yr.filter(Se);J(yr,Zr);var Vr=yr.filter(se);J(yr,Vr),yr.forEach(function(fr){var Ie=Re(cr,fr),Xt=ye(Ie.filter(Ke),xt(fr));if(Xt.length===1&&fe(tr,fr))Er[fr]=Xt[0].map(function(jr){return hr([jr],jr)});else if(Xt.length===1&&!fe(Lt,fr)&&!fe(Kt,fr))Er[fr]=Xt[0];else{var sr=Ct.resolvers[fr]||Ct.resolvers.defaultResolver;if(!sr)throw new Error("No resolver found for key "+fr+". You can provide a resolver for this keyword in the options, or provide a default resolver.");var ur;fe(Lt,fr)||fe(tr,fr)?ur=Ze(hr,fr,Lr):ur=function(jr){return hr(jr,null,Lr.concat(fr))};var Fr=!1;Er[fr]=sr(Xt,Lr.concat(fr),ur,Ct,function(jr){return Fr=Array.isArray(jr),Rr(jr)}),Er[fr]===void 0&&!Fr?Gt(Xt,Lr.concat(fr)):Er[fr]===void 0&&delete Er[fr]}}),Object.assign(Er,K(Zr,"properties",cr,hr,Ct,Lr)),Object.assign(Er,K(Vr,"items",cr,hr,Ct,Lr));function Rr(fr){Er.allOf=Dt(Er.allOf,fr)}return Er}var xr=D(mt(rt)),Sr=hr(xr,rt);return Sr}Ht.options={resolvers:Yt},Te.exports=Ht},69914:function(Te,b){"use strict";var a;/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=typeof Symbol=="function"&&Symbol.for,m=o?Symbol.for("react.element"):60103,I=o?Symbol.for("react.portal"):60106,O=o?Symbol.for("react.fragment"):60107,_=o?Symbol.for("react.strict_mode"):60108,D=o?Symbol.for("react.profiler"):60114,N=o?Symbol.for("react.provider"):60109,R=o?Symbol.for("react.context"):60110,$=o?Symbol.for("react.async_mode"):60111,z=o?Symbol.for("react.concurrent_mode"):60111,J=o?Symbol.for("react.forward_ref"):60112,ee=o?Symbol.for("react.suspense"):60113,re=o?Symbol.for("react.suspense_list"):60120,oe=o?Symbol.for("react.memo"):60115,ye=o?Symbol.for("react.lazy"):60116,F=o?Symbol.for("react.block"):60121,G=o?Symbol.for("react.fundamental"):60117,Se=o?Symbol.for("react.responder"):60118,se=o?Symbol.for("react.scope"):60119;function fe(te){if(typeof te=="object"&&te!==null){var M=te.$$typeof;switch(M){case m:switch(te=te.type,te){case $:case z:case O:case D:case _:case ee:return te;default:switch(te=te&&te.$$typeof,te){case R:case J:case ye:case oe:case N:return te;default:return M}}case I:return M}}}function be(te){return fe(te)===z}a=$,a=z,a=R,a=N,a=m,a=J,a=O,a=ye,a=oe,a=I,a=D,a=_,a=ee,a=function(te){return be(te)||fe(te)===$},a=be,a=function(te){return fe(te)===R},a=function(te){return fe(te)===N},a=function(te){return typeof te=="object"&&te!==null&&te.$$typeof===m},b.isForwardRef=function(te){return fe(te)===J},a=function(te){return fe(te)===O},a=function(te){return fe(te)===ye},b.isMemo=function(te){return fe(te)===oe},a=function(te){return fe(te)===I},a=function(te){return fe(te)===D},a=function(te){return fe(te)===_},a=function(te){return fe(te)===ee},a=function(te){return typeof te=="string"||typeof te=="function"||te===O||te===z||te===D||te===_||te===ee||te===re||typeof te=="object"&&te!==null&&(te.$$typeof===ye||te.$$typeof===oe||te.$$typeof===N||te.$$typeof===R||te.$$typeof===J||te.$$typeof===G||te.$$typeof===Se||te.$$typeof===se||te.$$typeof===F)},a=fe},38294:function(Te,b,a){"use strict";Te.exports=a(69914)},80070:function(Te,b,a){"use strict";a.d(b,{Q2:function(){return Vr}});var o=a(74182),m=a(52322),I=a(65549),O=a(61837),_=a(27292),D=a(95544),N=a(60905),R=a(27556),$=a(86619),z=a(90436),J=a(16715),ee=a(11776),re=a(38402),oe=a(86136),ye=a(49378),F=a(90324),G=a(70595),Se=a(19353),se=a(17373),fe=a(74828),be=a(42494),te=a(77277),M=a(85256),xe=a(21324),Le=a(5806),Ce=a(64326),Ke=a(84899),Xe=a(44962),dt=a(2682),st=a(11433),Ge=a(12231);function _t(){return _t=Object.assign?Object.assign.bind():function(Ie){for(var Xt=1;Xt<arguments.length;Xt++){var sr=arguments[Xt];for(var ur in sr)Object.prototype.hasOwnProperty.call(sr,ur)&&(Ie[ur]=sr[ur])}return Ie},_t.apply(this,arguments)}function or(Ie,Xt){if(Ie==null)return{};var sr={},ur=Object.keys(Ie),Fr,jr;for(jr=0;jr<ur.length;jr++)Fr=ur[jr],!(Xt.indexOf(Fr)>=0)&&(sr[Fr]=Ie[Fr]);return sr}var St=["uiSchema","registry"];function xt(Ie){var Xt=Ie.registry,sr=or(Ie,St),ur=Xt.translateString;return(0,m.jsx)(O.Z,_t({title:ur(_.g8.AddItemButton)},sr,{color:"primary",children:(0,m.jsx)(I.Z,{})}))}function mt(Ie){var Xt=Ie.children,sr=Ie.disabled,ur=Ie.hasToolbar,Fr=Ie.hasCopy,jr=Ie.hasMoveDown,wr=Ie.hasMoveUp,Tr=Ie.hasRemove,_r=Ie.index,$r=Ie.onCopyIndexClick,en=Ie.onDropIndexClick,hn=Ie.onReorderClick,Nr=Ie.readonly,cn=Ie.uiSchema,gn=Ie.registry,Sn=gn.templates.ButtonTemplates,yn=Sn.CopyButton,dn=Sn.MoveDownButton,vn=Sn.MoveUpButton,tn=Sn.RemoveButton,_n={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold",minWidth:0};return(0,m.jsxs)(N.Z,{container:!0,alignItems:"center",children:[(0,m.jsx)(N.Z,{item:!0,xs:!0,style:{overflow:"auto"},children:(0,m.jsx)(D.Z,{mb:2,children:(0,m.jsx)(R.Z,{elevation:2,children:(0,m.jsx)(D.Z,{p:2,children:Xt})})})}),ur&&(0,m.jsxs)(N.Z,{item:!0,children:[(wr||jr)&&(0,m.jsx)(vn,{style:_n,disabled:sr||Nr||!wr,onClick:hn(_r,_r-1),uiSchema:cn,registry:gn}),(wr||jr)&&(0,m.jsx)(dn,{style:_n,disabled:sr||Nr||!jr,onClick:hn(_r,_r+1),uiSchema:cn,registry:gn}),Fr&&(0,m.jsx)(yn,{style:_n,disabled:sr||Nr,onClick:$r(_r),uiSchema:cn,registry:gn}),Tr&&(0,m.jsx)(tn,{style:_n,disabled:sr||Nr,onClick:en(_r),uiSchema:cn,registry:gn})]})]})}var Re=["key"];function yt(Ie){var Xt=Ie.canAdd,sr=Ie.disabled,ur=Ie.idSchema,Fr=Ie.uiSchema,jr=Ie.items,wr=Ie.onAddClick,Tr=Ie.readonly,_r=Ie.registry,$r=Ie.required,en=Ie.schema,hn=Ie.title,Nr=(0,_.LI)(Fr),cn=(0,_.t4)("ArrayFieldDescriptionTemplate",_r,Nr),gn=(0,_.t4)("ArrayFieldItemTemplate",_r,Nr),Sn=(0,_.t4)("ArrayFieldTitleTemplate",_r,Nr),yn=_r.templates.ButtonTemplates.AddButton;return(0,m.jsx)(R.Z,{elevation:2,children:(0,m.jsxs)(D.Z,{p:2,children:[(0,m.jsx)(Sn,{idSchema:ur,title:Nr.title||hn,schema:en,uiSchema:Fr,required:$r,registry:_r}),(0,m.jsx)(cn,{idSchema:ur,description:Nr.description||en.description,schema:en,uiSchema:Fr,registry:_r}),(0,m.jsxs)(N.Z,{container:!0,children:[jr&&jr.map(function(dn){var vn=dn.key,tn=or(dn,Re);return(0,m.jsx)(gn,_t({},tn),vn)}),Xt&&(0,m.jsx)(N.Z,{container:!0,justifyContent:"flex-end",children:(0,m.jsx)(N.Z,{item:!0,children:(0,m.jsx)(D.Z,{mt:2,children:(0,m.jsx)(yn,{className:"array-item-add",onClick:wr,disabled:sr||Tr,uiSchema:Fr,registry:_r})})})})]},"array-item-list-"+ur.$id)]})})}var ot=["id","name","placeholder","required","readonly","disabled","type","label","hideLabel","value","onChange","onChangeOverride","onBlur","onFocus","autofocus","options","schema","uiSchema","rawErrors","formContext","registry","InputLabelProps"],de=["step","min","max"],$e=["date","datetime-local","file","time"];function lt(Ie){var Xt=Ie.id,sr=Ie.placeholder,ur=Ie.required,Fr=Ie.readonly,jr=Ie.disabled,wr=Ie.type,Tr=Ie.label,_r=Ie.hideLabel,$r=Ie.value,en=Ie.onChange,hn=Ie.onChangeOverride,Nr=Ie.onBlur,cn=Ie.onFocus,gn=Ie.autofocus,Sn=Ie.options,yn=Ie.schema,dn=Ie.rawErrors,vn=dn===void 0?[]:dn,tn=Ie.InputLabelProps,_n=or(Ie,ot),an=(0,_.TC)(yn,wr,Sn),rn=an.step,mn=an.min,Kn=an.max,hi=or(an,de),Ri=_t({inputProps:_t({step:rn,min:mn,max:Kn},yn.examples?{list:(0,_.RS)(Xt)}:void 0)},hi),Pe=function(Oe){var Ee=Oe.target.value;return en(Ee===""?Sn.emptyValue:Ee)},y=function(Oe){var Ee=Oe.target.value;return Nr(Xt,Ee)},T=function(Oe){var Ee=Oe.target.value;return cn(Xt,Ee)},V=$e.includes(wr)?_t({},tn,{shrink:!0}):tn;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)($.Z,_t({id:Xt,name:Xt,placeholder:sr,label:(0,_.RY)(Tr||void 0,_r,!1),autoFocus:gn,required:ur,disabled:jr||Fr},Ri,{value:$r||$r===0?$r:"",error:vn.length>0,onChange:hn||Pe,onBlur:y,onFocus:T,InputLabelProps:V},_n,{"aria-describedby":(0,_.Jx)(Xt,!!yn.examples)})),Array.isArray(yn.examples)&&(0,m.jsx)("datalist",{id:(0,_.RS)(Xt),children:yn.examples.concat(yn.default&&!yn.examples.includes(yn.default)?[yn.default]:[]).map(function(q){return(0,m.jsx)("option",{value:q},q)})})]})}function Dt(Ie){var Xt=Ie.id,sr=Ie.description;return sr?(0,m.jsx)(z.Z,{id:Xt,variant:"subtitle2",style:{marginTop:"5px"},children:sr}):null}function Gt(Ie){var Xt=Ie.errors,sr=Ie.registry,ur=sr.translateString;return(0,m.jsx)(R.Z,{elevation:2,children:(0,m.jsxs)(D.Z,{mb:2,p:2,children:[(0,m.jsx)(z.Z,{variant:"h6",children:ur(_.g8.ErrorsLabel)}),(0,m.jsx)(ee.Z,{dense:!0,children:Xt.map(function(Fr,jr){return(0,m.jsxs)(re.Z,{children:[(0,m.jsx)(oe.Z,{children:(0,m.jsx)(J.Z,{color:"error"})}),(0,m.jsx)(ye.Z,{primary:Fr.stack})]},jr)})})]})})}var Pr=["icon","color","uiSchema","registry"],Ze=["iconType"];function K(Ie){var Xt=Ie.icon,sr=Ie.color,ur=or(Ie,Pr);return(0,m.jsx)(O.Z,_t({},ur,{size:"small",color:sr,children:Xt}))}function Z(Ie){var Xt=Ie.registry.translateString;return(0,m.jsx)(K,_t({title:Xt(_.g8.CopyButton)},Ie,{icon:(0,m.jsx)(Se.Z,{fontSize:"small"})}))}function Q(Ie){var Xt=Ie.registry.translateString;return(0,m.jsx)(K,_t({title:Xt(_.g8.MoveDownButton)},Ie,{icon:(0,m.jsx)(G.Z,{fontSize:"small"})}))}function ge(Ie){var Xt=Ie.registry.translateString;return(0,m.jsx)(K,_t({title:Xt(_.g8.MoveUpButton)},Ie,{icon:(0,m.jsx)(F.Z,{fontSize:"small"})}))}function De(Ie){var Xt=Ie.iconType,sr=or(Ie,Ze),ur=sr.registry.translateString;return(0,m.jsx)(K,_t({title:ur(_.g8.RemoveButton)},sr,{color:"secondary",icon:(0,m.jsx)(se.Z,{fontSize:Xt==="default"?"medium":"small"})}))}function Qe(Ie){var Xt=Ie.errors,sr=Xt===void 0?[]:Xt,ur=Ie.idSchema;if(sr.length===0)return null;var Fr=(0,_.UR)(ur);return(0,m.jsx)(ee.Z,{dense:!0,disablePadding:!0,children:sr.map(function(jr,wr){return(0,m.jsx)(re.Z,{disableGutters:!0,children:(0,m.jsx)(fe.Z,{id:Fr,children:jr})},wr)})})}function Ue(Ie){var Xt=Ie.idSchema,sr=Ie.help;if(!sr)return null;var ur=(0,_.JL)(Xt);return(0,m.jsx)(fe.Z,{id:ur,children:sr})}function Lt(Ie){var Xt=Ie.id,sr=Ie.children,ur=Ie.classNames,Fr=Ie.style,jr=Ie.disabled,wr=Ie.displayLabel,Tr=Ie.hidden,_r=Ie.label,$r=Ie.onDropPropertyClick,en=Ie.onKeyChange,hn=Ie.readonly,Nr=Ie.required,cn=Ie.rawErrors,gn=cn===void 0?[]:cn,Sn=Ie.errors,yn=Ie.help,dn=Ie.rawDescription,vn=Ie.schema,tn=Ie.uiSchema,_n=Ie.registry,an=(0,_.LI)(tn),rn=(0,_.t4)("WrapIfAdditionalTemplate",_n,an);return Tr?(0,m.jsx)("div",{style:{display:"none"},children:sr}):(0,m.jsx)(rn,{classNames:ur,style:Fr,disabled:jr,id:Xt,label:_r,onDropPropertyClick:$r,onKeyChange:en,readonly:hn,required:Nr,schema:vn,uiSchema:tn,registry:_n,children:(0,m.jsxs)(be.Z,{fullWidth:!0,error:!!gn.length,required:Nr,children:[sr,wr&&dn?(0,m.jsx)(z.Z,{variant:"caption",color:"textSecondary",children:dn}):null,Sn,yn]})})}function tr(Ie){var Xt=Ie.description,sr=Ie.title,ur=Ie.properties,Fr=Ie.required,jr=Ie.disabled,wr=Ie.readonly,Tr=Ie.uiSchema,_r=Ie.idSchema,$r=Ie.schema,en=Ie.formData,hn=Ie.onAddClick,Nr=Ie.registry,cn=(0,_.LI)(Tr),gn=(0,_.t4)("TitleFieldTemplate",Nr,cn),Sn=(0,_.t4)("DescriptionFieldTemplate",Nr,cn),yn=Nr.templates.ButtonTemplates.AddButton;return(0,m.jsxs)(m.Fragment,{children:[sr&&(0,m.jsx)(gn,{id:(0,_.Vt)(_r),title:sr,required:Fr,schema:$r,uiSchema:Tr,registry:Nr}),Xt&&(0,m.jsx)(Sn,{id:(0,_.Si)(_r),description:Xt,schema:$r,uiSchema:Tr,registry:Nr}),(0,m.jsxs)(N.Z,{container:!0,spacing:2,style:{marginTop:"10px"},children:[ur.map(function(dn,vn){return dn.hidden?dn.content:(0,m.jsx)(N.Z,{item:!0,xs:12,style:{marginBottom:"10px"},children:dn.content},vn)}),(0,_.Rc)($r,Tr,en)&&(0,m.jsx)(N.Z,{container:!0,justifyContent:"flex-end",children:(0,m.jsx)(N.Z,{item:!0,children:(0,m.jsx)(yn,{className:"object-property-expand",onClick:hn($r),disabled:jr||wr,uiSchema:Tr,registry:Nr})})})]})]})}function Kt(Ie){var Xt=Ie.uiSchema,sr=(0,_.rF)(Xt),ur=sr.submitText,Fr=sr.norender,jr=sr.props,wr=jr===void 0?{}:jr;return Fr?null:(0,m.jsx)(D.Z,{marginTop:3,children:(0,m.jsx)(te.Z,_t({type:"submit",variant:"contained",color:"primary"},wr,{children:ur}))})}function Yt(Ie){var Xt=Ie.id,sr=Ie.title;return(0,m.jsxs)(D.Z,{id:Xt,mb:1,mt:1,children:[(0,m.jsx)(z.Z,{variant:"h5",children:sr}),(0,m.jsx)(M.Z,{})]})}function Ht(Ie){var Xt=Ie.children,sr=Ie.classNames,ur=Ie.style,Fr=Ie.disabled,jr=Ie.id,wr=Ie.label,Tr=Ie.onDropPropertyClick,_r=Ie.onKeyChange,$r=Ie.readonly,en=Ie.required,hn=Ie.schema,Nr=Ie.uiSchema,cn=Ie.registry,gn=cn.templates,Sn=cn.translateString,yn=gn.ButtonTemplates.RemoveButton,dn=Sn(_.g8.KeyLabel,[wr]),vn=_.jk in hn,tn={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};if(!vn)return(0,m.jsx)("div",{className:sr,style:ur,children:Xt});var _n=function(rn){var mn=rn.target;return _r(mn.value)};return(0,m.jsxs)(N.Z,{container:!0,alignItems:"center",spacing:2,className:sr,style:ur,children:[(0,m.jsx)(N.Z,{item:!0,xs:!0,children:(0,m.jsx)($.Z,{fullWidth:!0,required:en,label:dn,defaultValue:wr,disabled:Fr||$r,id:jr+"-key",name:jr+"-key",onBlur:$r?void 0:_n,type:"text"})}),(0,m.jsx)(N.Z,{item:!0,xs:!0,children:Xt}),(0,m.jsx)(N.Z,{item:!0,children:(0,m.jsx)(yn,{iconType:"default",style:tn,disabled:Fr||$r,onClick:Tr(wr),uiSchema:Nr,registry:cn})})]},jr+"-key")}function rt(){return{ArrayFieldItemTemplate:mt,ArrayFieldTemplate:yt,BaseInputTemplate:lt,ButtonTemplates:{AddButton:xt,CopyButton:Z,MoveDownButton:Q,MoveUpButton:ge,RemoveButton:De,SubmitButton:Kt},DescriptionFieldTemplate:Dt,ErrorListTemplate:Gt,FieldErrorTemplate:Qe,FieldHelpTemplate:Ue,FieldTemplate:Lt,ObjectFieldTemplate:tr,TitleFieldTemplate:Yt,WrapIfAdditionalTemplate:Ht}}var Ct=null;function Vt(Ie){var Xt,sr=Ie.schema,ur=Ie.id,Fr=Ie.value,jr=Ie.disabled,wr=Ie.readonly,Tr=Ie.label,_r=Tr===void 0?"":Tr,$r=Ie.hideLabel,en=Ie.autofocus,hn=Ie.onChange,Nr=Ie.onBlur,cn=Ie.onFocus,gn=Ie.registry,Sn=Ie.options,yn=Ie.uiSchema,dn=(0,_.t4)("DescriptionFieldTemplate",gn,Sn),vn=(0,_.iE)(sr),tn=function(Kn,hi){return hn(hi)},_n=function(Kn){var hi=Kn.target.value;return Nr(ur,hi)},an=function(Kn){var hi=Kn.target.value;return cn(ur,hi)},rn=(Xt=Sn.description)!=null?Xt:sr.description;return(0,m.jsxs)(m.Fragment,{children:[!$r&&!!rn&&(0,m.jsx)(dn,{id:(0,_.Si)(ur),description:rn,schema:sr,uiSchema:yn,registry:gn}),(0,m.jsx)(Le.Z,{control:(0,m.jsx)(xe.Z,{id:ur,name:ur,checked:typeof Fr=="undefined"?!1:Boolean(Fr),required:vn,disabled:jr||wr,autoFocus:en,onChange:tn,onBlur:_n,onFocus:an,"aria-describedby":(0,_.Jx)(ur)}),label:(0,_.RY)(_r,$r,!1)})]})}function hr(Ie){var Xt=Ie.label,sr=Ie.hideLabel,ur=Ie.id,Fr=Ie.disabled,jr=Ie.options,wr=Ie.value,Tr=Ie.autofocus,_r=Ie.readonly,$r=Ie.required,en=Ie.onChange,hn=Ie.onBlur,Nr=Ie.onFocus,cn=jr.enumOptions,gn=jr.enumDisabled,Sn=jr.inline,yn=jr.emptyValue,dn=Array.isArray(wr)?wr:[wr],vn=function(rn){return function(mn){var Kn=mn.target.checked;en(Kn?(0,_.U3)(rn,dn,cn):(0,_.aI)(rn,dn,cn))}},tn=function(rn){var mn=rn.target.value;return hn(ur,(0,_.QP)(mn,cn,yn))},_n=function(rn){var mn=rn.target.value;return Nr(ur,(0,_.QP)(mn,cn,yn))};return(0,m.jsxs)(m.Fragment,{children:[(0,_.RY)((0,m.jsx)(Ke.Z,{required:$r,htmlFor:ur,children:Xt||void 0}),sr),(0,m.jsx)(Ce.Z,{id:ur,row:!!Sn,children:Array.isArray(cn)&&cn.map(function(an,rn){var mn=(0,_.TR)(an.value,dn),Kn=Array.isArray(gn)&&gn.indexOf(an.value)!==-1,hi=(0,m.jsx)(xe.Z,{id:(0,_.DK)(ur,rn),name:ur,checked:mn,disabled:Fr||Kn||_r,autoFocus:Tr&&rn===0,onChange:vn(rn),onBlur:tn,onFocus:_n,"aria-describedby":(0,_.Jx)(ur)});return(0,m.jsx)(Le.Z,{control:hi,label:an.label},rn)})})]})}function xr(Ie){var Xt,sr=Ie.id,ur=Ie.options,Fr=Ie.value,jr=Ie.required,wr=Ie.disabled,Tr=Ie.readonly,_r=Ie.label,$r=Ie.hideLabel,en=Ie.onChange,hn=Ie.onBlur,Nr=Ie.onFocus,cn=ur.enumOptions,gn=ur.enumDisabled,Sn=ur.emptyValue,yn=function(rn,mn){return en((0,_.QP)(mn,cn,Sn))},dn=function(rn){var mn=rn.target.value;return hn(sr,(0,_.QP)(mn,cn,Sn))},vn=function(rn){var mn=rn.target.value;return Nr(sr,(0,_.QP)(mn,cn,Sn))},tn=ur?ur.inline:!1,_n=(Xt=(0,_.Rt)(Fr,cn))!=null?Xt:null;return(0,m.jsxs)(m.Fragment,{children:[(0,_.RY)((0,m.jsx)(Ke.Z,{required:jr,htmlFor:sr,children:_r||void 0}),$r),(0,m.jsx)(dt.Z,{id:sr,name:sr,value:_n,row:tn,onChange:yn,onBlur:dn,onFocus:vn,"aria-describedby":(0,_.Jx)(sr),children:Array.isArray(cn)&&cn.map(function(an,rn){var mn=Array.isArray(gn)&&gn.indexOf(an.value)!==-1,Kn=(0,m.jsx)(Le.Z,{control:(0,m.jsx)(Xe.Z,{name:sr,id:(0,_.DK)(sr,rn),color:"primary"}),label:an.label,value:String(rn),disabled:wr||mn||Tr},rn);return Kn})})]})}function Sr(Ie){var Xt=Ie.value,sr=Ie.readonly,ur=Ie.disabled,Fr=Ie.onBlur,jr=Ie.onFocus,wr=Ie.options,Tr=Ie.schema,_r=Ie.onChange,$r=Ie.required,en=Ie.label,hn=Ie.hideLabel,Nr=Ie.id,cn=_t({value:Xt,label:en,id:Nr,name:Nr},(0,_.um)(Tr)),gn=function(vn,tn){_r(tn!=null?tn:wr.emptyValue)},Sn=function(vn){var tn=vn.target.value;return Fr(Nr,tn)},yn=function(vn){var tn=vn.target.value;return jr(Nr,tn)};return(0,m.jsxs)(m.Fragment,{children:[(0,_.RY)((0,m.jsx)(Ke.Z,{required:$r,htmlFor:Nr,children:en||void 0}),hn),(0,m.jsx)(st.Z,_t({disabled:ur||sr,onChange:gn,onBlur:Sn,onFocus:yn,valueLabelDisplay:"auto"},cn,{"aria-describedby":(0,_.Jx)(Nr)}))]})}var cr=["schema","id","name","options","label","hideLabel","required","disabled","readonly","placeholder","value","multiple","autofocus","onChange","onBlur","onFocus","rawErrors","registry","uiSchema","hideError","formContext"];function Nt(Ie){var Xt=Ie.id,sr=Ie.options,ur=Ie.label,Fr=Ie.hideLabel,jr=Ie.required,wr=Ie.disabled,Tr=Ie.readonly,_r=Ie.placeholder,$r=Ie.value,en=Ie.multiple,hn=Ie.autofocus,Nr=Ie.onChange,cn=Ie.onBlur,gn=Ie.onFocus,Sn=Ie.rawErrors,yn=Sn===void 0?[]:Sn,dn=or(Ie,cr),vn=sr.enumOptions,tn=sr.enumDisabled,_n=sr.emptyValue;en=typeof en=="undefined"?!1:!!en;var an=en?[]:"",rn=typeof $r=="undefined"||en&&$r.length<1||!en&&$r===an,mn=function(y){var T=y.target.value;return Nr((0,_.QP)(T,vn,_n))},Kn=function(y){var T=y.target.value;return cn(Xt,(0,_.QP)(T,vn,_n))},hi=function(y){var T=y.target.value;return gn(Xt,(0,_.QP)(T,vn,_n))},Ri=(0,_.Rt)($r,vn,en);return(0,m.jsx)($.Z,_t({id:Xt,name:Xt,label:(0,_.RY)(ur,Fr||!ur,!1),value:rn?an:Ri,required:jr,disabled:wr||Tr,autoFocus:hn,placeholder:_r,error:yn.length>0,onChange:mn,onBlur:Kn,onFocus:hi},dn,{select:!0,InputLabelProps:_t({},dn.InputLabelProps,{shrink:!rn}),SelectProps:_t({},dn.SelectProps,{multiple:en}),"aria-describedby":(0,_.Jx)(Xt),children:Array.isArray(vn)&&vn.map(function(Pe,y){var T=Pe.value,V=Pe.label,q=Array.isArray(tn)&&tn.indexOf(T)!==-1;return(0,m.jsx)(Ge.Z,{value:String(y),disabled:q,children:V},y)})}))}function Lr(Ie){var Xt=Ie.options,sr=Ie.registry,ur=(0,_.t4)("BaseInputTemplate",sr,Xt),Fr=5;return(typeof Xt.rows=="string"||typeof Xt.rows=="number")&&(Fr=Xt.rows),(0,m.jsx)(ur,_t({},Ie,{multiline:!0,rows:Fr}))}function Er(){return{CheckboxWidget:Vt,CheckboxesWidget:hr,RadioWidget:xr,RangeWidget:Sr,SelectWidget:Nt,TextareaWidget:Lr}}var yr=null;function Zr(){return{templates:rt(),widgets:Er()}}var Vr=Zr();function Rr(){return withTheme(Zr())}var fr=null},27292:function(Te,b,a){"use strict";a.d(b,{jk:function(){return qo},F8:function(){return bi},M9:function(){return ti},BO:function(){return co},YU:function(){return io},PK:function(){return Wi},If:function(){return Zo},MA:function(){return ki},Sr:function(){return ri},g$:function(){return Ci},dW:function(){return Dr},t5:function(){return bo},g8:function(){return Ds},J1:function(){return Ks},ji:function(){return Uo},TE:function(){return Do},Jx:function(){return ba},mH:function(){return uo},Rc:function(){return zs},v$:function(){return Vo},hf:function(){return sa},OP:function(){return _a},qt:function(){return es},Si:function(){return Yi},XG:function(){return ka},aI:function(){return so},Rt:function(){return Qa},TR:function(){return $o},U3:function(){return aa},QP:function(){return is},UR:function(){return Cs},RS:function(){return Jo},Tx:function(){return Ta},TC:function(){return ya},f_:function(){return Mi},rF:function(){return Xs},t4:function(){return vo},LI:function(){return Wn},us:function(){return Ho},H7:function(){return va},JL:function(){return Ma},A7:function(){return pa},FZ:function(){return ho},Kn:function(){return Dn},RY:function(){return As},_4:function(){return za},PM:function(){return js},DK:function(){return Ka},pp:function(){return ys},$2:function(){return Ps},vk:function(){return vs},xk:function(){return $a},um:function(){return Ui},iE:function(){return Ts},N0:function(){return Bs},Vt:function(){return gs},tC:function(){return ua},mp:function(){return Ws},y5:function(){return Qs},yv:function(){return Ia},Yp:function(){return Ro},J0:function(){return Go},RQ:function(){return Zs}});var o=a(65255),m=a(46218),I=a(43703),O="__lodash_hash_undefined__";function _(C){return this.__data__.set(C,O),this}var D=_;function N(C){return this.__data__.has(C)}var R=N;function $(C){var U=-1,ne=C==null?0:C.length;for(this.__data__=new I.Z;++U<ne;)this.add(C[U])}$.prototype.add=$.prototype.push=D,$.prototype.has=R;var z=$;function J(C,U){for(var ne=-1,we=C==null?0:C.length;++ne<we;)if(U(C[ne],ne,C))return!0;return!1}var ee=J;function re(C,U){return C.has(U)}var oe=re,ye=1,F=2;function G(C,U,ne,we,_e,Fe){var at=ne&ye,Rt=C.length,Pt=U.length;if(Rt!=Pt&&!(at&&Pt>Rt))return!1;var ar=Fe.get(C),vr=Fe.get(U);if(ar&&vr)return ar==U&&vr==C;var Ar=-1,Wr=!0,xn=ne&F?new z:void 0;for(Fe.set(C,U),Fe.set(U,C);++Ar<Rt;){var Un=C[Ar],$n=U[Ar];if(we)var Pn=at?we($n,Un,Ar,U,C,Fe):we(Un,$n,Ar,C,U,Fe);if(Pn!==void 0){if(Pn)continue;Wr=!1;break}if(xn){if(!ee(U,function(di,Si){if(!oe(xn,Si)&&(Un===di||_e(Un,di,ne,we,Fe)))return xn.push(Si)})){Wr=!1;break}}else if(!(Un===$n||_e(Un,$n,ne,we,Fe))){Wr=!1;break}}return Fe.delete(C),Fe.delete(U),Wr}var Se=G,se=a(187),fe=a(88282),be=a(78804);function te(C){var U=-1,ne=Array(C.size);return C.forEach(function(we,_e){ne[++U]=[_e,we]}),ne}var M=te;function xe(C){var U=-1,ne=Array(C.size);return C.forEach(function(we){ne[++U]=we}),ne}var Le=xe,Ce=1,Ke=2,Xe="[object Boolean]",dt="[object Date]",st="[object Error]",Ge="[object Map]",_t="[object Number]",or="[object RegExp]",St="[object Set]",xt="[object String]",mt="[object Symbol]",Re="[object ArrayBuffer]",yt="[object DataView]",ot=se.Z?se.Z.prototype:void 0,de=ot?ot.valueOf:void 0;function $e(C,U,ne,we,_e,Fe,at){switch(ne){case yt:if(C.byteLength!=U.byteLength||C.byteOffset!=U.byteOffset)return!1;C=C.buffer,U=U.buffer;case Re:return!(C.byteLength!=U.byteLength||!Fe(new fe.Z(C),new fe.Z(U)));case Xe:case dt:case _t:return(0,be.Z)(+C,+U);case st:return C.name==U.name&&C.message==U.message;case or:case xt:return C==U+"";case Ge:var Rt=M;case St:var Pt=we&Ce;if(Rt||(Rt=Le),C.size!=U.size&&!Pt)return!1;var ar=at.get(C);if(ar)return ar==U;we|=Ke,at.set(C,U);var vr=Se(Rt(C),Rt(U),we,_e,Fe,at);return at.delete(C),vr;case mt:if(de)return de.call(C)==de.call(U)}return!1}var lt=$e,Dt=a(37245),Gt=1,Pr=Object.prototype,Ze=Pr.hasOwnProperty;function K(C,U,ne,we,_e,Fe){var at=ne&Gt,Rt=(0,Dt.Z)(C),Pt=Rt.length,ar=(0,Dt.Z)(U),vr=ar.length;if(Pt!=vr&&!at)return!1;for(var Ar=Pt;Ar--;){var Wr=Rt[Ar];if(!(at?Wr in U:Ze.call(U,Wr)))return!1}var xn=Fe.get(C),Un=Fe.get(U);if(xn&&Un)return xn==U&&Un==C;var $n=!0;Fe.set(C,U),Fe.set(U,C);for(var Pn=at;++Ar<Pt;){Wr=Rt[Ar];var di=C[Wr],Si=U[Wr];if(we)var wo=at?we(Si,di,Wr,U,C,Fe):we(di,Si,Wr,C,U,Fe);if(!(wo===void 0?di===Si||_e(di,Si,ne,we,Fe):wo)){$n=!1;break}Pn||(Pn=Wr=="constructor")}if($n&&!Pn){var Vi=C.constructor,Oo=U.constructor;Vi!=Oo&&"constructor"in C&&"constructor"in U&&!(typeof Vi=="function"&&Vi instanceof Vi&&typeof Oo=="function"&&Oo instanceof Oo)&&($n=!1)}return Fe.delete(C),Fe.delete(U),$n}var Z=K,Q=a(57210),ge=a(97885),De=a(74975),Qe=a(98127),Ue=1,Lt="[object Arguments]",tr="[object Array]",Kt="[object Object]",Yt=Object.prototype,Ht=Yt.hasOwnProperty;function rt(C,U,ne,we,_e,Fe){var at=(0,ge.Z)(C),Rt=(0,ge.Z)(U),Pt=at?tr:(0,Q.Z)(C),ar=Rt?tr:(0,Q.Z)(U);Pt=Pt==Lt?Kt:Pt,ar=ar==Lt?Kt:ar;var vr=Pt==Kt,Ar=ar==Kt,Wr=Pt==ar;if(Wr&&(0,De.Z)(C)){if(!(0,De.Z)(U))return!1;at=!0,vr=!1}if(Wr&&!vr)return Fe||(Fe=new m.Z),at||(0,Qe.Z)(C)?Se(C,U,ne,we,_e,Fe):lt(C,U,Pt,ne,we,_e,Fe);if(!(ne&Ue)){var xn=vr&&Ht.call(C,"__wrapped__"),Un=Ar&&Ht.call(U,"__wrapped__");if(xn||Un){var $n=xn?C.value():C,Pn=Un?U.value():U;return Fe||(Fe=new m.Z),_e($n,Pn,ne,we,Fe)}}return Wr?(Fe||(Fe=new m.Z),Z(C,U,ne,we,_e,Fe)):!1}var Ct=rt,Vt=a(43391);function hr(C,U,ne,we,_e){return C===U?!0:C==null||U==null||!(0,Vt.Z)(C)&&!(0,Vt.Z)(U)?C!==C&&U!==U:Ct(C,U,ne,we,hr,_e)}var xr=hr;function Sr(C,U,ne){ne=typeof ne=="function"?ne:void 0;var we=ne?ne(C,U):void 0;return we===void 0?xr(C,U,void 0,ne):!!we}var cr=Sr,Nt=a(90772),Lr=a(7279),Er=a(404),yr=a(39075),Zr=a(6279),Vr=a(93122),Rr=a(1284);function fr(C,U,ne,we){var _e=-1,Fe=C==null?0:C.length;for(we&&Fe&&(ne=C[++_e]);++_e<Fe;)ne=U(ne,C[_e],_e,C);return ne}var Ie=fr;function Xt(C){return function(U,ne,we){for(var _e=-1,Fe=Object(U),at=we(U),Rt=at.length;Rt--;){var Pt=at[C?Rt:++_e];if(ne(Fe[Pt],Pt,Fe)===!1)break}return U}}var sr=Xt,ur=sr(),Fr=ur,jr=a(20649);function wr(C,U){return C&&Fr(C,U,jr.Z)}var Tr=wr,_r=a(63282);function $r(C,U){return function(ne,we){if(ne==null)return ne;if(!(0,_r.Z)(ne))return C(ne,we);for(var _e=ne.length,Fe=U?_e:-1,at=Object(ne);(U?Fe--:++Fe<_e)&&we(at[Fe],Fe,at)!==!1;);return ne}}var en=$r,hn=en(Tr),Nr=hn,cn=1,gn=2;function Sn(C,U,ne,we){var _e=ne.length,Fe=_e,at=!we;if(C==null)return!Fe;for(C=Object(C);_e--;){var Rt=ne[_e];if(at&&Rt[2]?Rt[1]!==C[Rt[0]]:!(Rt[0]in C))return!1}for(;++_e<Fe;){Rt=ne[_e];var Pt=Rt[0],ar=C[Pt],vr=Rt[1];if(at&&Rt[2]){if(ar===void 0&&!(Pt in C))return!1}else{var Ar=new m.Z;if(we)var Wr=we(ar,vr,Pt,C,U,Ar);if(!(Wr===void 0?xr(vr,ar,cn|gn,we,Ar):Wr))return!1}}return!0}var yn=Sn;function dn(C){return C===C&&!(0,Vr.Z)(C)}var vn=dn;function tn(C){for(var U=(0,jr.Z)(C),ne=U.length;ne--;){var we=U[ne],_e=C[we];U[ne]=[we,_e,vn(_e)]}return U}var _n=tn;function an(C,U){return function(ne){return ne==null?!1:ne[C]===U&&(U!==void 0||C in Object(ne))}}var rn=an;function mn(C){var U=_n(C);return U.length==1&&U[0][2]?rn(U[0][0],U[0][1]):function(ne){return ne===C||yn(ne,C,U)}}var Kn=mn,hi=a(12930),Ri=a(23502),Pe=a(57969),y=1,T=2;function V(C,U){return(0,Ri.Z)(C)&&vn(U)?rn((0,Pe.Z)(C),U):function(ne){var we=(0,Nt.Z)(ne,C);return we===void 0&&we===U?(0,hi.Z)(ne,C):xr(U,we,y|T)}}var q=V,Oe=a(89930);function Ee(C){return function(U){return U==null?void 0:U[C]}}var ze=Ee,He=a(89523);function wt(C){return function(U){return(0,He.Z)(U,C)}}var jt=wt;function $t(C){return(0,Ri.Z)(C)?ze((0,Pe.Z)(C)):jt(C)}var Cr=$t;function pr(C){return typeof C=="function"?C:C==null?Oe.Z:typeof C=="object"?(0,ge.Z)(C)?q(C[0],C[1]):Kn(C):Cr(C)}var Cn=pr;function Xn(C,U,ne,we,_e){return _e(C,function(Fe,at,Rt){ne=we?(we=!1,Fe):U(ne,Fe,at,Rt)}),ne}var zn=Xn;function wi(C,U,ne){var we=(0,ge.Z)(C)?Ie:zn,_e=arguments.length<3;return we(C,Cn(U,4),ne,_e,Nr)}var yi=wi,ji=a(19510);function us(C){return typeof C=="function"?C:Oe.Z}var qi=us,Hn=/\s/;function kn(C){for(var U=C.length;U--&&Hn.test(C.charAt(U)););return U}var eo=kn,Bo=/^\s+/;function qt(C){return C&&C.slice(0,eo(C)+1).replace(Bo,"")}var pe=qt,j=a(22758),Y=0/0,ke=/^[-+]0x[0-9a-f]+$/i,Ne=/^0b[01]+$/i,nt=/^0o[0-7]+$/i,ft=parseInt;function Ut(C){if(typeof C=="number")return C;if((0,j.Z)(C))return Y;if((0,Vr.Z)(C)){var U=typeof C.valueOf=="function"?C.valueOf():C;C=(0,Vr.Z)(U)?U+"":U}if(typeof C!="string")return C===0?C:+C;C=pe(C);var ne=Ne.test(C);return ne||nt.test(C)?ft(C.slice(2),ne?2:8):ke.test(C)?Y:+C}var Wt=Ut,Br=1/0,Kr=17976931348623157e292;function Mn(C){if(!C)return C===0?C:0;if(C=Wt(C),C===Br||C===-Br){var U=C<0?-1:1;return U*Kr}return C===C?C:0}var Oi=Mn;function Pi(C){var U=Oi(C),ne=U%1;return U===U?ne?U-ne:U:0}var ai=Pi,Ti=9007199254740991,to=4294967295,Ms=Math.min;function cs(C,U){if(C=ai(C),C<1||C>Ti)return[];var ne=to,we=Ms(C,to);U=qi(U),C-=to;for(var _e=(0,ji.Z)(we,U);++ne<C;)U(ne);return _e}var da=cs,Xo=a(25513),$s=a(33372),ht=a.n($s),Je=a(53338),Zt=a(91130),Jt=a(19603);function lr(C,U){return(0,Jt.Z)((0,Zt.Z)(C,U,Oe.Z),C+"")}var Ur=lr;function Ir(C,U,ne,we){for(var _e=C.length,Fe=ne+(we?1:-1);we?Fe--:++Fe<_e;)if(U(C[Fe],Fe,C))return Fe;return-1}var ln=Ir;function mi(C){return C!==C}var jn=mi;function Jn(C,U,ne){for(var we=ne-1,_e=C.length;++we<_e;)if(C[we]===U)return we;return-1}var on=Jn;function nn(C,U,ne){return U===U?on(C,U,ne):ln(C,jn,ne)}var Gn=nn;function fn(C,U){var ne=C==null?0:C.length;return!!ne&&Gn(C,U,0)>-1}var Qn=fn;function vi(C,U,ne){for(var we=-1,_e=C==null?0:C.length;++we<_e;)if(ne(U,C[we]))return!0;return!1}var Ni=vi,ro=a(87459);function Yn(){}var Li=Yn,Bi=1/0,Xr=ro.Z&&1/Le(new ro.Z([,-0]))[1]==Bi?function(C){return new ro.Z(C)}:Li,Co=Xr,Hi=200;function pi(C,U,ne){var we=-1,_e=Qn,Fe=C.length,at=!0,Rt=[],Pt=Rt;if(ne)at=!1,_e=Ni;else if(Fe>=Hi){var ar=U?null:Co(C);if(ar)return Le(ar);at=!1,_e=oe,Pt=new z}else Pt=U?[]:Rt;e:for(;++we<Fe;){var vr=C[we],Ar=U?U(vr):vr;if(vr=ne||vr!==0?vr:0,at&&Ar===Ar){for(var Wr=Pt.length;Wr--;)if(Pt[Wr]===Ar)continue e;U&&Pt.push(Ar),Rt.push(vr)}else _e(Pt,Ar,ne)||(Pt!==Rt&&Pt.push(Ar),Rt.push(vr))}return Rt}var Ao=pi;function Po(C){return(0,Vt.Z)(C)&&(0,_r.Z)(C)}var To=Po,ci=Ur(function(C){return Ao((0,Je.Z)(C,1,To,!0))}),lo=ci;function _i(C,U){return xr(C,U)}var _o=_i,Wo=a(7921),go=a(52322),Ss=a(2784),Is=a(63708),Rs=a(55487);function Dn(C){return typeof File!="undefined"&&C instanceof File||typeof Date!="undefined"&&C instanceof Date?!1:typeof C=="object"&&C!==null&&!Array.isArray(C)}function Do(C){return C.additionalItems===!0&&console.warn("additionalItems=true is currently not supported"),Dn(C.additionalItems)}function uo(C){if(C!==""){if(C===null)return null;if(/\.$/.test(C)||/\.0$/.test(C)||/\.\d*0$/.test(C))return C;var U=Number(C),ne=typeof U=="number"&&!Number.isNaN(U);return ne?U:C}}function fs(C,U){for(var ne=0;ne<U.length;ne++){var we=U[ne];we.enumerable=we.enumerable||!1,we.configurable=!0,"value"in we&&(we.writable=!0),Object.defineProperty(C,no(we.key),we)}}function Ji(C,U,ne){return U&&fs(C.prototype,U),ne&&fs(C,ne),Object.defineProperty(C,"prototype",{writable:!1}),C}function pn(){return pn=Object.assign?Object.assign.bind():function(C){for(var U=1;U<arguments.length;U++){var ne=arguments[U];for(var we in ne)Object.prototype.hasOwnProperty.call(ne,we)&&(C[we]=ne[we])}return C},pn.apply(this,arguments)}function Fs(C){if(C==null)throw new TypeError("Cannot destructure "+C)}function Di(C,U){if(C==null)return{};var ne={},we=Object.keys(C),_e,Fe;for(Fe=0;Fe<we.length;Fe++)_e=we[Fe],!(U.indexOf(_e)>=0)&&(ne[_e]=C[_e]);return ne}function Qo(C,U){if(typeof C!="object"||C===null)return C;var ne=C[Symbol.toPrimitive];if(ne!==void 0){var we=ne.call(C,U||"default");if(typeof we!="object")return we;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(C)}function no(C){var U=Qo(C,"string");return typeof U=="symbol"?U:String(U)}var qo="__additional_property",Gi="additionalProperties",En="allOf",bi="anyOf",qn="const",ko="default",xi="definitions",ei="dependencies",Es="enum",ti="__errors",co="$id",io="items",Wi="$name",Zo="oneOf",ki="properties",ws="required",bo="submitButtonOptions",ri="$ref",Ci="__rjsf_additionalProperties",Dr="__rjsf_rootSchema",li="ui:field",oo="ui:widget",Uo="ui:options",Ks="ui:globalOptions";function Wn(C,U){return C===void 0&&(C={}),U===void 0&&(U={}),Object.keys(C).filter(function(ne){return ne.indexOf("ui:")===0}).reduce(function(ne,we){var _e,Fe=C[we];return we===oo&&Dn(Fe)?(console.error("Setting options via ui:widget object is no longer supported, use ui:options instead"),ne):we===Uo&&Dn(Fe)?pn({},ne,Fe):pn({},ne,(_e={},_e[we.substring(3)]=Fe,_e))},pn({},U))}function zs(C,U,ne){if(U===void 0&&(U={}),!C.additionalProperties)return!1;var we=Wn(U),_e=we.expandable,Fe=_e===void 0?!0:_e;return Fe===!1?Fe:C.maxProperties!==void 0&&ne?Object.keys(ne).length<C.maxProperties:!0}function Vo(C){var U,ne=(U={},U[ti]=[],U.addError=function(Fe){this[ti].push(Fe)},U);if(Array.isArray(C))return C.reduce(function(_e,Fe,at){var Rt;return pn({},_e,(Rt={},Rt[at]=Vo(Fe),Rt))},ne);if((0,o.Z)(C)){var we=C;return Object.keys(we).reduce(function(_e,Fe){var at;return pn({},_e,(at={},at[Fe]=Vo(we[Fe]),at))},ne)}return ne}function es(C,U){return cr(C,U,function(ne,we){if(typeof ne=="function"&&typeof we=="function")return!0})}function Os(C,U){var ne=U[C],we=(0,yr.Z)(U,[C]);return[we,ne]}function xs(C,U){U===void 0&&(U={});var ne=C||"";if(ne.startsWith("#"))ne=decodeURIComponent(ne.substring(1));else throw new Error("Could not find a definition for "+C+".");var we=Er.get(U,ne);if(we===void 0)throw new Error("Could not find a definition for "+C+".");if(we[ri]){var _e=Os(ri,we),Fe=_e[0],at=_e[1],Rt=xs(at,U);return Object.keys(Fe).length>0?pn({},Fe,Rt):Rt}return we}function pt(C,U,ne,we,_e){if(U===void 0)return 0;for(var Fe=0;Fe<ne.length;Fe++){var at=ne[Fe];if(_e&&(0,Zr.Z)(at,[ki,_e])){var Rt=(0,Nt.Z)(U,_e),Pt=(0,Nt.Z)(at,[ki,_e],{});if(C.isValid(Pt,Rt,we))return Fe}else if(at[ki]){var ar={anyOf:Object.keys(at[ki]).map(function(Wr){return{required:[Wr]}})},vr=void 0;if(at.anyOf){var Ar=pn({},(Fs(at),at));Ar.allOf?Ar.allOf=Ar.allOf.slice():Ar.allOf=[],Ar.allOf.push(ar),vr=Ar}else vr=Object.assign({},at,ar);if(delete vr.required,C.isValid(vr,U,we))return Fe}else if(C.isValid(at,U,we))return Fe}return 0}function it(C,U,ne,we,_e){return pt(C,U,ne,we,_e)}function Zi(C){return Array.isArray(C)?"array":typeof C=="string"?"string":C==null?"null":typeof C=="boolean"?"boolean":isNaN(C)?typeof C=="object"?"object":"string":"number"}function Mi(C){var U=C.type;return!U&&C.const?Zi(C.const):!U&&C.enum?"string":!U&&(C.properties||C.additionalProperties)?"object":(Array.isArray(U)&&U.length===2&&U.includes("null")&&(U=U.find(function(ne){return ne!=="null"})),U)}function Jr(C,U){var ne=Object.assign({},C);return Object.keys(U).reduce(function(we,_e){var Fe=C?C[_e]:{},at=U[_e];return C&&_e in C&&Dn(at)?we[_e]=Jr(Fe,at):C&&U&&(Mi(C)==="object"||Mi(U)==="object")&&_e===ws&&Array.isArray(Fe)&&Array.isArray(at)?we[_e]=lo(Fe,at):we[_e]=at,we},ne)}var Or=["if","then","else"],gr=["$ref"],zr=["allOf"],wn=["dependencies"],An=["oneOf"];function fi(C,U,ne,we){var _e=U.if,Fe=U.then,at=U.else,Rt=Di(U,Or),Pt=C.isValid(_e,we,ne)?Fe:at;return Pt&&typeof Pt!="boolean"?Zn(C,Jr(Rt,Zn(C,Pt,ne,we)),ne,we):Zn(C,Rt,ne,we)}function gi(C,U,ne,we){if(ne===void 0&&(ne={}),ri in U)return So(C,U,ne,we);if(ei in U){var _e=Nn(C,U,ne,we);return Zn(C,_e,ne,we)}return En in U?pn({},U,{allOf:U.allOf.map(function(Fe){return Zn(C,Fe,ne,we)})}):U}function So(C,U,ne,we){var _e=xs(U.$ref,ne),Fe=Di(U,gr);return Zn(C,pn({},_e,Fe),ne,we)}function ds(C,U,ne,we){var _e=pn({},U,{properties:pn({},U.properties)}),Fe=we&&Dn(we)?we:{};return Object.keys(Fe).forEach(function(at){if(!(at in _e.properties)){var Rt={};typeof _e.additionalProperties!="boolean"?ri in _e.additionalProperties?Rt=Zn(C,{$ref:(0,Nt.Z)(_e.additionalProperties,[ri])},ne,Fe):"type"in _e.additionalProperties?Rt=pn({},_e.additionalProperties):bi in _e.additionalProperties||Zo in _e.additionalProperties?Rt=pn({type:"object"},_e.additionalProperties):Rt={type:Zi((0,Nt.Z)(Fe,[at]))}:Rt={type:Zi((0,Nt.Z)(Fe,[at]))},_e.properties[at]=Rt,(0,Xo.Z)(_e.properties,[at,qo],!0)}}),_e}function Zn(C,U,ne,we){if(ne===void 0&&(ne={}),!Dn(U))return{};var _e=gi(C,U,ne,we);if("if"in U)return fi(C,U,ne,we);var Fe=we||{};if(En in U)try{_e=ht()(_e,{deep:!1})}catch(ar){console.warn(`could not merge subschemas in allOf:
`,ar);var at=_e,Rt=Di(at,zr);return Rt}var Pt=Gi in _e&&_e.additionalProperties!==!1;return Pt?ds(C,_e,ne,Fe):_e}function Nn(C,U,ne,we){var _e=U.dependencies,Fe=Di(U,wn),at=Fe;return Array.isArray(at.oneOf)?at=at.oneOf[it(C,we,at.oneOf,ne)]:Array.isArray(at.anyOf)&&(at=at.anyOf[it(C,we,at.anyOf,ne)]),Aa(C,_e,at,ne,we)}function Aa(C,U,ne,we,_e){var Fe=ne;for(var at in U)if((0,Nt.Z)(_e,[at])!==void 0&&!(Fe.properties&&!(at in Fe.properties))){var Rt=Os(at,U),Pt=Rt[0],ar=Rt[1];return Array.isArray(ar)?Fe=ts(Fe,ar):Dn(ar)&&(Fe=rs(C,Fe,we,at,ar,_e)),Aa(C,Pt,Fe,we,_e)}return Fe}function ts(C,U){if(!U)return C;var ne=Array.isArray(C.required)?Array.from(new Set([].concat(C.required,U))):U;return pn({},C,{required:ne})}function rs(C,U,ne,we,_e,Fe){var at=Zn(C,_e,ne,Fe),Rt=at.oneOf,Pt=Di(at,An);if(U=Jr(U,Pt),Rt===void 0)return U;var ar=Rt.map(function(vr){return typeof vr=="boolean"||!(ri in vr)?vr:So(C,vr,ne,Fe)});return Ua(C,U,ne,we,ar,Fe)}function Ua(C,U,ne,we,_e,Fe){var at=_e.filter(function(Ar){if(typeof Ar=="boolean"||!Ar||!Ar.properties)return!1;var Wr=Ar.properties[we];if(Wr){var xn,Un={type:"object",properties:(xn={},xn[we]=Wr,xn)};return C.isValid(Un,Fe,ne)}return!1});if(at.length!==1)return console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),U;var Rt=at[0],Pt=Os(we,Rt.properties),ar=Pt[0],vr=pn({},Rt,{properties:ar});return Jr(U,Zn(C,vr,ne,Fe))}var Pa={type:"object",properties:{__not_really_there__:{type:"number"}}};function Ko(C,U,ne,we){we===void 0&&(we={});var _e=0;return ne&&((0,Vr.Z)(ne.properties)?_e+=yi(ne.properties,function(Fe,at,Rt){var Pt=(0,Nt.Z)(we,Rt);if(typeof at=="boolean")return Fe;if((0,Zr.Z)(at,ri)){var ar=Zn(C,at,U,Pt);return Fe+Ko(C,U,ar,Pt||{})}if((0,Zr.Z)(at,Zo)&&Pt)return Fe+fo(C,U,Pt,(0,Nt.Z)(at,Zo));if(at.type==="object")return Fe+Ko(C,U,at,Pt||{});if(at.type===Zi(Pt)){var vr=Fe+1;return at.default?vr+=Pt===at.default?1:-1:at.const&&(vr+=Pt===at.const?1:-1),vr}return Fe},0):(0,Rr.Z)(ne.type)&&ne.type===Zi(we)&&(_e+=1)),_e}function fo(C,U,ne,we,_e,Fe){_e===void 0&&(_e=-1);var at=we.reduce(function(ar,vr,Ar){var Wr=[Pa,vr],xn=it(C,ne,Wr,U,Fe);return xn===1&&ar.push(Ar),ar},[]);if(at.length===1)return at[0];at.length||da(we.length,function(ar){return at.push(ar)});var Rt=at.reduce(function(ar,vr){var Ar=ar.bestScore,Wr=we[vr];(0,Zr.Z)(Wr,ri)&&(Wr=Zn(C,Wr,U,ne));var xn=Ko(C,U,Wr,ne);return xn>Ar?{bestIndex:vr,bestScore:xn}:ar},{bestIndex:_e,bestScore:0}),Pt=Rt.bestIndex;return Pt}function ho(C){return Array.isArray(C.items)&&C.items.length>0&&C.items.every(function(U){return Dn(U)})}function hs(C,U){if(Array.isArray(U)){var ne=Array.isArray(C)?C:[],we=U.map(function(Fe,at){return ne[at]?hs(ne[at],Fe):Fe});return we}if(Dn(U)){var _e=Object.assign({},C);return Object.keys(U).reduce(function(Fe,at){return Fe[at]=hs(C?(0,Nt.Z)(C,at):{},(0,Nt.Z)(U,at)),Fe},_e)}return U}function js(C,U,ne){return ne===void 0&&(ne=!1),Object.keys(U).reduce(function(we,_e){var Fe=C?C[_e]:{},at=U[_e];if(C&&_e in C&&Dn(at))we[_e]=js(Fe,at,ne);else if(ne&&Array.isArray(Fe)&&Array.isArray(at)){var Rt=at;ne==="preventDuplicates"&&(Rt=at.reduce(function(Pt,ar){return Fe.includes(ar)||Pt.push(ar),Pt},[])),we[_e]=Fe.concat(Rt)}else we[_e]=at;return we},Object.assign({},C))}function na(C){return Array.isArray(C.enum)&&C.enum.length===1||qn in C}function Va(C,U,ne){ne===void 0&&(ne={});var we=Zn(C,U,ne,void 0),_e=we.oneOf||we.anyOf;return Array.isArray(we.enum)?!0:Array.isArray(_e)?_e.every(function(Fe){return typeof Fe!="boolean"&&na(Fe)}):!1}function ns(C,U,ne){return!U.uniqueItems||!U.items||typeof U.items=="boolean"?!1:Va(C,U.items,ne)}var Hs;(function(C){C[C.Ignore=0]="Ignore",C[C.Invert=1]="Invert",C[C.Fallback=2]="Fallback"})(Hs||(Hs={}));function ha(C,U,ne){if(U===void 0&&(U=Hs.Ignore),ne===void 0&&(ne=-1),ne>=0){if(Array.isArray(C.items)&&ne<C.items.length){var we=C.items[ne];if(typeof we!="boolean")return we}}else if(C.items&&!Array.isArray(C.items)&&typeof C.items!="boolean")return C.items;return U!==Hs.Ignore&&Dn(C.additionalItems)?C.additionalItems:{}}function ma(C,U,ne,we,_e){_e===void 0&&(_e=[]),we?C[U]=ne:Dn(ne)?(!(0,Lr.Z)(ne)||_e.includes(U))&&(C[U]=ne):ne!==void 0&&(C[U]=ne)}function yo(C,U,ne,we,_e,Fe,at){we===void 0&&(we={}),Fe===void 0&&(Fe=!1),at===void 0&&(at=[]);var Rt=Dn(_e)?_e:{},Pt=Dn(U)?U:{},ar=ne;if(Dn(ar)&&Dn(Pt.default))ar=js(ar,Pt.default);else if(ko in Pt)ar=Pt.default;else if(ri in Pt){var vr=Pt[ri];if(!at.includes(vr)){var Ar=xs(vr,we);return yo(C,Ar,ar,we,Rt,Fe,at.concat(vr))}}else if(ei in Pt){var Wr=Nn(C,Pt,we,Rt);return yo(C,Wr,ar,we,Rt,Fe,at)}else if(ho(Pt))ar=Pt.items.map(function(Vn,Ei){return yo(C,Vn,Array.isArray(ne)?ne[Ei]:void 0,we,Rt,Fe,at)});else if(Zo in Pt){if(Pt.oneOf.length===0)return;Pt=Pt.oneOf[fo(C,we,(0,Lr.Z)(Rt)?void 0:Rt,Pt.oneOf,0)]}else if(bi in Pt){if(Pt.anyOf.length===0)return;Pt=Pt.anyOf[fo(C,we,(0,Lr.Z)(Rt)?void 0:Rt,Pt.anyOf,0)]}switch(typeof ar=="undefined"&&(ar=Pt.default),Mi(Pt)){case"object":{var xn=Object.keys(Pt.properties||{}).reduce(function(Vn,Ei){var os=yo(C,(0,Nt.Z)(Pt,[ki,Ei]),(0,Nt.Z)(ar,[Ei]),we,(0,Nt.Z)(Rt,[Ei]),Fe===!0,at);return ma(Vn,Ei,os,Fe,Pt.required),Vn},{});if(Pt.additionalProperties){var Un=Dn(Pt.additionalProperties)?Pt.additionalProperties:{},$n=new Set;Dn(ar)&&Object.keys(ar).filter(function(Vn){return!Pt.properties||!Pt.properties[Vn]}).forEach(function(Vn){return $n.add(Vn)}),Dn(Rt)&&Object.keys(Rt).filter(function(Vn){return!Pt.properties||!Pt.properties[Vn]}).forEach(function(Vn){return $n.add(Vn)}),$n.forEach(function(Vn){var Ei=yo(C,Un,(0,Nt.Z)(ar,[Vn]),we,(0,Nt.Z)(Rt,[Vn]),Fe===!0,at);ma(xn,Vn,Ei,Fe)})}return xn}case"array":if(Array.isArray(ar)&&(ar=ar.map(function(Vn,Ei){var os=ha(Pt,Hs.Fallback,Ei);return yo(C,os,Vn,we,void 0,void 0,at)})),Array.isArray(_e)){var Pn=ha(Pt);ar=_e.map(function(Vn,Ei){return yo(C,Pn,(0,Nt.Z)(ar,[Ei]),we,Vn,void 0,at)})}if(Pt.minItems){if(!ns(C,Pt,we)){var di=Array.isArray(ar)?ar.length:0;if(Pt.minItems>di){var Si=ar||[],wo=ha(Pt,Hs.Invert),Vi=wo.default,Oo=new Array(Pt.minItems-di).fill(yo(C,wo,Vi,we,void 0,void 0,at));return Si.concat(Oo)}}return ar||[]}}return ar}function Ta(C,U,ne,we,_e){if(_e===void 0&&(_e=!1),!Dn(U))throw new Error("Invalid schema: "+U);var Fe=Zn(C,U,we,ne),at=yo(C,Fe,void 0,we,ne,_e);return typeof ne=="undefined"||ne===null||typeof ne=="number"&&isNaN(ne)?at:Dn(ne)||Array.isArray(ne)?hs(at,ne):ne}function pa(C){return C===void 0&&(C={}),"widget"in Wn(C)&&Wn(C).widget!=="hidden"}function ia(C,U,ne,we){if(ne===void 0&&(ne={}),ne[oo]==="files")return!0;if(U.items){var _e=Zn(C,U.items,we);return _e.type==="string"&&_e.format==="data-url"}return!1}function Js(C,U,ne,we,_e){ne===void 0&&(ne={});var Fe=Wn(ne,_e),at=Fe.label,Rt=at===void 0?!0:at,Pt=!!Rt,ar=Mi(U);return ar==="array"&&(Pt=ns(C,U,we)||ia(C,U,ne,we)||pa(ne)),ar==="object"&&(Pt=!1),ar==="boolean"&&!ne[oo]&&(Pt=!1),ne[li]&&(Pt=!1),Pt}function Gs(C,U,ne){if(!ne)return U;var we=U.errors,_e=U.errorSchema,Fe=C.toErrorList(ne),at=ne;return(0,Lr.Z)(_e)||(at=js(_e,ne,!0),Fe=[].concat(we).concat(Fe)),{errorSchema:at,errors:Fe}}var Eo=Symbol("no Value");function Ns(C,U,ne,we,_e){_e===void 0&&(_e={});var Fe;if((0,Zr.Z)(ne,ki)){var at={};if((0,Zr.Z)(we,ki)){var Rt=(0,Nt.Z)(we,ki,{});Object.keys(Rt).forEach(function($n){(0,Zr.Z)(_e,$n)&&(at[$n]=void 0)})}var Pt=Object.keys((0,Nt.Z)(ne,ki,{})),ar={};Pt.forEach(function($n){var Pn=(0,Nt.Z)(_e,$n),di=(0,Nt.Z)(we,[ki,$n],{}),Si=(0,Nt.Z)(ne,[ki,$n],{});(0,Zr.Z)(di,ri)&&(di=Zn(C,di,U,Pn)),(0,Zr.Z)(Si,ri)&&(Si=Zn(C,Si,U,Pn));var wo=(0,Nt.Z)(di,"type"),Vi=(0,Nt.Z)(Si,"type");if(!wo||wo===Vi)if((0,Zr.Z)(at,$n)&&delete at[$n],Vi==="object"||Vi==="array"&&Array.isArray(Pn)){var Oo=Ns(C,U,Si,di,Pn);(Oo!==void 0||Vi==="array")&&(ar[$n]=Oo)}else{var Vn=(0,Nt.Z)(Si,"default",Eo),Ei=(0,Nt.Z)(di,"default",Eo);Vn!==Eo&&Vn!==Pn&&(Ei===Pn?at[$n]=Vn:(0,Nt.Z)(Si,"readOnly")===!0&&(at[$n]=void 0));var os=(0,Nt.Z)(Si,"const",Eo),Fa=(0,Nt.Z)(di,"const",Eo);os!==Eo&&os!==Pn&&(at[$n]=Fa===Pn?os:void 0)}}),Fe=pn({},_e,at,ar)}else if((0,Nt.Z)(we,"type")==="array"&&(0,Nt.Z)(ne,"type")==="array"&&Array.isArray(_e)){var vr=(0,Nt.Z)(we,"items"),Ar=(0,Nt.Z)(ne,"items");if(typeof vr=="object"&&typeof Ar=="object"&&!Array.isArray(vr)&&!Array.isArray(Ar)){(0,Zr.Z)(vr,ri)&&(vr=Zn(C,vr,U,_e)),(0,Zr.Z)(Ar,ri)&&(Ar=Zn(C,Ar,U,_e));var Wr=(0,Nt.Z)(vr,"type"),xn=(0,Nt.Z)(Ar,"type");if(!Wr||Wr===xn){var Un=(0,Nt.Z)(ne,"maxItems",-1);xn==="object"?Fe=_e.reduce(function($n,Pn){var di=Ns(C,U,Ar,vr,Pn);return di!==void 0&&(Un<0||$n.length<Un)&&$n.push(di),$n},[]):Fe=Un>0&&_e.length>Un?_e.slice(0,Un):_e}}else typeof vr=="boolean"&&typeof Ar=="boolean"&&vr===Ar&&(Fe=_e)}return Fe}function Ys(C,U,ne,we,_e,Fe,at,Rt){if(Rt===void 0&&(Rt=[]),ri in U||ei in U||En in U){var Pt=Zn(C,U,Fe,at),ar=Rt.findIndex(function($n){return _o($n,Pt)});if(ar===-1)return Ys(C,Pt,ne,we,_e,Fe,at,Rt.concat(Pt))}if(io in U&&!(0,Nt.Z)(U,[io,ri]))return Ys(C,(0,Nt.Z)(U,io),ne,we,_e,Fe,at,Rt);var vr=_e||ne,Ar={$id:vr};if(Mi(U)==="object"&&ki in U)for(var Wr in U.properties){var xn=(0,Nt.Z)(U,[ki,Wr]),Un=Ar[co]+we+Wr;Ar[Wr]=Ys(C,Dn(xn)?xn:{},ne,we,Un,Fe,(0,Nt.Z)(at,[Wr]),Rt)}return Ar}function oa(C,U,ne,we,_e,Fe,at){return Fe===void 0&&(Fe="root"),at===void 0&&(at="_"),Ys(C,U,Fe,at,ne,we,_e)}function zo(C,U,ne,we,_e,Fe){var at;if(Fe===void 0&&(Fe=[]),ri in U||ei in U||En in U){var Rt=Zn(C,U,we,_e),Pt=Fe.findIndex(function(Pn){return _o(Pn,Rt)});if(Pt===-1)return zo(C,Rt,ne,we,_e,Fe.concat(Rt))}var ar=(at={},at[Wi]=ne.replace(/^\./,""),at);if(Zo in U){var vr=fo(C,we,_e,U.oneOf,0),Ar=U.oneOf[vr];return zo(C,Ar,ne,we,_e,Fe)}if(bi in U){var Wr=fo(C,we,_e,U.anyOf,0),xn=U.anyOf[Wr];return zo(C,xn,ne,we,_e,Fe)}if(Gi in U&&U[Gi]!==!1&&(0,Xo.Z)(ar,Ci,!0),io in U&&Array.isArray(_e))_e.forEach(function(Pn,di){ar[di]=zo(C,U.items,ne+"."+di,we,Pn,Fe)});else if(ki in U)for(var Un in U.properties){var $n=(0,Nt.Z)(U,[ki,Un]);ar[Un]=zo(C,$n,ne+"."+Un,we,(0,Nt.Z)(_e,[Un]),Fe)}return ar}function Ls(C,U,ne,we,_e){return ne===void 0&&(ne=""),zo(C,U,ne,we,_e)}var Mo=function(){function C(ne,we){this.rootSchema=void 0,this.validator=void 0,this.rootSchema=we,this.validator=ne}var U=C.prototype;return U.getValidator=function(){return this.validator},U.doesSchemaUtilsDiffer=function(we,_e){return!we||!_e?!1:this.validator!==we||!es(this.rootSchema,_e)},U.getDefaultFormState=function(we,_e,Fe){return Fe===void 0&&(Fe=!1),Ta(this.validator,we,_e,this.rootSchema,Fe)},U.getDisplayLabel=function(we,_e,Fe){return Js(this.validator,we,_e,this.rootSchema,Fe)},U.getClosestMatchingOption=function(we,_e,Fe,at){return fo(this.validator,this.rootSchema,we,_e,Fe,at)},U.getFirstMatchingOption=function(we,_e,Fe){return it(this.validator,we,_e,this.rootSchema,Fe)},U.getMatchingOption=function(we,_e,Fe){return pt(this.validator,we,_e,this.rootSchema,Fe)},U.isFilesArray=function(we,_e){return ia(this.validator,we,_e,this.rootSchema)},U.isMultiSelect=function(we){return ns(this.validator,we,this.rootSchema)},U.isSelect=function(we){return Va(this.validator,we,this.rootSchema)},U.mergeValidationData=function(we,_e){return Gs(this.validator,we,_e)},U.retrieveSchema=function(we,_e){return Zn(this.validator,we,this.rootSchema,_e)},U.sanitizeDataForNewSchema=function(we,_e,Fe){return Ns(this.validator,this.rootSchema,we,_e,Fe)},U.toIdSchema=function(we,_e,Fe,at,Rt){return at===void 0&&(at="root"),Rt===void 0&&(Rt="_"),oa(this.validator,we,_e,this.rootSchema,Fe,at,Rt)},U.toPathSchema=function(we,_e,Fe){return Ls(this.validator,we,_e,this.rootSchema,Fe)},C}();function sa(C,U){return new Mo(C,U)}function _a(C){var U=C.split(","),ne=U[0].split(";"),we=ne[0].replace("data:",""),_e=ne.filter(function(vr){return vr.split("=")[0]==="name"}),Fe;_e.length!==1?Fe="unknown":Fe=decodeURI(_e[0].split("=")[1]);try{for(var at=atob(U[1]),Rt=[],Pt=0;Pt<at.length;Pt++)Rt.push(at.charCodeAt(Pt));var ar=new window.Blob([new Uint8Array(Rt)],{type:we});return{blob:ar,name:Fe}}catch(vr){return{blob:{size:0,type:vr.message},name:C}}}function Da(C,U){var ne=C;if(Array.isArray(U)){var we=ne.split(/(%\d)/);U.forEach(function(_e,Fe){var at=we.findIndex(function(Rt){return Rt==="%"+(Fe+1)});at>=0&&(we[at]=_e)}),ne=we.join("")}return ne}function ka(C,U){return Da(C,U)}function is(C,U,ne){if(U===void 0&&(U=[]),Array.isArray(C))return C.map(function(Fe){return is(Fe,U)}).filter(function(Fe){return Fe});var we=C===""||C===null?-1:Number(C),_e=U[we];return _e?_e.value:ne}function so(C,U,ne){ne===void 0&&(ne=[]);var we=is(C,ne);return Array.isArray(U)?U.filter(function(_e){return!_o(_e,we)}):_o(we,U)?void 0:U}function $o(C,U){return Array.isArray(U)?U.some(function(ne){return _o(ne,C)}):_o(U,C)}function Qa(C,U,ne){U===void 0&&(U=[]),ne===void 0&&(ne=!1);var we=U.map(function(_e,Fe){return $o(_e.value,C)?String(Fe):void 0}).filter(function(_e){return typeof _e!="undefined"});return ne?we:we[0]}function aa(C,U,ne){ne===void 0&&(ne=[]);var we=is(C,ne);if(we){var _e=ne.findIndex(function(Rt){return we===Rt.value}),Fe=ne.map(function(Rt){var Pt=Rt.value;return Pt}),at=U.slice(0,_e).concat(we,U.slice(_e));return at.sort(function(Rt,Pt){return Number(Fe.indexOf(Rt)>Fe.indexOf(Pt))})}return U}var ga=function(){function C(ne){this.errorSchema={},this.resetAllErrors(ne)}var U=C.prototype;return U.getOrCreateErrorBlock=function(we){var _e=Array.isArray(we)&&we.length>0||typeof we=="string",Fe=_e?(0,Nt.Z)(this.errorSchema,we):this.errorSchema;return!Fe&&we&&(Fe={},(0,Xo.Z)(this.errorSchema,we,Fe)),Fe},U.resetAllErrors=function(we){return this.errorSchema=we?(0,Wo.Z)(we):{},this},U.addErrors=function(we,_e){var Fe=this.getOrCreateErrorBlock(_e),at=(0,Nt.Z)(Fe,ti);if(Array.isArray(at)||(at=[],Fe[ti]=at),Array.isArray(we)){var Rt;(Rt=at).push.apply(Rt,we)}else at.push(we);return this},U.setErrors=function(we,_e){var Fe=this.getOrCreateErrorBlock(_e),at=Array.isArray(we)?[].concat(we):[we];return(0,Xo.Z)(Fe,ti,at),this},U.clearErrors=function(we){var _e=this.getOrCreateErrorBlock(we);return(0,Xo.Z)(_e,ti,[]),this},Ji(C,[{key:"ErrorSchema",get:function(){return this.errorSchema}}]),C}();function Ui(C){var U={};return C.multipleOf&&(U.step=C.multipleOf),(C.minimum||C.minimum===0)&&(U.min=C.minimum),(C.maximum||C.maximum===0)&&(U.max=C.maximum),U}function ya(C,U,ne,we){ne===void 0&&(ne={}),we===void 0&&(we=!0);var _e=pn({type:U||"text"},Ui(C));return ne.inputType?_e.type=ne.inputType:U||(C.type==="number"?(_e.type="number",we&&_e.step===void 0&&(_e.step="any")):C.type==="integer"&&(_e.type="number",_e.step===void 0&&(_e.step=1))),ne.autocomplete&&(_e.autoComplete=ne.autocomplete),_e}var mo={props:{disabled:!1},submitText:"Submit",norender:!1};function Xs(C){C===void 0&&(C={});var U=Wn(C);if(U&&U[bo]){var ne=U[bo];return pn({},mo,ne)}return mo}function vo(C,U,ne){ne===void 0&&(ne={});var we=U.templates;return C==="ButtonTemplates"?we[C]:ne[C]||we[C]}var la=["options"],ms={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",time:"TimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function ps(C){var U=(0,Nt.Z)(C,"MergedWidget");if(!U){var ne=C.defaultProps&&C.defaultProps.options||{};U=function(_e){var Fe=_e.options,at=Di(_e,la);return(0,go.jsx)(C,pn({options:pn({},ne,Fe)},at))},(0,Xo.Z)(C,"MergedWidget",U)}return U}function Ho(C,U,ne){ne===void 0&&(ne={});var we=Mi(C);if(typeof U=="function"||U&&Is.isForwardRef((0,Ss.createElement)(U))||Is.isMemo(U))return ps(U);if(typeof U!="string")throw new Error("Unsupported widget definition: "+typeof U);if(U in ne){var _e=ne[U];return Ho(C,_e,ne)}if(typeof we=="string"){if(!(we in ms))throw new Error("No widget for type '"+we+"'");if(U in ms[we]){var Fe=ne[ms[we][U]];return Ho(C,Fe,ne)}}throw new Error("No widget '"+U+"' for type '"+we+"'")}function va(C,U,ne){ne===void 0&&(ne={});try{return Ho(C,U,ne),!0}catch(_e){var we=_e;if(we.message&&(we.message.startsWith("No widget")||we.message.startsWith("Unsupported widget")))return!1;throw _e}}function Io(C,U){var ne=(0,Rr.Z)(C)?C:C[co];return ne+"__"+U}function Yi(C){return Io(C,"description")}function Cs(C){return Io(C,"error")}function Jo(C){return Io(C,"examples")}function Ma(C){return Io(C,"help")}function gs(C){return Io(C,"title")}function ba(C,U){U===void 0&&(U=!1);var ne=U?" "+Jo(C):"";return Cs(C)+" "+Yi(C)+" "+Ma(C)+ne}function Ka(C,U){return C+"-"+U}function As(C,U,ne){return U?ne:C}function za(C){return C?new Date(C).toJSON():void 0}function Ai(C){if(Es in C&&Array.isArray(C.enum)&&C.enum.length===1)return C.enum[0];if(qn in C)return C.const;throw new Error("schema cannot be inferred as a constant")}function ys(C){var U=C;if(U.enumNames,C.enum)return C.enum.map(function(we,_e){var Fe=U.enumNames&&U.enumNames[_e]||String(we);return{label:Fe,value:we}});var ne=C.oneOf||C.anyOf;return ne&&ne.map(function(we){var _e=we,Fe=Ai(_e),at=_e.title||String(Fe);return{schema:_e,label:at,value:Fe}})}function Ps(C,U){if(!Array.isArray(U))return C;var ne=function(Ar){return Ar.reduce(function(Wr,xn){return Wr[xn]=!0,Wr},{})},we=function(Ar){return Ar.length>1?"properties '"+Ar.join("', '")+"'":"property '"+Ar[0]+"'"},_e=ne(C),Fe=U.filter(function(vr){return vr==="*"||_e[vr]}),at=ne(Fe),Rt=C.filter(function(vr){return!at[vr]}),Pt=Fe.indexOf("*");if(Pt===-1){if(Rt.length)throw new Error("uiSchema order list does not contain "+we(Rt));return Fe}if(Pt!==Fe.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");var ar=[].concat(Fe);return ar.splice.apply(ar,[Pt,1].concat(Rt)),ar}function vs(C,U){for(var ne=String(C);ne.length<U;)ne="0"+ne;return ne}function $a(C,U){if(U===void 0&&(U=!0),!C)return{year:-1,month:-1,day:-1,hour:U?-1:0,minute:U?-1:0,second:U?-1:0};var ne=new Date(C);if(Number.isNaN(ne.getTime()))throw new Error("Unable to parse date "+C);return{year:ne.getUTCFullYear(),month:ne.getUTCMonth()+1,day:ne.getUTCDate(),hour:U?ne.getUTCHours():0,minute:U?ne.getUTCMinutes():0,second:U?ne.getUTCSeconds():0}}function Ts(C){if(C.const||C.enum&&C.enum.length===1&&C.enum[0]===!0)return!0;if(C.anyOf&&C.anyOf.length===1)return Ts(C.anyOf[0]);if(C.oneOf&&C.oneOf.length===1)return Ts(C.oneOf[0]);if(C.allOf){var U=function(we){return Ts(we)};return C.allOf.some(U)}return!1}function Bs(C,U,ne){var we=C.props,_e=C.state;return!es(we,U)||!es(_e,ne)}function ua(C,U){U===void 0&&(U=!0);var ne=C.year,we=C.month,_e=C.day,Fe=C.hour,at=Fe===void 0?0:Fe,Rt=C.minute,Pt=Rt===void 0?0:Rt,ar=C.second,vr=ar===void 0?0:ar,Ar=Date.UTC(ne,we-1,_e,at,Pt,vr),Wr=new Date(Ar).toJSON();return U?Wr:Wr.slice(0,10)}function Ws(C,U){if(U===void 0&&(U=[]),!C)return[];var ne=[];return ti in C&&(ne=ne.concat(C[ti].map(function(we){var _e="."+U.join(".");return{property:_e,message:we,stack:_e+" "+we}}))),Object.keys(C).reduce(function(we,_e){if(_e!==ti){var Fe=C[_e];(0,o.Z)(Fe)&&(we=we.concat(Ws(Fe,[].concat(U,[_e]))))}return we},ne)}function Qs(C){var U=new ga;return C.length&&C.forEach(function(ne){var we=ne.property,_e=ne.message,Fe=we==="."?[]:(0,Rs.Z)(we);Fe.length>0&&Fe[0]===""&&Fe.splice(0,1),_e&&U.addErrors(_e,Fe)}),U.ErrorSchema}function Ia(C){return Object.keys(C).reduce(function(U,ne){if(ne==="addError")return U;var we,_e=C[ne];if((0,o.Z)(_e)){var Fe;return pn({},U,(Fe={},Fe[ne]=Ia(_e),Fe))}return pn({},U,(we={},we[ne]=_e,we))},{})}function Ro(C){if(!C)return"";var U=new Date(C),ne=vs(U.getFullYear(),4),we=vs(U.getMonth()+1,2),_e=vs(U.getDate(),2),Fe=vs(U.getHours(),2),at=vs(U.getMinutes(),2),Rt=vs(U.getSeconds(),2),Pt=vs(U.getMilliseconds(),3);return ne+"-"+we+"-"+_e+"T"+Fe+":"+at+":"+Rt+"."+Pt}function Go(C,U){if(!U)return C;var ne=C.errors,we=C.errorSchema,_e=Ws(U),Fe=U;return(0,Lr.Z)(we)||(Fe=js(we,U,!0),_e=[].concat(ne).concat(_e)),{errorSchema:Fe,errors:_e}}function _s(C){for(var U in C){var ne=C,we=ne[U];U===ri&&typeof we=="string"&&we.startsWith("#")?ne[U]=Dr+we:ne[U]=Zs(we)}return C}function Ra(C){for(var U=0;U<C.length;U++)C[U]=Zs(C[U]);return C}function Zs(C){return C.constructor===Object?_s(pn({},C)):Array.isArray(C)?Ra([].concat(C)):C}var Ds;(function(C){C.ArrayItemTitle="Item",C.MissingItems="Missing items definition",C.YesLabel="Yes",C.NoLabel="No",C.CloseLabel="Close",C.ErrorsLabel="Errors",C.NewStringDefault="New Value",C.AddButton="Add",C.AddItemButton="Add Item",C.CopyButton="Copy",C.MoveDownButton="Move down",C.MoveUpButton="Move up",C.RemoveButton="Remove",C.NowLabel="Now",C.ClearLabel="Clear",C.AriaDateLabel="Select a date",C.PreviewLabel="Preview",C.DecrementAriaLabel="Decrease value by 1",C.IncrementAriaLabel="Increase value by 1",C.UnknownFieldType="Unknown field type %1",C.OptionPrefix="Option %1",C.TitleOptionPrefix="%1 option %2",C.KeyLabel="%1 Key",C.InvalidObjectField='Invalid "%1" object field configuration: <em>%2</em>.',C.UnsupportedField="Unsupported field schema.",C.UnsupportedFieldWithId="Unsupported field schema for field <code>%1</code>.",C.UnsupportedFieldWithReason="Unsupported field schema: <em>%1</em>.",C.UnsupportedFieldWithIdAndReason="Unsupported field schema for field <code>%1</code>: <em>%2</em>.",C.FilesInfo="<strong>%1</strong> (%2, %3 bytes)"})(Ds||(Ds={}))},3659:function(Te,b){"use strict";/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a=Symbol.for("react.element"),o=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),D=Symbol.for("react.context"),N=Symbol.for("react.server_context"),R=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),oe;oe=Symbol.for("react.module.reference");function ye(F){if(typeof F=="object"&&F!==null){var G=F.$$typeof;switch(G){case a:switch(F=F.type,F){case m:case O:case I:case $:case z:return F;default:switch(F=F&&F.$$typeof,F){case N:case D:case R:case ee:case J:case _:return F;default:return G}}case o:return G}}}b.ContextConsumer=D,b.ContextProvider=_,b.Element=a,b.ForwardRef=R,b.Fragment=m,b.Lazy=ee,b.Memo=J,b.Portal=o,b.Profiler=O,b.StrictMode=I,b.Suspense=$,b.SuspenseList=z,b.isAsyncMode=function(){return!1},b.isConcurrentMode=function(){return!1},b.isContextConsumer=function(F){return ye(F)===D},b.isContextProvider=function(F){return ye(F)===_},b.isElement=function(F){return typeof F=="object"&&F!==null&&F.$$typeof===a},b.isForwardRef=function(F){return ye(F)===R},b.isFragment=function(F){return ye(F)===m},b.isLazy=function(F){return ye(F)===ee},b.isMemo=function(F){return ye(F)===J},b.isPortal=function(F){return ye(F)===o},b.isProfiler=function(F){return ye(F)===O},b.isStrictMode=function(F){return ye(F)===I},b.isSuspense=function(F){return ye(F)===$},b.isSuspenseList=function(F){return ye(F)===z},b.isValidElementType=function(F){return typeof F=="string"||typeof F=="function"||F===m||F===O||F===I||F===$||F===z||F===re||typeof F=="object"&&F!==null&&(F.$$typeof===ee||F.$$typeof===J||F.$$typeof===_||F.$$typeof===D||F.$$typeof===R||F.$$typeof===oe||F.getModuleId!==void 0)},b.typeOf=ye},63708:function(Te,b,a){"use strict";Te.exports=a(3659)},39362:function(Te,b,a){"use strict";a.d(b,{Z:function(){return G}});var o=a(90772),m=a(27292),I=a(98892),O=a.n(I),_=a(97540),D=a.n(_),N=a(93122);function R(){return R=Object.assign?Object.assign.bind():function(Se){for(var se=1;se<arguments.length;se++){var fe=arguments[se];for(var be in fe)Object.prototype.hasOwnProperty.call(fe,be)&&(Se[be]=fe[be])}return Se},R.apply(this,arguments)}function $(Se,se){if(Se==null)return{};var fe={},be=Object.keys(Se),te,M;for(M=0;M<be.length;M++)te=be[M],!(se.indexOf(te)>=0)&&(fe[te]=Se[te]);return fe}var z={allErrors:!0,multipleOfPrecision:8,strict:!1,verbose:!0},J=/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,ee=/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/;function re(Se,se,fe,be,te){fe===void 0&&(fe={}),te===void 0&&(te=O());var M=new te(R({},z,fe));return be?D()(M,be):be!==!1&&D()(M),M.addFormat("data-url",ee),M.addFormat("color",J),M.addKeyword(m.jk),M.addKeyword(m.g$),Array.isArray(Se)&&M.addMetaSchema(Se),(0,N.Z)(se)&&Object.keys(se).forEach(function(xe){M.addFormat(xe,se[xe])}),M}var oe=["instancePath","keyword","params","schemaPath","parentSchema"],ye=function(){function Se(fe,be){this.ajv=void 0,this.localizer=void 0;var te=fe.additionalMetaSchemas,M=fe.customFormats,xe=fe.ajvOptionsOverrides,Le=fe.ajvFormatOptions,Ce=fe.AjvClass;this.ajv=re(te,M,xe,Le,Ce),this.localizer=be}var se=Se.prototype;return se.toErrorList=function(be,te){return te===void 0&&(te=[]),(0,m.mp)(be,te)},se.transformRJSFValidationErrors=function(be,te){return be===void 0&&(be=[]),be.map(function(M){var xe=M.instancePath,Le=M.keyword,Ce=M.params,Ke=M.schemaPath,Xe=M.parentSchema,dt=$(M,oe),st=dt.message,Ge=st===void 0?"":st,_t=xe.replace(/\//g,"."),or=(_t+" "+Ge).trim();if("missingProperty"in Ce){_t=_t?_t+"."+Ce.missingProperty:Ce.missingProperty;var St=Ce.missingProperty,xt=(0,m.LI)((0,o.Z)(te,""+_t.replace(/^\./,""))).title;if(xt)Ge=Ge.replace(St,xt);else{var mt=(0,o.Z)(Xe,[m.MA,St,"title"]);mt&&(Ge=Ge.replace(St,mt))}or=Ge}else{var Re=(0,m.LI)((0,o.Z)(te,""+_t.replace(/^\./,""))).title;if(Re)or=("'"+Re+"' "+Ge).trim();else{var yt=Xe==null?void 0:Xe.title;yt&&(or=("'"+yt+"' "+Ge).trim())}}return{name:Le,property:_t,message:Ge,params:Ce,stack:or,schemaPath:Ke}})},se.rawValidation=function(be,te){var M=void 0,xe;be.$id&&(xe=this.ajv.getSchema(be.$id));try{xe===void 0&&(xe=this.ajv.compile(be)),xe(te)}catch(Ce){M=Ce}var Le;return xe&&(typeof this.localizer=="function"&&this.localizer(xe.errors),Le=xe.errors||void 0,xe.errors=null),{errors:Le,validationError:M}},se.validateFormData=function(be,te,M,xe,Le){var Ce=this.rawValidation(te,be),Ke=Ce.validationError,Xe=this.transformRJSFValidationErrors(Ce.errors,Le);Ke&&(Xe=[].concat(Xe,[{stack:Ke.message}])),typeof xe=="function"&&(Xe=xe(Xe,Le));var dt=(0,m.y5)(Xe);if(Ke&&(dt=R({},dt,{$schema:{__errors:[Ke.message]}})),typeof M!="function")return{errors:Xe,errorSchema:dt};var st=(0,m.Tx)(this,te,be,te,!0),Ge=M(st,(0,m.v$)(st),Le),_t=(0,m.yv)(Ge);return(0,m.J0)({errors:Xe,errorSchema:dt},_t)},se.isValid=function(be,te,M){var xe,Le=(xe=M.$id)!=null?xe:m.dW;try{this.ajv.getSchema(Le)===void 0&&this.ajv.addSchema(M,Le);var Ce=(0,m.RQ)(be),Ke;Ce.$id&&(Ke=this.ajv.getSchema(Ce.$id)),Ke===void 0&&(Ke=this.ajv.compile(Ce));var Xe=Ke(te);return Xe}catch(dt){return console.warn("Error encountered compiling schema:",dt),!1}finally{this.ajv.removeSchema(Le)}},Se}();function F(Se,se){return Se===void 0&&(Se={}),new ye(Se,se)}var G=F()},78127:function(Te,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.formatNames=b.fastFormats=b.fullFormats=void 0;function a(xe,Le){return{validate:xe,compare:Le}}b.fullFormats={date:a(O,_),time:a(N,R),"date-time":a(z,J),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:oe,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:M,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:F,int32:{type:"number",validate:se},int64:{type:"number",validate:fe},float:{type:"number",validate:be},double:{type:"number",validate:be},password:!0,binary:!0},b.fastFormats={...b.fullFormats,date:a(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,_),time:a(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,R),"date-time":a(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,J),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},b.formatNames=Object.keys(b.fullFormats);function o(xe){return xe%4===0&&(xe%100!==0||xe%400===0)}const m=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,I=[0,31,28,31,30,31,30,31,31,30,31,30,31];function O(xe){const Le=m.exec(xe);if(!Le)return!1;const Ce=+Le[1],Ke=+Le[2],Xe=+Le[3];return Ke>=1&&Ke<=12&&Xe>=1&&Xe<=(Ke===2&&o(Ce)?29:I[Ke])}function _(xe,Le){if(xe&&Le)return xe>Le?1:xe<Le?-1:0}const D=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function N(xe,Le){const Ce=D.exec(xe);if(!Ce)return!1;const Ke=+Ce[1],Xe=+Ce[2],dt=+Ce[3],st=Ce[5];return(Ke<=23&&Xe<=59&&dt<=59||Ke===23&&Xe===59&&dt===60)&&(!Le||st!=="")}function R(xe,Le){if(!(xe&&Le))return;const Ce=D.exec(xe),Ke=D.exec(Le);if(Ce&&Ke)return xe=Ce[1]+Ce[2]+Ce[3]+(Ce[4]||""),Le=Ke[1]+Ke[2]+Ke[3]+(Ke[4]||""),xe>Le?1:xe<Le?-1:0}const $=/t|\s/i;function z(xe){const Le=xe.split($);return Le.length===2&&O(Le[0])&&N(Le[1],!0)}function J(xe,Le){if(!(xe&&Le))return;const[Ce,Ke]=xe.split($),[Xe,dt]=Le.split($),st=_(Ce,Xe);if(st!==void 0)return st||R(Ke,dt)}const ee=/\/|:/,re=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function oe(xe){return ee.test(xe)&&re.test(xe)}const ye=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function F(xe){return ye.lastIndex=0,ye.test(xe)}const G=-(2**31),Se=2**31-1;function se(xe){return Number.isInteger(xe)&&xe<=Se&&xe>=G}function fe(xe){return Number.isInteger(xe)}function be(){return!0}const te=/[^\\]\\Z/;function M(xe){if(te.test(xe))return!1;try{return new RegExp(xe),!0}catch{return!1}}},97540:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(78127),m=a(38273),I=a(45117),O=new I.Name("fullFormats"),_=new I.Name("fastFormats"),D=(R,$={keywords:!0})=>{if(Array.isArray($))return N(R,$,o.fullFormats,O),R;const[z,J]=$.mode==="fast"?[o.fastFormats,_]:[o.fullFormats,O],ee=$.formats||o.formatNames;return N(R,ee,z,J),$.keywords&&m.default(R),R};D.get=(R,$="full")=>{const J=($==="fast"?o.fastFormats:o.fullFormats)[R];if(!J)throw new Error(`Unknown format "${R}"`);return J};function N(R,$,z,J){var ee,re;(ee=(re=R.opts.code).formats)!==null&&ee!==void 0||(re.formats=I._`require("ajv-formats/dist/formats").${J}`);for(const oe of $)R.addFormat(oe,z[oe])}Te.exports=b=D,Object.defineProperty(b,"__esModule",{value:!0}),b.default=D},38273:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.formatLimitDefinition=void 0;const o=a(98892),m=a(45117),I=m.operators,O={formatMaximum:{okStr:"<=",ok:I.LTE,fail:I.GT},formatMinimum:{okStr:">=",ok:I.GTE,fail:I.LT},formatExclusiveMaximum:{okStr:"<",ok:I.LT,fail:I.GTE},formatExclusiveMinimum:{okStr:">",ok:I.GT,fail:I.LTE}},_={message:({keyword:N,schemaCode:R})=>m.str`should be ${O[N].okStr} ${R}`,params:({keyword:N,schemaCode:R})=>m._`{comparison: ${O[N].okStr}, limit: ${R}}`};b.formatLimitDefinition={keyword:Object.keys(O),type:"string",schemaType:"string",$data:!0,error:_,code(N){const{gen:R,data:$,schemaCode:z,keyword:J,it:ee}=N,{opts:re,self:oe}=ee;if(!re.validateFormats)return;const ye=new o.KeywordCxt(ee,oe.RULES.all.format.definition,"format");ye.$data?F():G();function F(){const se=R.scopeValue("formats",{ref:oe.formats,code:re.code.formats}),fe=R.const("fmt",m._`${se}[${ye.schemaCode}]`);N.fail$data(m.or(m._`typeof ${fe} != "object"`,m._`${fe} instanceof RegExp`,m._`typeof ${fe}.compare != "function"`,Se(fe)))}function G(){const se=ye.schema,fe=oe.formats[se];if(!fe||fe===!0)return;if(typeof fe!="object"||fe instanceof RegExp||typeof fe.compare!="function")throw new Error(`"${J}": format "${se}" does not define "compare" function`);const be=R.scopeValue("formats",{key:se,ref:fe,code:re.code.formats?m._`${re.code.formats}${m.getProperty(se)}`:void 0});N.fail$data(Se(be))}function Se(se){return m._`${se}.compare(${$}, ${z}) ${O[J].fail} 0`}},dependencies:["format"]};const D=N=>(N.addKeyword(b.formatLimitDefinition),N);b.default=D},98892:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MissingRefError=b.ValidationError=b.CodeGen=b.Name=b.nil=b.stringify=b.str=b._=b.KeywordCxt=void 0;const o=a(29414),m=a(6797),I=a(72360),O=a(22396),_=["/properties"],D="http://json-schema.org/draft-07/schema";class N extends o.default{_addVocabularies(){super._addVocabularies(),m.default.forEach(re=>this.addVocabulary(re)),this.opts.discriminator&&this.addKeyword(I.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const re=this.opts.$data?this.$dataMetaSchema(O,_):O;this.addMetaSchema(re,D,!1),this.refs["http://json-schema.org/schema"]=D}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(D)?D:void 0)}}Te.exports=b=N,Object.defineProperty(b,"__esModule",{value:!0}),b.default=N;var R=a(53970);Object.defineProperty(b,"KeywordCxt",{enumerable:!0,get:function(){return R.KeywordCxt}});var $=a(45117);Object.defineProperty(b,"_",{enumerable:!0,get:function(){return $._}}),Object.defineProperty(b,"str",{enumerable:!0,get:function(){return $.str}}),Object.defineProperty(b,"stringify",{enumerable:!0,get:function(){return $.stringify}}),Object.defineProperty(b,"nil",{enumerable:!0,get:function(){return $.nil}}),Object.defineProperty(b,"Name",{enumerable:!0,get:function(){return $.Name}}),Object.defineProperty(b,"CodeGen",{enumerable:!0,get:function(){return $.CodeGen}});var z=a(65282);Object.defineProperty(b,"ValidationError",{enumerable:!0,get:function(){return z.default}});var J=a(97566);Object.defineProperty(b,"MissingRefError",{enumerable:!0,get:function(){return J.default}})},28044:function(Te,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.regexpCode=b.getEsmExportName=b.getProperty=b.safeStringify=b.stringify=b.strConcat=b.addCodeArg=b.str=b._=b.nil=b._Code=b.Name=b.IDENTIFIER=b._CodeOrName=void 0;class a{}b._CodeOrName=a,b.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class o extends a{constructor(G){if(super(),!b.IDENTIFIER.test(G))throw new Error("CodeGen: name must be a valid identifier");this.str=G}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}b.Name=o;class m extends a{constructor(G){super(),this._items=typeof G=="string"?[G]:G}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const G=this._items[0];return G===""||G==='""'}get str(){var G;return(G=this._str)!==null&&G!==void 0?G:this._str=this._items.reduce((Se,se)=>`${Se}${se}`,"")}get names(){var G;return(G=this._names)!==null&&G!==void 0?G:this._names=this._items.reduce((Se,se)=>(se instanceof o&&(Se[se.str]=(Se[se.str]||0)+1),Se),{})}}b._Code=m,b.nil=new m("");function I(F,...G){const Se=[F[0]];let se=0;for(;se<G.length;)D(Se,G[se]),Se.push(F[++se]);return new m(Se)}b._=I;const O=new m("+");function _(F,...G){const Se=[ee(F[0])];let se=0;for(;se<G.length;)Se.push(O),D(Se,G[se]),Se.push(O,ee(F[++se]));return N(Se),new m(Se)}b.str=_;function D(F,G){G instanceof m?F.push(...G._items):G instanceof o?F.push(G):F.push(z(G))}b.addCodeArg=D;function N(F){let G=1;for(;G<F.length-1;){if(F[G]===O){const Se=R(F[G-1],F[G+1]);if(Se!==void 0){F.splice(G-1,3,Se);continue}F[G++]="+"}G++}}function R(F,G){if(G==='""')return F;if(F==='""')return G;if(typeof F=="string")return G instanceof o||F[F.length-1]!=='"'?void 0:typeof G!="string"?`${F.slice(0,-1)}${G}"`:G[0]==='"'?F.slice(0,-1)+G.slice(1):void 0;if(typeof G=="string"&&G[0]==='"'&&!(F instanceof o))return`"${F}${G.slice(1)}`}function $(F,G){return G.emptyStr()?F:F.emptyStr()?G:_`${F}${G}`}b.strConcat=$;function z(F){return typeof F=="number"||typeof F=="boolean"||F===null?F:ee(Array.isArray(F)?F.join(","):F)}function J(F){return new m(ee(F))}b.stringify=J;function ee(F){return JSON.stringify(F).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}b.safeStringify=ee;function re(F){return typeof F=="string"&&b.IDENTIFIER.test(F)?new m(`.${F}`):I`[${F}]`}b.getProperty=re;function oe(F){if(typeof F=="string"&&b.IDENTIFIER.test(F))return new m(`${F}`);throw new Error(`CodeGen: invalid export name: ${F}, use explicit $id name mapping`)}b.getEsmExportName=oe;function ye(F){return new m(F.toString())}b.regexpCode=ye},45117:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.or=b.and=b.not=b.CodeGen=b.operators=b.varKinds=b.ValueScopeName=b.ValueScope=b.Scope=b.Name=b.regexpCode=b.stringify=b.getProperty=b.nil=b.strConcat=b.str=b._=void 0;const o=a(28044),m=a(36001);var I=a(28044);Object.defineProperty(b,"_",{enumerable:!0,get:function(){return I._}}),Object.defineProperty(b,"str",{enumerable:!0,get:function(){return I.str}}),Object.defineProperty(b,"strConcat",{enumerable:!0,get:function(){return I.strConcat}}),Object.defineProperty(b,"nil",{enumerable:!0,get:function(){return I.nil}}),Object.defineProperty(b,"getProperty",{enumerable:!0,get:function(){return I.getProperty}}),Object.defineProperty(b,"stringify",{enumerable:!0,get:function(){return I.stringify}}),Object.defineProperty(b,"regexpCode",{enumerable:!0,get:function(){return I.regexpCode}}),Object.defineProperty(b,"Name",{enumerable:!0,get:function(){return I.Name}});var O=a(36001);Object.defineProperty(b,"Scope",{enumerable:!0,get:function(){return O.Scope}}),Object.defineProperty(b,"ValueScope",{enumerable:!0,get:function(){return O.ValueScope}}),Object.defineProperty(b,"ValueScopeName",{enumerable:!0,get:function(){return O.ValueScopeName}}),Object.defineProperty(b,"varKinds",{enumerable:!0,get:function(){return O.varKinds}}),b.operators={GT:new o._Code(">"),GTE:new o._Code(">="),LT:new o._Code("<"),LTE:new o._Code("<="),EQ:new o._Code("==="),NEQ:new o._Code("!=="),NOT:new o._Code("!"),OR:new o._Code("||"),AND:new o._Code("&&"),ADD:new o._Code("+")};class _{optimizeNodes(){return this}optimizeNames(de,$e){return this}}class D extends _{constructor(de,$e,lt){super(),this.varKind=de,this.name=$e,this.rhs=lt}render({es5:de,_n:$e}){const lt=de?m.varKinds.var:this.varKind,Dt=this.rhs===void 0?"":` = ${this.rhs}`;return`${lt} ${this.name}${Dt};`+$e}optimizeNames(de,$e){if(de[this.name.str])return this.rhs&&(this.rhs=st(this.rhs,de,$e)),this}get names(){return this.rhs instanceof o._CodeOrName?this.rhs.names:{}}}class N extends _{constructor(de,$e,lt){super(),this.lhs=de,this.rhs=$e,this.sideEffects=lt}render({_n:de}){return`${this.lhs} = ${this.rhs};`+de}optimizeNames(de,$e){if(!(this.lhs instanceof o.Name&&!de[this.lhs.str]&&!this.sideEffects))return this.rhs=st(this.rhs,de,$e),this}get names(){const de=this.lhs instanceof o.Name?{}:{...this.lhs.names};return dt(de,this.rhs)}}class R extends N{constructor(de,$e,lt,Dt){super(de,lt,Dt),this.op=$e}render({_n:de}){return`${this.lhs} ${this.op}= ${this.rhs};`+de}}class $ extends _{constructor(de){super(),this.label=de,this.names={}}render({_n:de}){return`${this.label}:`+de}}class z extends _{constructor(de){super(),this.label=de,this.names={}}render({_n:de}){return`break${this.label?` ${this.label}`:""};`+de}}class J extends _{constructor(de){super(),this.error=de}render({_n:de}){return`throw ${this.error};`+de}get names(){return this.error.names}}class ee extends _{constructor(de){super(),this.code=de}render({_n:de}){return`${this.code};`+de}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(de,$e){return this.code=st(this.code,de,$e),this}get names(){return this.code instanceof o._CodeOrName?this.code.names:{}}}class re extends _{constructor(de=[]){super(),this.nodes=de}render(de){return this.nodes.reduce(($e,lt)=>$e+lt.render(de),"")}optimizeNodes(){const{nodes:de}=this;let $e=de.length;for(;$e--;){const lt=de[$e].optimizeNodes();Array.isArray(lt)?de.splice($e,1,...lt):lt?de[$e]=lt:de.splice($e,1)}return de.length>0?this:void 0}optimizeNames(de,$e){const{nodes:lt}=this;let Dt=lt.length;for(;Dt--;){const Gt=lt[Dt];Gt.optimizeNames(de,$e)||(Ge(de,Gt.names),lt.splice(Dt,1))}return lt.length>0?this:void 0}get names(){return this.nodes.reduce((de,$e)=>Xe(de,$e.names),{})}}class oe extends re{render(de){return"{"+de._n+super.render(de)+"}"+de._n}}class ye extends re{}class F extends oe{}F.kind="else";class G extends oe{constructor(de,$e){super($e),this.condition=de}render(de){let $e=`if(${this.condition})`+super.render(de);return this.else&&($e+="else "+this.else.render(de)),$e}optimizeNodes(){super.optimizeNodes();const de=this.condition;if(de===!0)return this.nodes;let $e=this.else;if($e){const lt=$e.optimizeNodes();$e=this.else=Array.isArray(lt)?new F(lt):lt}if($e)return de===!1?$e instanceof G?$e:$e.nodes:this.nodes.length?this:new G(_t(de),$e instanceof G?[$e]:$e.nodes);if(!(de===!1||!this.nodes.length))return this}optimizeNames(de,$e){var lt;if(this.else=(lt=this.else)===null||lt===void 0?void 0:lt.optimizeNames(de,$e),!!(super.optimizeNames(de,$e)||this.else))return this.condition=st(this.condition,de,$e),this}get names(){const de=super.names;return dt(de,this.condition),this.else&&Xe(de,this.else.names),de}}G.kind="if";class Se extends oe{}Se.kind="for";class se extends Se{constructor(de){super(),this.iteration=de}render(de){return`for(${this.iteration})`+super.render(de)}optimizeNames(de,$e){if(super.optimizeNames(de,$e))return this.iteration=st(this.iteration,de,$e),this}get names(){return Xe(super.names,this.iteration.names)}}class fe extends Se{constructor(de,$e,lt,Dt){super(),this.varKind=de,this.name=$e,this.from=lt,this.to=Dt}render(de){const $e=de.es5?m.varKinds.var:this.varKind,{name:lt,from:Dt,to:Gt}=this;return`for(${$e} ${lt}=${Dt}; ${lt}<${Gt}; ${lt}++)`+super.render(de)}get names(){const de=dt(super.names,this.from);return dt(de,this.to)}}class be extends Se{constructor(de,$e,lt,Dt){super(),this.loop=de,this.varKind=$e,this.name=lt,this.iterable=Dt}render(de){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(de)}optimizeNames(de,$e){if(super.optimizeNames(de,$e))return this.iterable=st(this.iterable,de,$e),this}get names(){return Xe(super.names,this.iterable.names)}}class te extends oe{constructor(de,$e,lt){super(),this.name=de,this.args=$e,this.async=lt}render(de){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(de)}}te.kind="func";class M extends re{render(de){return"return "+super.render(de)}}M.kind="return";class xe extends oe{render(de){let $e="try"+super.render(de);return this.catch&&($e+=this.catch.render(de)),this.finally&&($e+=this.finally.render(de)),$e}optimizeNodes(){var de,$e;return super.optimizeNodes(),(de=this.catch)===null||de===void 0||de.optimizeNodes(),($e=this.finally)===null||$e===void 0||$e.optimizeNodes(),this}optimizeNames(de,$e){var lt,Dt;return super.optimizeNames(de,$e),(lt=this.catch)===null||lt===void 0||lt.optimizeNames(de,$e),(Dt=this.finally)===null||Dt===void 0||Dt.optimizeNames(de,$e),this}get names(){const de=super.names;return this.catch&&Xe(de,this.catch.names),this.finally&&Xe(de,this.finally.names),de}}class Le extends oe{constructor(de){super(),this.error=de}render(de){return`catch(${this.error})`+super.render(de)}}Le.kind="catch";class Ce extends oe{render(de){return"finally"+super.render(de)}}Ce.kind="finally";class Ke{constructor(de,$e={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...$e,_n:$e.lines?`
`:""},this._extScope=de,this._scope=new m.Scope({parent:de}),this._nodes=[new ye]}toString(){return this._root.render(this.opts)}name(de){return this._scope.name(de)}scopeName(de){return this._extScope.name(de)}scopeValue(de,$e){const lt=this._extScope.value(de,$e);return(this._values[lt.prefix]||(this._values[lt.prefix]=new Set)).add(lt),lt}getScopeValue(de,$e){return this._extScope.getValue(de,$e)}scopeRefs(de){return this._extScope.scopeRefs(de,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(de,$e,lt,Dt){const Gt=this._scope.toName($e);return lt!==void 0&&Dt&&(this._constants[Gt.str]=lt),this._leafNode(new D(de,Gt,lt)),Gt}const(de,$e,lt){return this._def(m.varKinds.const,de,$e,lt)}let(de,$e,lt){return this._def(m.varKinds.let,de,$e,lt)}var(de,$e,lt){return this._def(m.varKinds.var,de,$e,lt)}assign(de,$e,lt){return this._leafNode(new N(de,$e,lt))}add(de,$e){return this._leafNode(new R(de,b.operators.ADD,$e))}code(de){return typeof de=="function"?de():de!==o.nil&&this._leafNode(new ee(de)),this}object(...de){const $e=["{"];for(const[lt,Dt]of de)$e.length>1&&$e.push(","),$e.push(lt),(lt!==Dt||this.opts.es5)&&($e.push(":"),(0,o.addCodeArg)($e,Dt));return $e.push("}"),new o._Code($e)}if(de,$e,lt){if(this._blockNode(new G(de)),$e&&lt)this.code($e).else().code(lt).endIf();else if($e)this.code($e).endIf();else if(lt)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(de){return this._elseNode(new G(de))}else(){return this._elseNode(new F)}endIf(){return this._endBlockNode(G,F)}_for(de,$e){return this._blockNode(de),$e&&this.code($e).endFor(),this}for(de,$e){return this._for(new se(de),$e)}forRange(de,$e,lt,Dt,Gt=this.opts.es5?m.varKinds.var:m.varKinds.let){const Pr=this._scope.toName(de);return this._for(new fe(Gt,Pr,$e,lt),()=>Dt(Pr))}forOf(de,$e,lt,Dt=m.varKinds.const){const Gt=this._scope.toName(de);if(this.opts.es5){const Pr=$e instanceof o.Name?$e:this.var("_arr",$e);return this.forRange("_i",0,(0,o._)`${Pr}.length`,Ze=>{this.var(Gt,(0,o._)`${Pr}[${Ze}]`),lt(Gt)})}return this._for(new be("of",Dt,Gt,$e),()=>lt(Gt))}forIn(de,$e,lt,Dt=this.opts.es5?m.varKinds.var:m.varKinds.const){if(this.opts.ownProperties)return this.forOf(de,(0,o._)`Object.keys(${$e})`,lt);const Gt=this._scope.toName(de);return this._for(new be("in",Dt,Gt,$e),()=>lt(Gt))}endFor(){return this._endBlockNode(Se)}label(de){return this._leafNode(new $(de))}break(de){return this._leafNode(new z(de))}return(de){const $e=new M;if(this._blockNode($e),this.code(de),$e.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(M)}try(de,$e,lt){if(!$e&&!lt)throw new Error('CodeGen: "try" without "catch" and "finally"');const Dt=new xe;if(this._blockNode(Dt),this.code(de),$e){const Gt=this.name("e");this._currNode=Dt.catch=new Le(Gt),$e(Gt)}return lt&&(this._currNode=Dt.finally=new Ce,this.code(lt)),this._endBlockNode(Le,Ce)}throw(de){return this._leafNode(new J(de))}block(de,$e){return this._blockStarts.push(this._nodes.length),de&&this.code(de).endBlock($e),this}endBlock(de){const $e=this._blockStarts.pop();if($e===void 0)throw new Error("CodeGen: not in self-balancing block");const lt=this._nodes.length-$e;if(lt<0||de!==void 0&&lt!==de)throw new Error(`CodeGen: wrong number of nodes: ${lt} vs ${de} expected`);return this._nodes.length=$e,this}func(de,$e=o.nil,lt,Dt){return this._blockNode(new te(de,$e,lt)),Dt&&this.code(Dt).endFunc(),this}endFunc(){return this._endBlockNode(te)}optimize(de=1){for(;de-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(de){return this._currNode.nodes.push(de),this}_blockNode(de){this._currNode.nodes.push(de),this._nodes.push(de)}_endBlockNode(de,$e){const lt=this._currNode;if(lt instanceof de||$e&&lt instanceof $e)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${$e?`${de.kind}/${$e.kind}`:de.kind}"`)}_elseNode(de){const $e=this._currNode;if(!($e instanceof G))throw new Error('CodeGen: "else" without "if"');return this._currNode=$e.else=de,this}get _root(){return this._nodes[0]}get _currNode(){const de=this._nodes;return de[de.length-1]}set _currNode(de){const $e=this._nodes;$e[$e.length-1]=de}}b.CodeGen=Ke;function Xe(ot,de){for(const $e in de)ot[$e]=(ot[$e]||0)+(de[$e]||0);return ot}function dt(ot,de){return de instanceof o._CodeOrName?Xe(ot,de.names):ot}function st(ot,de,$e){if(ot instanceof o.Name)return lt(ot);if(!Dt(ot))return ot;return new o._Code(ot._items.reduce((Gt,Pr)=>(Pr instanceof o.Name&&(Pr=lt(Pr)),Pr instanceof o._Code?Gt.push(...Pr._items):Gt.push(Pr),Gt),[]));function lt(Gt){const Pr=$e[Gt.str];return Pr===void 0||de[Gt.str]!==1?Gt:(delete de[Gt.str],Pr)}function Dt(Gt){return Gt instanceof o._Code&&Gt._items.some(Pr=>Pr instanceof o.Name&&de[Pr.str]===1&&$e[Pr.str]!==void 0)}}function Ge(ot,de){for(const $e in de)ot[$e]=(ot[$e]||0)-(de[$e]||0)}function _t(ot){return typeof ot=="boolean"||typeof ot=="number"||ot===null?!ot:(0,o._)`!${yt(ot)}`}b.not=_t;const or=Re(b.operators.AND);function St(...ot){return ot.reduce(or)}b.and=St;const xt=Re(b.operators.OR);function mt(...ot){return ot.reduce(xt)}b.or=mt;function Re(ot){return(de,$e)=>de===o.nil?$e:$e===o.nil?de:(0,o._)`${yt(de)} ${ot} ${yt($e)}`}function yt(ot){return ot instanceof o.Name?ot:(0,o._)`(${ot})`}},36001:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ValueScope=b.ValueScopeName=b.Scope=b.varKinds=b.UsedValueState=void 0;const o=a(28044);class m extends Error{constructor($){super(`CodeGen: "code" for ${$} not defined`),this.value=$.value}}var I;(function(R){R[R.Started=0]="Started",R[R.Completed=1]="Completed"})(I=b.UsedValueState||(b.UsedValueState={})),b.varKinds={const:new o.Name("const"),let:new o.Name("let"),var:new o.Name("var")};class O{constructor({prefixes:$,parent:z}={}){this._names={},this._prefixes=$,this._parent=z}toName($){return $ instanceof o.Name?$:this.name($)}name($){return new o.Name(this._newName($))}_newName($){const z=this._names[$]||this._nameGroup($);return`${$}${z.index++}`}_nameGroup($){var z,J;if(!((J=(z=this._parent)===null||z===void 0?void 0:z._prefixes)===null||J===void 0)&&J.has($)||this._prefixes&&!this._prefixes.has($))throw new Error(`CodeGen: prefix "${$}" is not allowed in this scope`);return this._names[$]={prefix:$,index:0}}}b.Scope=O;class _ extends o.Name{constructor($,z){super(z),this.prefix=$}setValue($,{property:z,itemIndex:J}){this.value=$,this.scopePath=(0,o._)`.${new o.Name(z)}[${J}]`}}b.ValueScopeName=_;const D=(0,o._)`\n`;class N extends O{constructor($){super($),this._values={},this._scope=$.scope,this.opts={...$,_n:$.lines?D:o.nil}}get(){return this._scope}name($){return new _($,this._newName($))}value($,z){var J;if(z.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const ee=this.toName($),{prefix:re}=ee,oe=(J=z.key)!==null&&J!==void 0?J:z.ref;let ye=this._values[re];if(ye){const Se=ye.get(oe);if(Se)return Se}else ye=this._values[re]=new Map;ye.set(oe,ee);const F=this._scope[re]||(this._scope[re]=[]),G=F.length;return F[G]=z.ref,ee.setValue(z,{property:re,itemIndex:G}),ee}getValue($,z){const J=this._values[$];if(J)return J.get(z)}scopeRefs($,z=this._values){return this._reduceValues(z,J=>{if(J.scopePath===void 0)throw new Error(`CodeGen: name "${J}" has no value`);return(0,o._)`${$}${J.scopePath}`})}scopeCode($=this._values,z,J){return this._reduceValues($,ee=>{if(ee.value===void 0)throw new Error(`CodeGen: name "${ee}" has no value`);return ee.value.code},z,J)}_reduceValues($,z,J={},ee){let re=o.nil;for(const oe in $){const ye=$[oe];if(!ye)continue;const F=J[oe]=J[oe]||new Map;ye.forEach(G=>{if(F.has(G))return;F.set(G,I.Started);let Se=z(G);if(Se){const se=this.opts.es5?b.varKinds.var:b.varKinds.const;re=(0,o._)`${re}${se} ${G} = ${Se};${this.opts._n}`}else if(Se=ee==null?void 0:ee(G))re=(0,o._)`${re}${Se}${this.opts._n}`;else throw new m(G);F.set(G,I.Completed)})}return re}}b.ValueScope=N},19606:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.extendErrors=b.resetErrorsCount=b.reportExtraError=b.reportError=b.keyword$DataError=b.keywordError=void 0;const o=a(45117),m=a(79812),I=a(93239);b.keywordError={message:({keyword:F})=>(0,o.str)`must pass "${F}" keyword validation`},b.keyword$DataError={message:({keyword:F,schemaType:G})=>G?(0,o.str)`"${F}" keyword must be ${G} ($data)`:(0,o.str)`"${F}" keyword is invalid ($data)`};function O(F,G=b.keywordError,Se,se){const{it:fe}=F,{gen:be,compositeRule:te,allErrors:M}=fe,xe=J(F,G,Se);(se!=null?se:te||M)?R(be,xe):$(fe,(0,o._)`[${xe}]`)}b.reportError=O;function _(F,G=b.keywordError,Se){const{it:se}=F,{gen:fe,compositeRule:be,allErrors:te}=se,M=J(F,G,Se);R(fe,M),be||te||$(se,I.default.vErrors)}b.reportExtraError=_;function D(F,G){F.assign(I.default.errors,G),F.if((0,o._)`${I.default.vErrors} !== null`,()=>F.if(G,()=>F.assign((0,o._)`${I.default.vErrors}.length`,G),()=>F.assign(I.default.vErrors,null)))}b.resetErrorsCount=D;function N({gen:F,keyword:G,schemaValue:Se,data:se,errsCount:fe,it:be}){if(fe===void 0)throw new Error("ajv implementation error");const te=F.name("err");F.forRange("i",fe,I.default.errors,M=>{F.const(te,(0,o._)`${I.default.vErrors}[${M}]`),F.if((0,o._)`${te}.instancePath === undefined`,()=>F.assign((0,o._)`${te}.instancePath`,(0,o.strConcat)(I.default.instancePath,be.errorPath))),F.assign((0,o._)`${te}.schemaPath`,(0,o.str)`${be.errSchemaPath}/${G}`),be.opts.verbose&&(F.assign((0,o._)`${te}.schema`,Se),F.assign((0,o._)`${te}.data`,se))})}b.extendErrors=N;function R(F,G){const Se=F.const("err",G);F.if((0,o._)`${I.default.vErrors} === null`,()=>F.assign(I.default.vErrors,(0,o._)`[${Se}]`),(0,o._)`${I.default.vErrors}.push(${Se})`),F.code((0,o._)`${I.default.errors}++`)}function $(F,G){const{gen:Se,validateName:se,schemaEnv:fe}=F;fe.$async?Se.throw((0,o._)`new ${F.ValidationError}(${G})`):(Se.assign((0,o._)`${se}.errors`,G),Se.return(!1))}const z={keyword:new o.Name("keyword"),schemaPath:new o.Name("schemaPath"),params:new o.Name("params"),propertyName:new o.Name("propertyName"),message:new o.Name("message"),schema:new o.Name("schema"),parentSchema:new o.Name("parentSchema")};function J(F,G,Se){const{createErrors:se}=F.it;return se===!1?(0,o._)`{}`:ee(F,G,Se)}function ee(F,G,Se={}){const{gen:se,it:fe}=F,be=[re(fe,Se),oe(F,Se)];return ye(F,G,be),se.object(...be)}function re({errorPath:F},{instancePath:G}){const Se=G?(0,o.str)`${F}${(0,m.getErrorPath)(G,m.Type.Str)}`:F;return[I.default.instancePath,(0,o.strConcat)(I.default.instancePath,Se)]}function oe({keyword:F,it:{errSchemaPath:G}},{schemaPath:Se,parentSchema:se}){let fe=se?G:(0,o.str)`${G}/${F}`;return Se&&(fe=(0,o.str)`${fe}${(0,m.getErrorPath)(Se,m.Type.Str)}`),[z.schemaPath,fe]}function ye(F,{params:G,message:Se},se){const{keyword:fe,data:be,schemaValue:te,it:M}=F,{opts:xe,propertyName:Le,topSchemaRef:Ce,schemaPath:Ke}=M;se.push([z.keyword,fe],[z.params,typeof G=="function"?G(F):G||(0,o._)`{}`]),xe.messages&&se.push([z.message,typeof Se=="function"?Se(F):Se]),xe.verbose&&se.push([z.schema,te],[z.parentSchema,(0,o._)`${Ce}${Ke}`],[I.default.data,be]),Le&&se.push([z.propertyName,Le])}},19984:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.resolveSchema=b.getCompilingSchema=b.resolveRef=b.compileSchema=b.SchemaEnv=void 0;const o=a(45117),m=a(65282),I=a(93239),O=a(40071),_=a(79812),D=a(53970);class N{constructor(Se){var se;this.refs={},this.dynamicAnchors={};let fe;typeof Se.schema=="object"&&(fe=Se.schema),this.schema=Se.schema,this.schemaId=Se.schemaId,this.root=Se.root||this,this.baseId=(se=Se.baseId)!==null&&se!==void 0?se:(0,O.normalizeId)(fe==null?void 0:fe[Se.schemaId||"$id"]),this.schemaPath=Se.schemaPath,this.localRefs=Se.localRefs,this.meta=Se.meta,this.$async=fe==null?void 0:fe.$async,this.refs={}}}b.SchemaEnv=N;function R(G){const Se=J.call(this,G);if(Se)return Se;const se=(0,O.getFullPath)(this.opts.uriResolver,G.root.baseId),{es5:fe,lines:be}=this.opts.code,{ownProperties:te}=this.opts,M=new o.CodeGen(this.scope,{es5:fe,lines:be,ownProperties:te});let xe;G.$async&&(xe=M.scopeValue("Error",{ref:m.default,code:(0,o._)`require("ajv/dist/runtime/validation_error").default`}));const Le=M.scopeName("validate");G.validateName=Le;const Ce={gen:M,allErrors:this.opts.allErrors,data:I.default.data,parentData:I.default.parentData,parentDataProperty:I.default.parentDataProperty,dataNames:[I.default.data],dataPathArr:[o.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:M.scopeValue("schema",this.opts.code.source===!0?{ref:G.schema,code:(0,o.stringify)(G.schema)}:{ref:G.schema}),validateName:Le,ValidationError:xe,schema:G.schema,schemaEnv:G,rootId:se,baseId:G.baseId||se,schemaPath:o.nil,errSchemaPath:G.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,o._)`""`,opts:this.opts,self:this};let Ke;try{this._compilations.add(G),(0,D.validateFunctionCode)(Ce),M.optimize(this.opts.code.optimize);const Xe=M.toString();Ke=`${M.scopeRefs(I.default.scope)}return ${Xe}`,this.opts.code.process&&(Ke=this.opts.code.process(Ke,G));const st=new Function(`${I.default.self}`,`${I.default.scope}`,Ke)(this,this.scope.get());if(this.scope.value(Le,{ref:st}),st.errors=null,st.schema=G.schema,st.schemaEnv=G,G.$async&&(st.$async=!0),this.opts.code.source===!0&&(st.source={validateName:Le,validateCode:Xe,scopeValues:M._values}),this.opts.unevaluated){const{props:Ge,items:_t}=Ce;st.evaluated={props:Ge instanceof o.Name?void 0:Ge,items:_t instanceof o.Name?void 0:_t,dynamicProps:Ge instanceof o.Name,dynamicItems:_t instanceof o.Name},st.source&&(st.source.evaluated=(0,o.stringify)(st.evaluated))}return G.validate=st,G}catch(Xe){throw delete G.validate,delete G.validateName,Ke&&this.logger.error("Error compiling schema, function code:",Ke),Xe}finally{this._compilations.delete(G)}}b.compileSchema=R;function $(G,Se,se){var fe;se=(0,O.resolveUrl)(this.opts.uriResolver,Se,se);const be=G.refs[se];if(be)return be;let te=re.call(this,G,se);if(te===void 0){const M=(fe=G.localRefs)===null||fe===void 0?void 0:fe[se],{schemaId:xe}=this.opts;M&&(te=new N({schema:M,schemaId:xe,root:G,baseId:Se}))}if(te!==void 0)return G.refs[se]=z.call(this,te)}b.resolveRef=$;function z(G){return(0,O.inlineRef)(G.schema,this.opts.inlineRefs)?G.schema:G.validate?G:R.call(this,G)}function J(G){for(const Se of this._compilations)if(ee(Se,G))return Se}b.getCompilingSchema=J;function ee(G,Se){return G.schema===Se.schema&&G.root===Se.root&&G.baseId===Se.baseId}function re(G,Se){let se;for(;typeof(se=this.refs[Se])=="string";)Se=se;return se||this.schemas[Se]||oe.call(this,G,Se)}function oe(G,Se){const se=this.opts.uriResolver.parse(Se),fe=(0,O._getFullPath)(this.opts.uriResolver,se);let be=(0,O.getFullPath)(this.opts.uriResolver,G.baseId,void 0);if(Object.keys(G.schema).length>0&&fe===be)return F.call(this,se,G);const te=(0,O.normalizeId)(fe),M=this.refs[te]||this.schemas[te];if(typeof M=="string"){const xe=oe.call(this,G,M);return typeof(xe==null?void 0:xe.schema)!="object"?void 0:F.call(this,se,xe)}if(typeof(M==null?void 0:M.schema)=="object"){if(M.validate||R.call(this,M),te===(0,O.normalizeId)(Se)){const{schema:xe}=M,{schemaId:Le}=this.opts,Ce=xe[Le];return Ce&&(be=(0,O.resolveUrl)(this.opts.uriResolver,be,Ce)),new N({schema:xe,schemaId:Le,root:G,baseId:be})}return F.call(this,se,M)}}b.resolveSchema=oe;const ye=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function F(G,{baseId:Se,schema:se,root:fe}){var be;if(((be=G.fragment)===null||be===void 0?void 0:be[0])!=="/")return;for(const xe of G.fragment.slice(1).split("/")){if(typeof se=="boolean")return;const Le=se[(0,_.unescapeFragment)(xe)];if(Le===void 0)return;se=Le;const Ce=typeof se=="object"&&se[this.opts.schemaId];!ye.has(xe)&&Ce&&(Se=(0,O.resolveUrl)(this.opts.uriResolver,Se,Ce))}let te;if(typeof se!="boolean"&&se.$ref&&!(0,_.schemaHasRulesButRef)(se,this.RULES)){const xe=(0,O.resolveUrl)(this.opts.uriResolver,Se,se.$ref);te=oe.call(this,fe,xe)}const{schemaId:M}=this.opts;if(te=te||new N({schema:se,schemaId:M,root:fe,baseId:Se}),te.schema!==te.root.schema)return te}},93239:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(45117),m={data:new o.Name("data"),valCxt:new o.Name("valCxt"),instancePath:new o.Name("instancePath"),parentData:new o.Name("parentData"),parentDataProperty:new o.Name("parentDataProperty"),rootData:new o.Name("rootData"),dynamicAnchors:new o.Name("dynamicAnchors"),vErrors:new o.Name("vErrors"),errors:new o.Name("errors"),this:new o.Name("this"),self:new o.Name("self"),scope:new o.Name("scope"),json:new o.Name("json"),jsonPos:new o.Name("jsonPos"),jsonLen:new o.Name("jsonLen"),jsonPart:new o.Name("jsonPart")};b.default=m},97566:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(40071);class m extends Error{constructor(O,_,D,N){super(N||`can't resolve reference ${D} from id ${_}`),this.missingRef=(0,o.resolveUrl)(O,_,D),this.missingSchema=(0,o.normalizeId)((0,o.getFullPath)(O,this.missingRef))}}b.default=m},40071:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getSchemaRefs=b.resolveUrl=b.normalizeId=b._getFullPath=b.getFullPath=b.inlineRef=void 0;const o=a(79812),m=a(69378),I=a(19522),O=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function _(F,G=!0){return typeof F=="boolean"?!0:G===!0?!N(F):G?R(F)<=G:!1}b.inlineRef=_;const D=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function N(F){for(const G in F){if(D.has(G))return!0;const Se=F[G];if(Array.isArray(Se)&&Se.some(N)||typeof Se=="object"&&N(Se))return!0}return!1}function R(F){let G=0;for(const Se in F){if(Se==="$ref")return 1/0;if(G++,!O.has(Se)&&(typeof F[Se]=="object"&&(0,o.eachItem)(F[Se],se=>G+=R(se)),G===1/0))return 1/0}return G}function $(F,G="",Se){Se!==!1&&(G=ee(G));const se=F.parse(G);return z(F,se)}b.getFullPath=$;function z(F,G){return F.serialize(G).split("#")[0]+"#"}b._getFullPath=z;const J=/#\/?$/;function ee(F){return F?F.replace(J,""):""}b.normalizeId=ee;function re(F,G,Se){return Se=ee(Se),F.resolve(G,Se)}b.resolveUrl=re;const oe=/^[a-z_][-a-z0-9._]*$/i;function ye(F,G){if(typeof F=="boolean")return{};const{schemaId:Se,uriResolver:se}=this.opts,fe=ee(F[Se]||G),be={"":fe},te=$(se,fe,!1),M={},xe=new Set;return I(F,{allKeys:!0},(Ke,Xe,dt,st)=>{if(st===void 0)return;const Ge=te+Xe;let _t=be[st];typeof Ke[Se]=="string"&&(_t=or.call(this,Ke[Se])),St.call(this,Ke.$anchor),St.call(this,Ke.$dynamicAnchor),be[Xe]=_t;function or(xt){const mt=this.opts.uriResolver.resolve;if(xt=ee(_t?mt(_t,xt):xt),xe.has(xt))throw Ce(xt);xe.add(xt);let Re=this.refs[xt];return typeof Re=="string"&&(Re=this.refs[Re]),typeof Re=="object"?Le(Ke,Re.schema,xt):xt!==ee(Ge)&&(xt[0]==="#"?(Le(Ke,M[xt],xt),M[xt]=Ke):this.refs[xt]=Ge),xt}function St(xt){if(typeof xt=="string"){if(!oe.test(xt))throw new Error(`invalid anchor "${xt}"`);or.call(this,`#${xt}`)}}}),M;function Le(Ke,Xe,dt){if(Xe!==void 0&&!m(Ke,Xe))throw Ce(dt)}function Ce(Ke){return new Error(`reference "${Ke}" resolves to more than one schema`)}}b.getSchemaRefs=ye},60968:function(Te,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getRules=b.isJSONType=void 0;const a=["string","number","integer","boolean","null","object","array"],o=new Set(a);function m(O){return typeof O=="string"&&o.has(O)}b.isJSONType=m;function I(){const O={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...O,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},O.number,O.string,O.array,O.object],post:{rules:[]},all:{},keywords:{}}}b.getRules=I},79812:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.checkStrictMode=b.getErrorPath=b.Type=b.useFunc=b.setEvaluated=b.evaluatedPropsToName=b.mergeEvaluated=b.eachItem=b.unescapeJsonPointer=b.escapeJsonPointer=b.escapeFragment=b.unescapeFragment=b.schemaRefOrVal=b.schemaHasRulesButRef=b.schemaHasRules=b.checkUnknownRules=b.alwaysValidSchema=b.toHash=void 0;const o=a(45117),m=a(28044);function I(te){const M={};for(const xe of te)M[xe]=!0;return M}b.toHash=I;function O(te,M){return typeof M=="boolean"?M:Object.keys(M).length===0?!0:(_(te,M),!D(M,te.self.RULES.all))}b.alwaysValidSchema=O;function _(te,M=te.schema){const{opts:xe,self:Le}=te;if(!xe.strictSchema||typeof M=="boolean")return;const Ce=Le.RULES.keywords;for(const Ke in M)Ce[Ke]||be(te,`unknown keyword: "${Ke}"`)}b.checkUnknownRules=_;function D(te,M){if(typeof te=="boolean")return!te;for(const xe in te)if(M[xe])return!0;return!1}b.schemaHasRules=D;function N(te,M){if(typeof te=="boolean")return!te;for(const xe in te)if(xe!=="$ref"&&M.all[xe])return!0;return!1}b.schemaHasRulesButRef=N;function R({topSchemaRef:te,schemaPath:M},xe,Le,Ce){if(!Ce){if(typeof xe=="number"||typeof xe=="boolean")return xe;if(typeof xe=="string")return(0,o._)`${xe}`}return(0,o._)`${te}${M}${(0,o.getProperty)(Le)}`}b.schemaRefOrVal=R;function $(te){return ee(decodeURIComponent(te))}b.unescapeFragment=$;function z(te){return encodeURIComponent(J(te))}b.escapeFragment=z;function J(te){return typeof te=="number"?`${te}`:te.replace(/~/g,"~0").replace(/\//g,"~1")}b.escapeJsonPointer=J;function ee(te){return te.replace(/~1/g,"/").replace(/~0/g,"~")}b.unescapeJsonPointer=ee;function re(te,M){if(Array.isArray(te))for(const xe of te)M(xe);else M(te)}b.eachItem=re;function oe({mergeNames:te,mergeToName:M,mergeValues:xe,resultToName:Le}){return(Ce,Ke,Xe,dt)=>{const st=Xe===void 0?Ke:Xe instanceof o.Name?(Ke instanceof o.Name?te(Ce,Ke,Xe):M(Ce,Ke,Xe),Xe):Ke instanceof o.Name?(M(Ce,Xe,Ke),Ke):xe(Ke,Xe);return dt===o.Name&&!(st instanceof o.Name)?Le(Ce,st):st}}b.mergeEvaluated={props:oe({mergeNames:(te,M,xe)=>te.if((0,o._)`${xe} !== true && ${M} !== undefined`,()=>{te.if((0,o._)`${M} === true`,()=>te.assign(xe,!0),()=>te.assign(xe,(0,o._)`${xe} || {}`).code((0,o._)`Object.assign(${xe}, ${M})`))}),mergeToName:(te,M,xe)=>te.if((0,o._)`${xe} !== true`,()=>{M===!0?te.assign(xe,!0):(te.assign(xe,(0,o._)`${xe} || {}`),F(te,xe,M))}),mergeValues:(te,M)=>te===!0?!0:{...te,...M},resultToName:ye}),items:oe({mergeNames:(te,M,xe)=>te.if((0,o._)`${xe} !== true && ${M} !== undefined`,()=>te.assign(xe,(0,o._)`${M} === true ? true : ${xe} > ${M} ? ${xe} : ${M}`)),mergeToName:(te,M,xe)=>te.if((0,o._)`${xe} !== true`,()=>te.assign(xe,M===!0?!0:(0,o._)`${xe} > ${M} ? ${xe} : ${M}`)),mergeValues:(te,M)=>te===!0?!0:Math.max(te,M),resultToName:(te,M)=>te.var("items",M)})};function ye(te,M){if(M===!0)return te.var("props",!0);const xe=te.var("props",(0,o._)`{}`);return M!==void 0&&F(te,xe,M),xe}b.evaluatedPropsToName=ye;function F(te,M,xe){Object.keys(xe).forEach(Le=>te.assign((0,o._)`${M}${(0,o.getProperty)(Le)}`,!0))}b.setEvaluated=F;const G={};function Se(te,M){return te.scopeValue("func",{ref:M,code:G[M.code]||(G[M.code]=new m._Code(M.code))})}b.useFunc=Se;var se;(function(te){te[te.Num=0]="Num",te[te.Str=1]="Str"})(se=b.Type||(b.Type={}));function fe(te,M,xe){if(te instanceof o.Name){const Le=M===se.Num;return xe?Le?(0,o._)`"[" + ${te} + "]"`:(0,o._)`"['" + ${te} + "']"`:Le?(0,o._)`"/" + ${te}`:(0,o._)`"/" + ${te}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return xe?(0,o.getProperty)(te).toString():"/"+J(te)}b.getErrorPath=fe;function be(te,M,xe=te.opts.strictSchema){if(xe){if(M=`strict mode: ${M}`,xe===!0)throw new Error(M);te.self.logger.warn(M)}}b.checkStrictMode=be},15149:function(Te,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.shouldUseRule=b.shouldUseGroup=b.schemaHasRulesForType=void 0;function a({schema:I,self:O},_){const D=O.RULES.types[_];return D&&D!==!0&&o(I,D)}b.schemaHasRulesForType=a;function o(I,O){return O.rules.some(_=>m(I,_))}b.shouldUseGroup=o;function m(I,O){var _;return I[O.keyword]!==void 0||((_=O.definition.implements)===null||_===void 0?void 0:_.some(D=>I[D]!==void 0))}b.shouldUseRule=m},87929:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.boolOrEmptySchema=b.topBoolOrEmptySchema=void 0;const o=a(19606),m=a(45117),I=a(93239),O={message:"boolean schema is false"};function _(R){const{gen:$,schema:z,validateName:J}=R;z===!1?N(R,!1):typeof z=="object"&&z.$async===!0?$.return(I.default.data):($.assign((0,m._)`${J}.errors`,null),$.return(!0))}b.topBoolOrEmptySchema=_;function D(R,$){const{gen:z,schema:J}=R;J===!1?(z.var($,!1),N(R)):z.var($,!0)}b.boolOrEmptySchema=D;function N(R,$){const{gen:z,data:J}=R,ee={gen:z,keyword:"false schema",data:J,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:R};(0,o.reportError)(ee,O,void 0,$)}},51549:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.reportTypeError=b.checkDataTypes=b.checkDataType=b.coerceAndCheckDataType=b.getJSONTypes=b.getSchemaTypes=b.DataType=void 0;const o=a(60968),m=a(15149),I=a(19606),O=a(45117),_=a(79812);var D;(function(se){se[se.Correct=0]="Correct",se[se.Wrong=1]="Wrong"})(D=b.DataType||(b.DataType={}));function N(se){const fe=R(se.type);if(fe.includes("null")){if(se.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!fe.length&&se.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');se.nullable===!0&&fe.push("null")}return fe}b.getSchemaTypes=N;function R(se){const fe=Array.isArray(se)?se:se?[se]:[];if(fe.every(o.isJSONType))return fe;throw new Error("type must be JSONType or JSONType[]: "+fe.join(","))}b.getJSONTypes=R;function $(se,fe){const{gen:be,data:te,opts:M}=se,xe=J(fe,M.coerceTypes),Le=fe.length>0&&!(xe.length===0&&fe.length===1&&(0,m.schemaHasRulesForType)(se,fe[0]));if(Le){const Ce=ye(fe,te,M.strictNumbers,D.Wrong);be.if(Ce,()=>{xe.length?ee(se,fe,xe):G(se)})}return Le}b.coerceAndCheckDataType=$;const z=new Set(["string","number","integer","boolean","null"]);function J(se,fe){return fe?se.filter(be=>z.has(be)||fe==="array"&&be==="array"):[]}function ee(se,fe,be){const{gen:te,data:M,opts:xe}=se,Le=te.let("dataType",(0,O._)`typeof ${M}`),Ce=te.let("coerced",(0,O._)`undefined`);xe.coerceTypes==="array"&&te.if((0,O._)`${Le} == 'object' && Array.isArray(${M}) && ${M}.length == 1`,()=>te.assign(M,(0,O._)`${M}[0]`).assign(Le,(0,O._)`typeof ${M}`).if(ye(fe,M,xe.strictNumbers),()=>te.assign(Ce,M))),te.if((0,O._)`${Ce} !== undefined`);for(const Xe of be)(z.has(Xe)||Xe==="array"&&xe.coerceTypes==="array")&&Ke(Xe);te.else(),G(se),te.endIf(),te.if((0,O._)`${Ce} !== undefined`,()=>{te.assign(M,Ce),re(se,Ce)});function Ke(Xe){switch(Xe){case"string":te.elseIf((0,O._)`${Le} == "number" || ${Le} == "boolean"`).assign(Ce,(0,O._)`"" + ${M}`).elseIf((0,O._)`${M} === null`).assign(Ce,(0,O._)`""`);return;case"number":te.elseIf((0,O._)`${Le} == "boolean" || ${M} === null
              || (${Le} == "string" && ${M} && ${M} == +${M})`).assign(Ce,(0,O._)`+${M}`);return;case"integer":te.elseIf((0,O._)`${Le} === "boolean" || ${M} === null
              || (${Le} === "string" && ${M} && ${M} == +${M} && !(${M} % 1))`).assign(Ce,(0,O._)`+${M}`);return;case"boolean":te.elseIf((0,O._)`${M} === "false" || ${M} === 0 || ${M} === null`).assign(Ce,!1).elseIf((0,O._)`${M} === "true" || ${M} === 1`).assign(Ce,!0);return;case"null":te.elseIf((0,O._)`${M} === "" || ${M} === 0 || ${M} === false`),te.assign(Ce,null);return;case"array":te.elseIf((0,O._)`${Le} === "string" || ${Le} === "number"
              || ${Le} === "boolean" || ${M} === null`).assign(Ce,(0,O._)`[${M}]`)}}}function re({gen:se,parentData:fe,parentDataProperty:be},te){se.if((0,O._)`${fe} !== undefined`,()=>se.assign((0,O._)`${fe}[${be}]`,te))}function oe(se,fe,be,te=D.Correct){const M=te===D.Correct?O.operators.EQ:O.operators.NEQ;let xe;switch(se){case"null":return(0,O._)`${fe} ${M} null`;case"array":xe=(0,O._)`Array.isArray(${fe})`;break;case"object":xe=(0,O._)`${fe} && typeof ${fe} == "object" && !Array.isArray(${fe})`;break;case"integer":xe=Le((0,O._)`!(${fe} % 1) && !isNaN(${fe})`);break;case"number":xe=Le();break;default:return(0,O._)`typeof ${fe} ${M} ${se}`}return te===D.Correct?xe:(0,O.not)(xe);function Le(Ce=O.nil){return(0,O.and)((0,O._)`typeof ${fe} == "number"`,Ce,be?(0,O._)`isFinite(${fe})`:O.nil)}}b.checkDataType=oe;function ye(se,fe,be,te){if(se.length===1)return oe(se[0],fe,be,te);let M;const xe=(0,_.toHash)(se);if(xe.array&&xe.object){const Le=(0,O._)`typeof ${fe} != "object"`;M=xe.null?Le:(0,O._)`!${fe} || ${Le}`,delete xe.null,delete xe.array,delete xe.object}else M=O.nil;xe.number&&delete xe.integer;for(const Le in xe)M=(0,O.and)(M,oe(Le,fe,be,te));return M}b.checkDataTypes=ye;const F={message:({schema:se})=>`must be ${se}`,params:({schema:se,schemaValue:fe})=>typeof se=="string"?(0,O._)`{type: ${se}}`:(0,O._)`{type: ${fe}}`};function G(se){const fe=Se(se);(0,I.reportError)(fe,F)}b.reportTypeError=G;function Se(se){const{gen:fe,data:be,schema:te}=se,M=(0,_.schemaRefOrVal)(se,te,"type");return{gen:fe,keyword:"type",data:be,schema:te.type,schemaCode:M,schemaValue:M,parentSchema:te,params:{},it:se}}},6549:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.assignDefaults=void 0;const o=a(45117),m=a(79812);function I(_,D){const{properties:N,items:R}=_.schema;if(D==="object"&&N)for(const $ in N)O(_,$,N[$].default);else D==="array"&&Array.isArray(R)&&R.forEach(($,z)=>O(_,z,$.default))}b.assignDefaults=I;function O(_,D,N){const{gen:R,compositeRule:$,data:z,opts:J}=_;if(N===void 0)return;const ee=(0,o._)`${z}${(0,o.getProperty)(D)}`;if($){(0,m.checkStrictMode)(_,`default is ignored for: ${ee}`);return}let re=(0,o._)`${ee} === undefined`;J.useDefaults==="empty"&&(re=(0,o._)`${re} || ${ee} === null || ${ee} === ""`),R.if(re,(0,o._)`${ee} = ${(0,o.stringify)(N)}`)}},53970:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getData=b.KeywordCxt=b.validateFunctionCode=void 0;const o=a(87929),m=a(51549),I=a(15149),O=a(51549),_=a(6549),D=a(87896),N=a(94929),R=a(45117),$=a(93239),z=a(40071),J=a(79812),ee=a(19606);function re(Z){if(te(Z)&&(xe(Z),be(Z))){G(Z);return}oe(Z,()=>(0,o.topBoolOrEmptySchema)(Z))}b.validateFunctionCode=re;function oe({gen:Z,validateName:Q,schema:ge,schemaEnv:De,opts:Qe},Ue){Qe.code.es5?Z.func(Q,(0,R._)`${$.default.data}, ${$.default.valCxt}`,De.$async,()=>{Z.code((0,R._)`"use strict"; ${se(ge,Qe)}`),F(Z,Qe),Z.code(Ue)}):Z.func(Q,(0,R._)`${$.default.data}, ${ye(Qe)}`,De.$async,()=>Z.code(se(ge,Qe)).code(Ue))}function ye(Z){return(0,R._)`{${$.default.instancePath}="", ${$.default.parentData}, ${$.default.parentDataProperty}, ${$.default.rootData}=${$.default.data}${Z.dynamicRef?(0,R._)`, ${$.default.dynamicAnchors}={}`:R.nil}}={}`}function F(Z,Q){Z.if($.default.valCxt,()=>{Z.var($.default.instancePath,(0,R._)`${$.default.valCxt}.${$.default.instancePath}`),Z.var($.default.parentData,(0,R._)`${$.default.valCxt}.${$.default.parentData}`),Z.var($.default.parentDataProperty,(0,R._)`${$.default.valCxt}.${$.default.parentDataProperty}`),Z.var($.default.rootData,(0,R._)`${$.default.valCxt}.${$.default.rootData}`),Q.dynamicRef&&Z.var($.default.dynamicAnchors,(0,R._)`${$.default.valCxt}.${$.default.dynamicAnchors}`)},()=>{Z.var($.default.instancePath,(0,R._)`""`),Z.var($.default.parentData,(0,R._)`undefined`),Z.var($.default.parentDataProperty,(0,R._)`undefined`),Z.var($.default.rootData,$.default.data),Q.dynamicRef&&Z.var($.default.dynamicAnchors,(0,R._)`{}`)})}function G(Z){const{schema:Q,opts:ge,gen:De}=Z;oe(Z,()=>{ge.$comment&&Q.$comment&&st(Z),Ke(Z),De.let($.default.vErrors,null),De.let($.default.errors,0),ge.unevaluated&&Se(Z),Le(Z),Ge(Z)})}function Se(Z){const{gen:Q,validateName:ge}=Z;Z.evaluated=Q.const("evaluated",(0,R._)`${ge}.evaluated`),Q.if((0,R._)`${Z.evaluated}.dynamicProps`,()=>Q.assign((0,R._)`${Z.evaluated}.props`,(0,R._)`undefined`)),Q.if((0,R._)`${Z.evaluated}.dynamicItems`,()=>Q.assign((0,R._)`${Z.evaluated}.items`,(0,R._)`undefined`))}function se(Z,Q){const ge=typeof Z=="object"&&Z[Q.schemaId];return ge&&(Q.code.source||Q.code.process)?(0,R._)`/*# sourceURL=${ge} */`:R.nil}function fe(Z,Q){if(te(Z)&&(xe(Z),be(Z))){M(Z,Q);return}(0,o.boolOrEmptySchema)(Z,Q)}function be({schema:Z,self:Q}){if(typeof Z=="boolean")return!Z;for(const ge in Z)if(Q.RULES.all[ge])return!0;return!1}function te(Z){return typeof Z.schema!="boolean"}function M(Z,Q){const{schema:ge,gen:De,opts:Qe}=Z;Qe.$comment&&ge.$comment&&st(Z),Xe(Z),dt(Z);const Ue=De.const("_errs",$.default.errors);Le(Z,Ue),De.var(Q,(0,R._)`${Ue} === ${$.default.errors}`)}function xe(Z){(0,J.checkUnknownRules)(Z),Ce(Z)}function Le(Z,Q){if(Z.opts.jtd)return or(Z,[],!1,Q);const ge=(0,m.getSchemaTypes)(Z.schema),De=(0,m.coerceAndCheckDataType)(Z,ge);or(Z,ge,!De,Q)}function Ce(Z){const{schema:Q,errSchemaPath:ge,opts:De,self:Qe}=Z;Q.$ref&&De.ignoreKeywordsWithRef&&(0,J.schemaHasRulesButRef)(Q,Qe.RULES)&&Qe.logger.warn(`$ref: keywords ignored in schema at path "${ge}"`)}function Ke(Z){const{schema:Q,opts:ge}=Z;Q.default!==void 0&&ge.useDefaults&&ge.strictSchema&&(0,J.checkStrictMode)(Z,"default is ignored in the schema root")}function Xe(Z){const Q=Z.schema[Z.opts.schemaId];Q&&(Z.baseId=(0,z.resolveUrl)(Z.opts.uriResolver,Z.baseId,Q))}function dt(Z){if(Z.schema.$async&&!Z.schemaEnv.$async)throw new Error("async schema in sync schema")}function st({gen:Z,schemaEnv:Q,schema:ge,errSchemaPath:De,opts:Qe}){const Ue=ge.$comment;if(Qe.$comment===!0)Z.code((0,R._)`${$.default.self}.logger.log(${Ue})`);else if(typeof Qe.$comment=="function"){const Lt=(0,R.str)`${De}/$comment`,tr=Z.scopeValue("root",{ref:Q.root});Z.code((0,R._)`${$.default.self}.opts.$comment(${Ue}, ${Lt}, ${tr}.schema)`)}}function Ge(Z){const{gen:Q,schemaEnv:ge,validateName:De,ValidationError:Qe,opts:Ue}=Z;ge.$async?Q.if((0,R._)`${$.default.errors} === 0`,()=>Q.return($.default.data),()=>Q.throw((0,R._)`new ${Qe}(${$.default.vErrors})`)):(Q.assign((0,R._)`${De}.errors`,$.default.vErrors),Ue.unevaluated&&_t(Z),Q.return((0,R._)`${$.default.errors} === 0`))}function _t({gen:Z,evaluated:Q,props:ge,items:De}){ge instanceof R.Name&&Z.assign((0,R._)`${Q}.props`,ge),De instanceof R.Name&&Z.assign((0,R._)`${Q}.items`,De)}function or(Z,Q,ge,De){const{gen:Qe,schema:Ue,data:Lt,allErrors:tr,opts:Kt,self:Yt}=Z,{RULES:Ht}=Yt;if(Ue.$ref&&(Kt.ignoreKeywordsWithRef||!(0,J.schemaHasRulesButRef)(Ue,Ht))){Qe.block(()=>Gt(Z,"$ref",Ht.all.$ref.definition));return}Kt.jtd||xt(Z,Q),Qe.block(()=>{for(const Ct of Ht.rules)rt(Ct);rt(Ht.post)});function rt(Ct){(0,I.shouldUseGroup)(Ue,Ct)&&(Ct.type?(Qe.if((0,O.checkDataType)(Ct.type,Lt,Kt.strictNumbers)),St(Z,Ct),Q.length===1&&Q[0]===Ct.type&&ge&&(Qe.else(),(0,O.reportTypeError)(Z)),Qe.endIf()):St(Z,Ct),tr||Qe.if((0,R._)`${$.default.errors} === ${De||0}`))}}function St(Z,Q){const{gen:ge,schema:De,opts:{useDefaults:Qe}}=Z;Qe&&(0,_.assignDefaults)(Z,Q.type),ge.block(()=>{for(const Ue of Q.rules)(0,I.shouldUseRule)(De,Ue)&&Gt(Z,Ue.keyword,Ue.definition,Q.type)})}function xt(Z,Q){Z.schemaEnv.meta||!Z.opts.strictTypes||(mt(Z,Q),Z.opts.allowUnionTypes||Re(Z,Q),yt(Z,Z.dataTypes))}function mt(Z,Q){if(Q.length){if(!Z.dataTypes.length){Z.dataTypes=Q;return}Q.forEach(ge=>{de(Z.dataTypes,ge)||lt(Z,`type "${ge}" not allowed by context "${Z.dataTypes.join(",")}"`)}),$e(Z,Q)}}function Re(Z,Q){Q.length>1&&!(Q.length===2&&Q.includes("null"))&&lt(Z,"use allowUnionTypes to allow union type keyword")}function yt(Z,Q){const ge=Z.self.RULES.all;for(const De in ge){const Qe=ge[De];if(typeof Qe=="object"&&(0,I.shouldUseRule)(Z.schema,Qe)){const{type:Ue}=Qe.definition;Ue.length&&!Ue.some(Lt=>ot(Q,Lt))&&lt(Z,`missing type "${Ue.join(",")}" for keyword "${De}"`)}}}function ot(Z,Q){return Z.includes(Q)||Q==="number"&&Z.includes("integer")}function de(Z,Q){return Z.includes(Q)||Q==="integer"&&Z.includes("number")}function $e(Z,Q){const ge=[];for(const De of Z.dataTypes)de(Q,De)?ge.push(De):Q.includes("integer")&&De==="number"&&ge.push("integer");Z.dataTypes=ge}function lt(Z,Q){const ge=Z.schemaEnv.baseId+Z.errSchemaPath;Q+=` at "${ge}" (strictTypes)`,(0,J.checkStrictMode)(Z,Q,Z.opts.strictTypes)}class Dt{constructor(Q,ge,De){if((0,D.validateKeywordUsage)(Q,ge,De),this.gen=Q.gen,this.allErrors=Q.allErrors,this.keyword=De,this.data=Q.data,this.schema=Q.schema[De],this.$data=ge.$data&&Q.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,J.schemaRefOrVal)(Q,this.schema,De,this.$data),this.schemaType=ge.schemaType,this.parentSchema=Q.schema,this.params={},this.it=Q,this.def=ge,this.$data)this.schemaCode=Q.gen.const("vSchema",K(this.$data,Q));else if(this.schemaCode=this.schemaValue,!(0,D.validSchemaType)(this.schema,ge.schemaType,ge.allowUndefined))throw new Error(`${De} value must be ${JSON.stringify(ge.schemaType)}`);("code"in ge?ge.trackErrors:ge.errors!==!1)&&(this.errsCount=Q.gen.const("_errs",$.default.errors))}result(Q,ge,De){this.failResult((0,R.not)(Q),ge,De)}failResult(Q,ge,De){this.gen.if(Q),De?De():this.error(),ge?(this.gen.else(),ge(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(Q,ge){this.failResult((0,R.not)(Q),void 0,ge)}fail(Q){if(Q===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(Q),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(Q){if(!this.$data)return this.fail(Q);const{schemaCode:ge}=this;this.fail((0,R._)`${ge} !== undefined && (${(0,R.or)(this.invalid$data(),Q)})`)}error(Q,ge,De){if(ge){this.setParams(ge),this._error(Q,De),this.setParams({});return}this._error(Q,De)}_error(Q,ge){(Q?ee.reportExtraError:ee.reportError)(this,this.def.error,ge)}$dataError(){(0,ee.reportError)(this,this.def.$dataError||ee.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,ee.resetErrorsCount)(this.gen,this.errsCount)}ok(Q){this.allErrors||this.gen.if(Q)}setParams(Q,ge){ge?Object.assign(this.params,Q):this.params=Q}block$data(Q,ge,De=R.nil){this.gen.block(()=>{this.check$data(Q,De),ge()})}check$data(Q=R.nil,ge=R.nil){if(!this.$data)return;const{gen:De,schemaCode:Qe,schemaType:Ue,def:Lt}=this;De.if((0,R.or)((0,R._)`${Qe} === undefined`,ge)),Q!==R.nil&&De.assign(Q,!0),(Ue.length||Lt.validateSchema)&&(De.elseIf(this.invalid$data()),this.$dataError(),Q!==R.nil&&De.assign(Q,!1)),De.else()}invalid$data(){const{gen:Q,schemaCode:ge,schemaType:De,def:Qe,it:Ue}=this;return(0,R.or)(Lt(),tr());function Lt(){if(De.length){if(!(ge instanceof R.Name))throw new Error("ajv implementation error");const Kt=Array.isArray(De)?De:[De];return(0,R._)`${(0,O.checkDataTypes)(Kt,ge,Ue.opts.strictNumbers,O.DataType.Wrong)}`}return R.nil}function tr(){if(Qe.validateSchema){const Kt=Q.scopeValue("validate$data",{ref:Qe.validateSchema});return(0,R._)`!${Kt}(${ge})`}return R.nil}}subschema(Q,ge){const De=(0,N.getSubschema)(this.it,Q);(0,N.extendSubschemaData)(De,this.it,Q),(0,N.extendSubschemaMode)(De,Q);const Qe={...this.it,...De,items:void 0,props:void 0};return fe(Qe,ge),Qe}mergeEvaluated(Q,ge){const{it:De,gen:Qe}=this;De.opts.unevaluated&&(De.props!==!0&&Q.props!==void 0&&(De.props=J.mergeEvaluated.props(Qe,Q.props,De.props,ge)),De.items!==!0&&Q.items!==void 0&&(De.items=J.mergeEvaluated.items(Qe,Q.items,De.items,ge)))}mergeValidEvaluated(Q,ge){const{it:De,gen:Qe}=this;if(De.opts.unevaluated&&(De.props!==!0||De.items!==!0))return Qe.if(ge,()=>this.mergeEvaluated(Q,R.Name)),!0}}b.KeywordCxt=Dt;function Gt(Z,Q,ge,De){const Qe=new Dt(Z,ge,Q);"code"in ge?ge.code(Qe,De):Qe.$data&&ge.validate?(0,D.funcKeywordCode)(Qe,ge):"macro"in ge?(0,D.macroKeywordCode)(Qe,ge):(ge.compile||ge.validate)&&(0,D.funcKeywordCode)(Qe,ge)}const Pr=/^\/(?:[^~]|~0|~1)*$/,Ze=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function K(Z,{dataLevel:Q,dataNames:ge,dataPathArr:De}){let Qe,Ue;if(Z==="")return $.default.rootData;if(Z[0]==="/"){if(!Pr.test(Z))throw new Error(`Invalid JSON-pointer: ${Z}`);Qe=Z,Ue=$.default.rootData}else{const Yt=Ze.exec(Z);if(!Yt)throw new Error(`Invalid JSON-pointer: ${Z}`);const Ht=+Yt[1];if(Qe=Yt[2],Qe==="#"){if(Ht>=Q)throw new Error(Kt("property/index",Ht));return De[Q-Ht]}if(Ht>Q)throw new Error(Kt("data",Ht));if(Ue=ge[Q-Ht],!Qe)return Ue}let Lt=Ue;const tr=Qe.split("/");for(const Yt of tr)Yt&&(Ue=(0,R._)`${Ue}${(0,R.getProperty)((0,J.unescapeJsonPointer)(Yt))}`,Lt=(0,R._)`${Lt} && ${Ue}`);return Lt;function Kt(Yt,Ht){return`Cannot access ${Yt} ${Ht} levels up, current level is ${Q}`}}b.getData=K},87896:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateKeywordUsage=b.validSchemaType=b.funcKeywordCode=b.macroKeywordCode=void 0;const o=a(45117),m=a(93239),I=a(13898),O=a(19606);function _(re,oe){const{gen:ye,keyword:F,schema:G,parentSchema:Se,it:se}=re,fe=oe.macro.call(se.self,G,Se,se),be=z(ye,F,fe);se.opts.validateSchema!==!1&&se.self.validateSchema(fe,!0);const te=ye.name("valid");re.subschema({schema:fe,schemaPath:o.nil,errSchemaPath:`${se.errSchemaPath}/${F}`,topSchemaRef:be,compositeRule:!0},te),re.pass(te,()=>re.error(!0))}b.macroKeywordCode=_;function D(re,oe){var ye;const{gen:F,keyword:G,schema:Se,parentSchema:se,$data:fe,it:be}=re;$(be,oe);const te=!fe&&oe.compile?oe.compile.call(be.self,Se,se,be):oe.validate,M=z(F,G,te),xe=F.let("valid");re.block$data(xe,Le),re.ok((ye=oe.valid)!==null&&ye!==void 0?ye:xe);function Le(){if(oe.errors===!1)Xe(),oe.modifying&&N(re),dt(()=>re.error());else{const st=oe.async?Ce():Ke();oe.modifying&&N(re),dt(()=>R(re,st))}}function Ce(){const st=F.let("ruleErrs",null);return F.try(()=>Xe((0,o._)`await `),Ge=>F.assign(xe,!1).if((0,o._)`${Ge} instanceof ${be.ValidationError}`,()=>F.assign(st,(0,o._)`${Ge}.errors`),()=>F.throw(Ge))),st}function Ke(){const st=(0,o._)`${M}.errors`;return F.assign(st,null),Xe(o.nil),st}function Xe(st=oe.async?(0,o._)`await `:o.nil){const Ge=be.opts.passContext?m.default.this:m.default.self,_t=!("compile"in oe&&!fe||oe.schema===!1);F.assign(xe,(0,o._)`${st}${(0,I.callValidateCode)(re,M,Ge,_t)}`,oe.modifying)}function dt(st){var Ge;F.if((0,o.not)((Ge=oe.valid)!==null&&Ge!==void 0?Ge:xe),st)}}b.funcKeywordCode=D;function N(re){const{gen:oe,data:ye,it:F}=re;oe.if(F.parentData,()=>oe.assign(ye,(0,o._)`${F.parentData}[${F.parentDataProperty}]`))}function R(re,oe){const{gen:ye}=re;ye.if((0,o._)`Array.isArray(${oe})`,()=>{ye.assign(m.default.vErrors,(0,o._)`${m.default.vErrors} === null ? ${oe} : ${m.default.vErrors}.concat(${oe})`).assign(m.default.errors,(0,o._)`${m.default.vErrors}.length`),(0,O.extendErrors)(re)},()=>re.error())}function $({schemaEnv:re},oe){if(oe.async&&!re.$async)throw new Error("async keyword in sync schema")}function z(re,oe,ye){if(ye===void 0)throw new Error(`keyword "${oe}" failed to compile`);return re.scopeValue("keyword",typeof ye=="function"?{ref:ye}:{ref:ye,code:(0,o.stringify)(ye)})}function J(re,oe,ye=!1){return!oe.length||oe.some(F=>F==="array"?Array.isArray(re):F==="object"?re&&typeof re=="object"&&!Array.isArray(re):typeof re==F||ye&&typeof re=="undefined")}b.validSchemaType=J;function ee({schema:re,opts:oe,self:ye,errSchemaPath:F},G,Se){if(Array.isArray(G.keyword)?!G.keyword.includes(Se):G.keyword!==Se)throw new Error("ajv implementation error");const se=G.dependencies;if(se!=null&&se.some(fe=>!Object.prototype.hasOwnProperty.call(re,fe)))throw new Error(`parent schema must have dependencies of ${Se}: ${se.join(",")}`);if(G.validateSchema&&!G.validateSchema(re[Se])){const be=`keyword "${Se}" value is invalid at path "${F}": `+ye.errorsText(G.validateSchema.errors);if(oe.validateSchema==="log")ye.logger.error(be);else throw new Error(be)}}b.validateKeywordUsage=ee},94929:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.extendSubschemaMode=b.extendSubschemaData=b.getSubschema=void 0;const o=a(45117),m=a(79812);function I(D,{keyword:N,schemaProp:R,schema:$,schemaPath:z,errSchemaPath:J,topSchemaRef:ee}){if(N!==void 0&&$!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(N!==void 0){const re=D.schema[N];return R===void 0?{schema:re,schemaPath:(0,o._)`${D.schemaPath}${(0,o.getProperty)(N)}`,errSchemaPath:`${D.errSchemaPath}/${N}`}:{schema:re[R],schemaPath:(0,o._)`${D.schemaPath}${(0,o.getProperty)(N)}${(0,o.getProperty)(R)}`,errSchemaPath:`${D.errSchemaPath}/${N}/${(0,m.escapeFragment)(R)}`}}if($!==void 0){if(z===void 0||J===void 0||ee===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:$,schemaPath:z,topSchemaRef:ee,errSchemaPath:J}}throw new Error('either "keyword" or "schema" must be passed')}b.getSubschema=I;function O(D,N,{dataProp:R,dataPropType:$,data:z,dataTypes:J,propertyName:ee}){if(z!==void 0&&R!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:re}=N;if(R!==void 0){const{errorPath:ye,dataPathArr:F,opts:G}=N,Se=re.let("data",(0,o._)`${N.data}${(0,o.getProperty)(R)}`,!0);oe(Se),D.errorPath=(0,o.str)`${ye}${(0,m.getErrorPath)(R,$,G.jsPropertySyntax)}`,D.parentDataProperty=(0,o._)`${R}`,D.dataPathArr=[...F,D.parentDataProperty]}if(z!==void 0){const ye=z instanceof o.Name?z:re.let("data",z,!0);oe(ye),ee!==void 0&&(D.propertyName=ee)}J&&(D.dataTypes=J);function oe(ye){D.data=ye,D.dataLevel=N.dataLevel+1,D.dataTypes=[],N.definedProperties=new Set,D.parentData=N.data,D.dataNames=[...N.dataNames,ye]}}b.extendSubschemaData=O;function _(D,{jtdDiscriminator:N,jtdMetadata:R,compositeRule:$,createErrors:z,allErrors:J}){$!==void 0&&(D.compositeRule=$),z!==void 0&&(D.createErrors=z),J!==void 0&&(D.allErrors=J),D.jtdDiscriminator=N,D.jtdMetadata=R}b.extendSubschemaMode=_},29414:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CodeGen=b.Name=b.nil=b.stringify=b.str=b._=b.KeywordCxt=void 0;var o=a(53970);Object.defineProperty(b,"KeywordCxt",{enumerable:!0,get:function(){return o.KeywordCxt}});var m=a(45117);Object.defineProperty(b,"_",{enumerable:!0,get:function(){return m._}}),Object.defineProperty(b,"str",{enumerable:!0,get:function(){return m.str}}),Object.defineProperty(b,"stringify",{enumerable:!0,get:function(){return m.stringify}}),Object.defineProperty(b,"nil",{enumerable:!0,get:function(){return m.nil}}),Object.defineProperty(b,"Name",{enumerable:!0,get:function(){return m.Name}}),Object.defineProperty(b,"CodeGen",{enumerable:!0,get:function(){return m.CodeGen}});const I=a(65282),O=a(97566),_=a(60968),D=a(19984),N=a(45117),R=a(40071),$=a(51549),z=a(79812),J=a(75758),ee=a(36651),re=(mt,Re)=>new RegExp(mt,Re);re.code="new RegExp";const oe=["removeAdditional","useDefaults","coerceTypes"],ye=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),F={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},G={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},Se=200;function se(mt){var Re,yt,ot,de,$e,lt,Dt,Gt,Pr,Ze,K,Z,Q,ge,De,Qe,Ue,Lt,tr,Kt,Yt,Ht,rt,Ct,Vt;const hr=mt.strict,xr=(Re=mt.code)===null||Re===void 0?void 0:Re.optimize,Sr=xr===!0||xr===void 0?1:xr||0,cr=(ot=(yt=mt.code)===null||yt===void 0?void 0:yt.regExp)!==null&&ot!==void 0?ot:re,Nt=(de=mt.uriResolver)!==null&&de!==void 0?de:ee.default;return{strictSchema:(lt=($e=mt.strictSchema)!==null&&$e!==void 0?$e:hr)!==null&&lt!==void 0?lt:!0,strictNumbers:(Gt=(Dt=mt.strictNumbers)!==null&&Dt!==void 0?Dt:hr)!==null&&Gt!==void 0?Gt:!0,strictTypes:(Ze=(Pr=mt.strictTypes)!==null&&Pr!==void 0?Pr:hr)!==null&&Ze!==void 0?Ze:"log",strictTuples:(Z=(K=mt.strictTuples)!==null&&K!==void 0?K:hr)!==null&&Z!==void 0?Z:"log",strictRequired:(ge=(Q=mt.strictRequired)!==null&&Q!==void 0?Q:hr)!==null&&ge!==void 0?ge:!1,code:mt.code?{...mt.code,optimize:Sr,regExp:cr}:{optimize:Sr,regExp:cr},loopRequired:(De=mt.loopRequired)!==null&&De!==void 0?De:Se,loopEnum:(Qe=mt.loopEnum)!==null&&Qe!==void 0?Qe:Se,meta:(Ue=mt.meta)!==null&&Ue!==void 0?Ue:!0,messages:(Lt=mt.messages)!==null&&Lt!==void 0?Lt:!0,inlineRefs:(tr=mt.inlineRefs)!==null&&tr!==void 0?tr:!0,schemaId:(Kt=mt.schemaId)!==null&&Kt!==void 0?Kt:"$id",addUsedSchema:(Yt=mt.addUsedSchema)!==null&&Yt!==void 0?Yt:!0,validateSchema:(Ht=mt.validateSchema)!==null&&Ht!==void 0?Ht:!0,validateFormats:(rt=mt.validateFormats)!==null&&rt!==void 0?rt:!0,unicodeRegExp:(Ct=mt.unicodeRegExp)!==null&&Ct!==void 0?Ct:!0,int32range:(Vt=mt.int32range)!==null&&Vt!==void 0?Vt:!0,uriResolver:Nt}}class fe{constructor(Re={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,Re=this.opts={...Re,...se(Re)};const{es5:yt,lines:ot}=this.opts.code;this.scope=new N.ValueScope({scope:{},prefixes:ye,es5:yt,lines:ot}),this.logger=Xe(Re.logger);const de=Re.validateFormats;Re.validateFormats=!1,this.RULES=(0,_.getRules)(),be.call(this,F,Re,"NOT SUPPORTED"),be.call(this,G,Re,"DEPRECATED","warn"),this._metaOpts=Ce.call(this),Re.formats&&xe.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),Re.keywords&&Le.call(this,Re.keywords),typeof Re.meta=="object"&&this.addMetaSchema(Re.meta),M.call(this),Re.validateFormats=de}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:Re,meta:yt,schemaId:ot}=this.opts;let de=J;ot==="id"&&(de={...J},de.id=de.$id,delete de.$id),yt&&Re&&this.addMetaSchema(de,de[ot],!1)}defaultMeta(){const{meta:Re,schemaId:yt}=this.opts;return this.opts.defaultMeta=typeof Re=="object"?Re[yt]||Re:void 0}validate(Re,yt){let ot;if(typeof Re=="string"){if(ot=this.getSchema(Re),!ot)throw new Error(`no schema with key or ref "${Re}"`)}else ot=this.compile(Re);const de=ot(yt);return"$async"in ot||(this.errors=ot.errors),de}compile(Re,yt){const ot=this._addSchema(Re,yt);return ot.validate||this._compileSchemaEnv(ot)}compileAsync(Re,yt){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:ot}=this.opts;return de.call(this,Re,yt);async function de(Ze,K){await $e.call(this,Ze.$schema);const Z=this._addSchema(Ze,K);return Z.validate||lt.call(this,Z)}async function $e(Ze){Ze&&!this.getSchema(Ze)&&await de.call(this,{$ref:Ze},!0)}async function lt(Ze){try{return this._compileSchemaEnv(Ze)}catch(K){if(!(K instanceof O.default))throw K;return Dt.call(this,K),await Gt.call(this,K.missingSchema),lt.call(this,Ze)}}function Dt({missingSchema:Ze,missingRef:K}){if(this.refs[Ze])throw new Error(`AnySchema ${Ze} is loaded but ${K} cannot be resolved`)}async function Gt(Ze){const K=await Pr.call(this,Ze);this.refs[Ze]||await $e.call(this,K.$schema),this.refs[Ze]||this.addSchema(K,Ze,yt)}async function Pr(Ze){const K=this._loading[Ze];if(K)return K;try{return await(this._loading[Ze]=ot(Ze))}finally{delete this._loading[Ze]}}}addSchema(Re,yt,ot,de=this.opts.validateSchema){if(Array.isArray(Re)){for(const lt of Re)this.addSchema(lt,void 0,ot,de);return this}let $e;if(typeof Re=="object"){const{schemaId:lt}=this.opts;if($e=Re[lt],$e!==void 0&&typeof $e!="string")throw new Error(`schema ${lt} must be string`)}return yt=(0,R.normalizeId)(yt||$e),this._checkUnique(yt),this.schemas[yt]=this._addSchema(Re,ot,yt,de,!0),this}addMetaSchema(Re,yt,ot=this.opts.validateSchema){return this.addSchema(Re,yt,!0,ot),this}validateSchema(Re,yt){if(typeof Re=="boolean")return!0;let ot;if(ot=Re.$schema,ot!==void 0&&typeof ot!="string")throw new Error("$schema must be a string");if(ot=ot||this.opts.defaultMeta||this.defaultMeta(),!ot)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const de=this.validate(ot,Re);if(!de&&yt){const $e="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error($e);else throw new Error($e)}return de}getSchema(Re){let yt;for(;typeof(yt=te.call(this,Re))=="string";)Re=yt;if(yt===void 0){const{schemaId:ot}=this.opts,de=new D.SchemaEnv({schema:{},schemaId:ot});if(yt=D.resolveSchema.call(this,de,Re),!yt)return;this.refs[Re]=yt}return yt.validate||this._compileSchemaEnv(yt)}removeSchema(Re){if(Re instanceof RegExp)return this._removeAllSchemas(this.schemas,Re),this._removeAllSchemas(this.refs,Re),this;switch(typeof Re){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const yt=te.call(this,Re);return typeof yt=="object"&&this._cache.delete(yt.schema),delete this.schemas[Re],delete this.refs[Re],this}case"object":{const yt=Re;this._cache.delete(yt);let ot=Re[this.opts.schemaId];return ot&&(ot=(0,R.normalizeId)(ot),delete this.schemas[ot],delete this.refs[ot]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(Re){for(const yt of Re)this.addKeyword(yt);return this}addKeyword(Re,yt){let ot;if(typeof Re=="string")ot=Re,typeof yt=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),yt.keyword=ot);else if(typeof Re=="object"&&yt===void 0){if(yt=Re,ot=yt.keyword,Array.isArray(ot)&&!ot.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(st.call(this,ot,yt),!yt)return(0,z.eachItem)(ot,$e=>Ge.call(this,$e)),this;or.call(this,yt);const de={...yt,type:(0,$.getJSONTypes)(yt.type),schemaType:(0,$.getJSONTypes)(yt.schemaType)};return(0,z.eachItem)(ot,de.type.length===0?$e=>Ge.call(this,$e,de):$e=>de.type.forEach(lt=>Ge.call(this,$e,de,lt))),this}getKeyword(Re){const yt=this.RULES.all[Re];return typeof yt=="object"?yt.definition:!!yt}removeKeyword(Re){const{RULES:yt}=this;delete yt.keywords[Re],delete yt.all[Re];for(const ot of yt.rules){const de=ot.rules.findIndex($e=>$e.keyword===Re);de>=0&&ot.rules.splice(de,1)}return this}addFormat(Re,yt){return typeof yt=="string"&&(yt=new RegExp(yt)),this.formats[Re]=yt,this}errorsText(Re=this.errors,{separator:yt=", ",dataVar:ot="data"}={}){return!Re||Re.length===0?"No errors":Re.map(de=>`${ot}${de.instancePath} ${de.message}`).reduce((de,$e)=>de+yt+$e)}$dataMetaSchema(Re,yt){const ot=this.RULES.all;Re=JSON.parse(JSON.stringify(Re));for(const de of yt){const $e=de.split("/").slice(1);let lt=Re;for(const Dt of $e)lt=lt[Dt];for(const Dt in ot){const Gt=ot[Dt];if(typeof Gt!="object")continue;const{$data:Pr}=Gt.definition,Ze=lt[Dt];Pr&&Ze&&(lt[Dt]=xt(Ze))}}return Re}_removeAllSchemas(Re,yt){for(const ot in Re){const de=Re[ot];(!yt||yt.test(ot))&&(typeof de=="string"?delete Re[ot]:de&&!de.meta&&(this._cache.delete(de.schema),delete Re[ot]))}}_addSchema(Re,yt,ot,de=this.opts.validateSchema,$e=this.opts.addUsedSchema){let lt;const{schemaId:Dt}=this.opts;if(typeof Re=="object")lt=Re[Dt];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof Re!="boolean")throw new Error("schema must be object or boolean")}let Gt=this._cache.get(Re);if(Gt!==void 0)return Gt;ot=(0,R.normalizeId)(lt||ot);const Pr=R.getSchemaRefs.call(this,Re,ot);return Gt=new D.SchemaEnv({schema:Re,schemaId:Dt,meta:yt,baseId:ot,localRefs:Pr}),this._cache.set(Gt.schema,Gt),$e&&!ot.startsWith("#")&&(ot&&this._checkUnique(ot),this.refs[ot]=Gt),de&&this.validateSchema(Re,!0),Gt}_checkUnique(Re){if(this.schemas[Re]||this.refs[Re])throw new Error(`schema with key or id "${Re}" already exists`)}_compileSchemaEnv(Re){if(Re.meta?this._compileMetaSchema(Re):D.compileSchema.call(this,Re),!Re.validate)throw new Error("ajv implementation error");return Re.validate}_compileMetaSchema(Re){const yt=this.opts;this.opts=this._metaOpts;try{D.compileSchema.call(this,Re)}finally{this.opts=yt}}}b.default=fe,fe.ValidationError=I.default,fe.MissingRefError=O.default;function be(mt,Re,yt,ot="error"){for(const de in mt){const $e=de;$e in Re&&this.logger[ot](`${yt}: option ${de}. ${mt[$e]}`)}}function te(mt){return mt=(0,R.normalizeId)(mt),this.schemas[mt]||this.refs[mt]}function M(){const mt=this.opts.schemas;if(mt)if(Array.isArray(mt))this.addSchema(mt);else for(const Re in mt)this.addSchema(mt[Re],Re)}function xe(){for(const mt in this.opts.formats){const Re=this.opts.formats[mt];Re&&this.addFormat(mt,Re)}}function Le(mt){if(Array.isArray(mt)){this.addVocabulary(mt);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const Re in mt){const yt=mt[Re];yt.keyword||(yt.keyword=Re),this.addKeyword(yt)}}function Ce(){const mt={...this.opts};for(const Re of oe)delete mt[Re];return mt}const Ke={log(){},warn(){},error(){}};function Xe(mt){if(mt===!1)return Ke;if(mt===void 0)return console;if(mt.log&&mt.warn&&mt.error)return mt;throw new Error("logger must implement log, warn and error methods")}const dt=/^[a-z_$][a-z0-9_$:-]*$/i;function st(mt,Re){const{RULES:yt}=this;if((0,z.eachItem)(mt,ot=>{if(yt.keywords[ot])throw new Error(`Keyword ${ot} is already defined`);if(!dt.test(ot))throw new Error(`Keyword ${ot} has invalid name`)}),!!Re&&Re.$data&&!("code"in Re||"validate"in Re))throw new Error('$data keyword must have "code" or "validate" function')}function Ge(mt,Re,yt){var ot;const de=Re==null?void 0:Re.post;if(yt&&de)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:$e}=this;let lt=de?$e.post:$e.rules.find(({type:Gt})=>Gt===yt);if(lt||(lt={type:yt,rules:[]},$e.rules.push(lt)),$e.keywords[mt]=!0,!Re)return;const Dt={keyword:mt,definition:{...Re,type:(0,$.getJSONTypes)(Re.type),schemaType:(0,$.getJSONTypes)(Re.schemaType)}};Re.before?_t.call(this,lt,Dt,Re.before):lt.rules.push(Dt),$e.all[mt]=Dt,(ot=Re.implements)===null||ot===void 0||ot.forEach(Gt=>this.addKeyword(Gt))}function _t(mt,Re,yt){const ot=mt.rules.findIndex(de=>de.keyword===yt);ot>=0?mt.rules.splice(ot,0,Re):(mt.rules.push(Re),this.logger.warn(`rule ${yt} is not defined`))}function or(mt){let{metaSchema:Re}=mt;Re!==void 0&&(mt.$data&&this.opts.$data&&(Re=xt(Re)),mt.validateSchema=this.compile(Re,!0))}const St={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function xt(mt){return{anyOf:[mt,St]}}},64629:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(69378);o.code='require("ajv/dist/runtime/equal").default',b.default=o},72496:function(Te,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});function a(o){const m=o.length;let I=0,O=0,_;for(;O<m;)I++,_=o.charCodeAt(O++),_>=55296&&_<=56319&&O<m&&(_=o.charCodeAt(O),(_&64512)===56320&&O++);return I}b.default=a,a.code='require("ajv/dist/runtime/ucs2length").default'},36651:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(12854);o.code='require("ajv/dist/runtime/uri").default',b.default=o},65282:function(Te,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});class a extends Error{constructor(m){super("validation failed"),this.errors=m,this.ajv=this.validation=!0}}b.default=a},80663:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateAdditionalItems=void 0;const o=a(45117),m=a(79812),O={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:D}})=>(0,o.str)`must NOT have more than ${D} items`,params:({params:{len:D}})=>(0,o._)`{limit: ${D}}`},code(D){const{parentSchema:N,it:R}=D,{items:$}=N;if(!Array.isArray($)){(0,m.checkStrictMode)(R,'"additionalItems" is ignored when "items" is not an array of schemas');return}_(D,$)}};function _(D,N){const{gen:R,schema:$,data:z,keyword:J,it:ee}=D;ee.items=!0;const re=R.const("len",(0,o._)`${z}.length`);if($===!1)D.setParams({len:N.length}),D.pass((0,o._)`${re} <= ${N.length}`);else if(typeof $=="object"&&!(0,m.alwaysValidSchema)(ee,$)){const ye=R.var("valid",(0,o._)`${re} <= ${N.length}`);R.if((0,o.not)(ye),()=>oe(ye)),D.ok(ye)}function oe(ye){R.forRange("i",N.length,re,F=>{D.subschema({keyword:J,dataProp:F,dataPropType:m.Type.Num},ye),ee.allErrors||R.if((0,o.not)(ye),()=>R.break())})}}b.validateAdditionalItems=_,b.default=O},36166:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(13898),m=a(45117),I=a(93239),O=a(79812),D={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:N})=>(0,m._)`{additionalProperty: ${N.additionalProperty}}`},code(N){const{gen:R,schema:$,parentSchema:z,data:J,errsCount:ee,it:re}=N;if(!ee)throw new Error("ajv implementation error");const{allErrors:oe,opts:ye}=re;if(re.props=!0,ye.removeAdditional!=="all"&&(0,O.alwaysValidSchema)(re,$))return;const F=(0,o.allSchemaProperties)(z.properties),G=(0,o.allSchemaProperties)(z.patternProperties);Se(),N.ok((0,m._)`${ee} === ${I.default.errors}`);function Se(){R.forIn("key",J,M=>{!F.length&&!G.length?be(M):R.if(se(M),()=>be(M))})}function se(M){let xe;if(F.length>8){const Le=(0,O.schemaRefOrVal)(re,z.properties,"properties");xe=(0,o.isOwnProperty)(R,Le,M)}else F.length?xe=(0,m.or)(...F.map(Le=>(0,m._)`${M} === ${Le}`)):xe=m.nil;return G.length&&(xe=(0,m.or)(xe,...G.map(Le=>(0,m._)`${(0,o.usePattern)(N,Le)}.test(${M})`))),(0,m.not)(xe)}function fe(M){R.code((0,m._)`delete ${J}[${M}]`)}function be(M){if(ye.removeAdditional==="all"||ye.removeAdditional&&$===!1){fe(M);return}if($===!1){N.setParams({additionalProperty:M}),N.error(),oe||R.break();return}if(typeof $=="object"&&!(0,O.alwaysValidSchema)(re,$)){const xe=R.name("valid");ye.removeAdditional==="failing"?(te(M,xe,!1),R.if((0,m.not)(xe),()=>{N.reset(),fe(M)})):(te(M,xe),oe||R.if((0,m.not)(xe),()=>R.break()))}}function te(M,xe,Le){const Ce={keyword:"additionalProperties",dataProp:M,dataPropType:O.Type.Str};Le===!1&&Object.assign(Ce,{compositeRule:!0,createErrors:!1,allErrors:!1}),N.subschema(Ce,xe)}}};b.default=D},2973:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(79812),m={keyword:"allOf",schemaType:"array",code(I){const{gen:O,schema:_,it:D}=I;if(!Array.isArray(_))throw new Error("ajv implementation error");const N=O.name("valid");_.forEach((R,$)=>{if((0,o.alwaysValidSchema)(D,R))return;const z=I.subschema({keyword:"allOf",schemaProp:$},N);I.ok(N),I.mergeEvaluated(z)})}};b.default=m},3067:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const m={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:a(13898).validateUnion,error:{message:"must match a schema in anyOf"}};b.default=m},53608:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(45117),m=a(79812),O={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:_,max:D}})=>D===void 0?(0,o.str)`must contain at least ${_} valid item(s)`:(0,o.str)`must contain at least ${_} and no more than ${D} valid item(s)`,params:({params:{min:_,max:D}})=>D===void 0?(0,o._)`{minContains: ${_}}`:(0,o._)`{minContains: ${_}, maxContains: ${D}}`},code(_){const{gen:D,schema:N,parentSchema:R,data:$,it:z}=_;let J,ee;const{minContains:re,maxContains:oe}=R;z.opts.next?(J=re===void 0?1:re,ee=oe):J=1;const ye=D.const("len",(0,o._)`${$}.length`);if(_.setParams({min:J,max:ee}),ee===void 0&&J===0){(0,m.checkStrictMode)(z,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(ee!==void 0&&J>ee){(0,m.checkStrictMode)(z,'"minContains" > "maxContains" is always invalid'),_.fail();return}if((0,m.alwaysValidSchema)(z,N)){let fe=(0,o._)`${ye} >= ${J}`;ee!==void 0&&(fe=(0,o._)`${fe} && ${ye} <= ${ee}`),_.pass(fe);return}z.items=!0;const F=D.name("valid");ee===void 0&&J===1?Se(F,()=>D.if(F,()=>D.break())):J===0?(D.let(F,!0),ee!==void 0&&D.if((0,o._)`${$}.length > 0`,G)):(D.let(F,!1),G()),_.result(F,()=>_.reset());function G(){const fe=D.name("_valid"),be=D.let("count",0);Se(fe,()=>D.if(fe,()=>se(be)))}function Se(fe,be){D.forRange("i",0,ye,te=>{_.subschema({keyword:"contains",dataProp:te,dataPropType:m.Type.Num,compositeRule:!0},fe),be()})}function se(fe){D.code((0,o._)`${fe}++`),ee===void 0?D.if((0,o._)`${fe} >= ${J}`,()=>D.assign(F,!0).break()):(D.if((0,o._)`${fe} > ${ee}`,()=>D.assign(F,!1).break()),J===1?D.assign(F,!0):D.if((0,o._)`${fe} >= ${J}`,()=>D.assign(F,!0)))}}};b.default=O},96859:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateSchemaDeps=b.validatePropertyDeps=b.error=void 0;const o=a(45117),m=a(79812),I=a(13898);b.error={message:({params:{property:R,depsCount:$,deps:z}})=>{const J=$===1?"property":"properties";return(0,o.str)`must have ${J} ${z} when property ${R} is present`},params:({params:{property:R,depsCount:$,deps:z,missingProperty:J}})=>(0,o._)`{property: ${R},
    missingProperty: ${J},
    depsCount: ${$},
    deps: ${z}}`};const O={keyword:"dependencies",type:"object",schemaType:"object",error:b.error,code(R){const[$,z]=_(R);D(R,$),N(R,z)}};function _({schema:R}){const $={},z={};for(const J in R){if(J==="__proto__")continue;const ee=Array.isArray(R[J])?$:z;ee[J]=R[J]}return[$,z]}function D(R,$=R.schema){const{gen:z,data:J,it:ee}=R;if(Object.keys($).length===0)return;const re=z.let("missing");for(const oe in $){const ye=$[oe];if(ye.length===0)continue;const F=(0,I.propertyInData)(z,J,oe,ee.opts.ownProperties);R.setParams({property:oe,depsCount:ye.length,deps:ye.join(", ")}),ee.allErrors?z.if(F,()=>{for(const G of ye)(0,I.checkReportMissingProp)(R,G)}):(z.if((0,o._)`${F} && (${(0,I.checkMissingProp)(R,ye,re)})`),(0,I.reportMissingProp)(R,re),z.else())}}b.validatePropertyDeps=D;function N(R,$=R.schema){const{gen:z,data:J,keyword:ee,it:re}=R,oe=z.name("valid");for(const ye in $)(0,m.alwaysValidSchema)(re,$[ye])||(z.if((0,I.propertyInData)(z,J,ye,re.opts.ownProperties),()=>{const F=R.subschema({keyword:ee,schemaProp:ye},oe);R.mergeValidEvaluated(F,oe)},()=>z.var(oe,!0)),R.ok(oe))}b.validateSchemaDeps=N,b.default=O},91569:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(45117),m=a(79812),O={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:D})=>(0,o.str)`must match "${D.ifClause}" schema`,params:({params:D})=>(0,o._)`{failingKeyword: ${D.ifClause}}`},code(D){const{gen:N,parentSchema:R,it:$}=D;R.then===void 0&&R.else===void 0&&(0,m.checkStrictMode)($,'"if" without "then" and "else" is ignored');const z=_($,"then"),J=_($,"else");if(!z&&!J)return;const ee=N.let("valid",!0),re=N.name("_valid");if(oe(),D.reset(),z&&J){const F=N.let("ifClause");D.setParams({ifClause:F}),N.if(re,ye("then",F),ye("else",F))}else z?N.if(re,ye("then")):N.if((0,o.not)(re),ye("else"));D.pass(ee,()=>D.error(!0));function oe(){const F=D.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},re);D.mergeEvaluated(F)}function ye(F,G){return()=>{const Se=D.subschema({keyword:F},re);N.assign(ee,re),D.mergeValidEvaluated(Se,ee),G?N.assign(G,(0,o._)`${F}`):D.setParams({ifClause:F})}}}};function _(D,N){const R=D.schema[N];return R!==void 0&&!(0,m.alwaysValidSchema)(D,R)}b.default=O},59708:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(80663),m=a(85490),I=a(22858),O=a(45610),_=a(53608),D=a(96859),N=a(17366),R=a(36166),$=a(34983),z=a(34783),J=a(63464),ee=a(3067),re=a(89338),oe=a(2973),ye=a(91569),F=a(7303);function G(Se=!1){const se=[J.default,ee.default,re.default,oe.default,ye.default,F.default,N.default,R.default,D.default,$.default,z.default];return Se?se.push(m.default,O.default):se.push(o.default,I.default),se.push(_.default),se}b.default=G},22858:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateTuple=void 0;const o=a(45117),m=a(79812),I=a(13898),O={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(D){const{schema:N,it:R}=D;if(Array.isArray(N))return _(D,"additionalItems",N);R.items=!0,!(0,m.alwaysValidSchema)(R,N)&&D.ok((0,I.validateArray)(D))}};function _(D,N,R=D.schema){const{gen:$,parentSchema:z,data:J,keyword:ee,it:re}=D;F(z),re.opts.unevaluated&&R.length&&re.items!==!0&&(re.items=m.mergeEvaluated.items($,R.length,re.items));const oe=$.name("valid"),ye=$.const("len",(0,o._)`${J}.length`);R.forEach((G,Se)=>{(0,m.alwaysValidSchema)(re,G)||($.if((0,o._)`${ye} > ${Se}`,()=>D.subschema({keyword:ee,schemaProp:Se,dataProp:Se},oe)),D.ok(oe))});function F(G){const{opts:Se,errSchemaPath:se}=re,fe=R.length,be=fe===G.minItems&&(fe===G.maxItems||G[N]===!1);if(Se.strictTuples&&!be){const te=`"${ee}" is ${fe}-tuple, but minItems or maxItems/${N} are not specified or different at path "${se}"`;(0,m.checkStrictMode)(re,te,Se.strictTuples)}}}b.validateTuple=_,b.default=O},45610:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(45117),m=a(79812),I=a(13898),O=a(80663),D={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:N}})=>(0,o.str)`must NOT have more than ${N} items`,params:({params:{len:N}})=>(0,o._)`{limit: ${N}}`},code(N){const{schema:R,parentSchema:$,it:z}=N,{prefixItems:J}=$;z.items=!0,!(0,m.alwaysValidSchema)(z,R)&&(J?(0,O.validateAdditionalItems)(N,J):N.ok((0,I.validateArray)(N)))}};b.default=D},63464:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(79812),m={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(I){const{gen:O,schema:_,it:D}=I;if((0,o.alwaysValidSchema)(D,_)){I.fail();return}const N=O.name("valid");I.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},N),I.failResult(N,()=>I.reset(),()=>I.error())},error:{message:"must NOT be valid"}};b.default=m},89338:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(45117),m=a(79812),O={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:_})=>(0,o._)`{passingSchemas: ${_.passing}}`},code(_){const{gen:D,schema:N,parentSchema:R,it:$}=_;if(!Array.isArray(N))throw new Error("ajv implementation error");if($.opts.discriminator&&R.discriminator)return;const z=N,J=D.let("valid",!1),ee=D.let("passing",null),re=D.name("_valid");_.setParams({passing:ee}),D.block(oe),_.result(J,()=>_.reset(),()=>_.error(!0));function oe(){z.forEach((ye,F)=>{let G;(0,m.alwaysValidSchema)($,ye)?D.var(re,!0):G=_.subschema({keyword:"oneOf",schemaProp:F,compositeRule:!0},re),F>0&&D.if((0,o._)`${re} && ${J}`).assign(J,!1).assign(ee,(0,o._)`[${ee}, ${F}]`).else(),D.if(re,()=>{D.assign(J,!0),D.assign(ee,F),G&&_.mergeEvaluated(G,o.Name)})})}}};b.default=O},34783:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(13898),m=a(45117),I=a(79812),O=a(79812),_={keyword:"patternProperties",type:"object",schemaType:"object",code(D){const{gen:N,schema:R,data:$,parentSchema:z,it:J}=D,{opts:ee}=J,re=(0,o.allSchemaProperties)(R),oe=re.filter(be=>(0,I.alwaysValidSchema)(J,R[be]));if(re.length===0||oe.length===re.length&&(!J.opts.unevaluated||J.props===!0))return;const ye=ee.strictSchema&&!ee.allowMatchingProperties&&z.properties,F=N.name("valid");J.props!==!0&&!(J.props instanceof m.Name)&&(J.props=(0,O.evaluatedPropsToName)(N,J.props));const{props:G}=J;Se();function Se(){for(const be of re)ye&&se(be),J.allErrors?fe(be):(N.var(F,!0),fe(be),N.if(F))}function se(be){for(const te in ye)new RegExp(be).test(te)&&(0,I.checkStrictMode)(J,`property ${te} matches pattern ${be} (use allowMatchingProperties)`)}function fe(be){N.forIn("key",$,te=>{N.if((0,m._)`${(0,o.usePattern)(D,be)}.test(${te})`,()=>{const M=oe.includes(be);M||D.subschema({keyword:"patternProperties",schemaProp:be,dataProp:te,dataPropType:O.Type.Str},F),J.opts.unevaluated&&G!==!0?N.assign((0,m._)`${G}[${te}]`,!0):!M&&!J.allErrors&&N.if((0,m.not)(F),()=>N.break())})})}}};b.default=_},85490:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(22858),m={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:I=>(0,o.validateTuple)(I,"items")};b.default=m},34983:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(53970),m=a(13898),I=a(79812),O=a(36166),_={keyword:"properties",type:"object",schemaType:"object",code(D){const{gen:N,schema:R,parentSchema:$,data:z,it:J}=D;J.opts.removeAdditional==="all"&&$.additionalProperties===void 0&&O.default.code(new o.KeywordCxt(J,O.default,"additionalProperties"));const ee=(0,m.allSchemaProperties)(R);for(const G of ee)J.definedProperties.add(G);J.opts.unevaluated&&ee.length&&J.props!==!0&&(J.props=I.mergeEvaluated.props(N,(0,I.toHash)(ee),J.props));const re=ee.filter(G=>!(0,I.alwaysValidSchema)(J,R[G]));if(re.length===0)return;const oe=N.name("valid");for(const G of re)ye(G)?F(G):(N.if((0,m.propertyInData)(N,z,G,J.opts.ownProperties)),F(G),J.allErrors||N.else().var(oe,!0),N.endIf()),D.it.definedProperties.add(G),D.ok(oe);function ye(G){return J.opts.useDefaults&&!J.compositeRule&&R[G].default!==void 0}function F(G){D.subschema({keyword:"properties",schemaProp:G,dataProp:G},oe)}}};b.default=_},17366:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(45117),m=a(79812),O={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:_})=>(0,o._)`{propertyName: ${_.propertyName}}`},code(_){const{gen:D,schema:N,data:R,it:$}=_;if((0,m.alwaysValidSchema)($,N))return;const z=D.name("valid");D.forIn("key",R,J=>{_.setParams({propertyName:J}),_.subschema({keyword:"propertyNames",data:J,dataTypes:["string"],propertyName:J,compositeRule:!0},z),D.if((0,o.not)(z),()=>{_.error(!0),$.allErrors||D.break()})}),_.ok(z)}};b.default=O},7303:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(79812),m={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:I,parentSchema:O,it:_}){O.if===void 0&&(0,o.checkStrictMode)(_,`"${I}" without "if" is ignored`)}};b.default=m},13898:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.validateUnion=b.validateArray=b.usePattern=b.callValidateCode=b.schemaProperties=b.allSchemaProperties=b.noPropertyInData=b.propertyInData=b.isOwnProperty=b.hasPropFunc=b.reportMissingProp=b.checkMissingProp=b.checkReportMissingProp=void 0;const o=a(45117),m=a(79812),I=a(93239),O=a(79812);function _(se,fe){const{gen:be,data:te,it:M}=se;be.if(J(be,te,fe,M.opts.ownProperties),()=>{se.setParams({missingProperty:(0,o._)`${fe}`},!0),se.error()})}b.checkReportMissingProp=_;function D({gen:se,data:fe,it:{opts:be}},te,M){return(0,o.or)(...te.map(xe=>(0,o.and)(J(se,fe,xe,be.ownProperties),(0,o._)`${M} = ${xe}`)))}b.checkMissingProp=D;function N(se,fe){se.setParams({missingProperty:fe},!0),se.error()}b.reportMissingProp=N;function R(se){return se.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,o._)`Object.prototype.hasOwnProperty`})}b.hasPropFunc=R;function $(se,fe,be){return(0,o._)`${R(se)}.call(${fe}, ${be})`}b.isOwnProperty=$;function z(se,fe,be,te){const M=(0,o._)`${fe}${(0,o.getProperty)(be)} !== undefined`;return te?(0,o._)`${M} && ${$(se,fe,be)}`:M}b.propertyInData=z;function J(se,fe,be,te){const M=(0,o._)`${fe}${(0,o.getProperty)(be)} === undefined`;return te?(0,o.or)(M,(0,o.not)($(se,fe,be))):M}b.noPropertyInData=J;function ee(se){return se?Object.keys(se).filter(fe=>fe!=="__proto__"):[]}b.allSchemaProperties=ee;function re(se,fe){return ee(fe).filter(be=>!(0,m.alwaysValidSchema)(se,fe[be]))}b.schemaProperties=re;function oe({schemaCode:se,data:fe,it:{gen:be,topSchemaRef:te,schemaPath:M,errorPath:xe},it:Le},Ce,Ke,Xe){const dt=Xe?(0,o._)`${se}, ${fe}, ${te}${M}`:fe,st=[[I.default.instancePath,(0,o.strConcat)(I.default.instancePath,xe)],[I.default.parentData,Le.parentData],[I.default.parentDataProperty,Le.parentDataProperty],[I.default.rootData,I.default.rootData]];Le.opts.dynamicRef&&st.push([I.default.dynamicAnchors,I.default.dynamicAnchors]);const Ge=(0,o._)`${dt}, ${be.object(...st)}`;return Ke!==o.nil?(0,o._)`${Ce}.call(${Ke}, ${Ge})`:(0,o._)`${Ce}(${Ge})`}b.callValidateCode=oe;const ye=(0,o._)`new RegExp`;function F({gen:se,it:{opts:fe}},be){const te=fe.unicodeRegExp?"u":"",{regExp:M}=fe.code,xe=M(be,te);return se.scopeValue("pattern",{key:xe.toString(),ref:xe,code:(0,o._)`${M.code==="new RegExp"?ye:(0,O.useFunc)(se,M)}(${be}, ${te})`})}b.usePattern=F;function G(se){const{gen:fe,data:be,keyword:te,it:M}=se,xe=fe.name("valid");if(M.allErrors){const Ce=fe.let("valid",!0);return Le(()=>fe.assign(Ce,!1)),Ce}return fe.var(xe,!0),Le(()=>fe.break()),xe;function Le(Ce){const Ke=fe.const("len",(0,o._)`${be}.length`);fe.forRange("i",0,Ke,Xe=>{se.subschema({keyword:te,dataProp:Xe,dataPropType:m.Type.Num},xe),fe.if((0,o.not)(xe),Ce)})}}b.validateArray=G;function Se(se){const{gen:fe,schema:be,keyword:te,it:M}=se;if(!Array.isArray(be))throw new Error("ajv implementation error");if(be.some(Ke=>(0,m.alwaysValidSchema)(M,Ke))&&!M.opts.unevaluated)return;const Le=fe.let("valid",!1),Ce=fe.name("_valid");fe.block(()=>be.forEach((Ke,Xe)=>{const dt=se.subschema({keyword:te,schemaProp:Xe,compositeRule:!0},Ce);fe.assign(Le,(0,o._)`${Le} || ${Ce}`),se.mergeValidEvaluated(dt,Ce)||fe.if((0,o.not)(Le))})),se.result(Le,()=>se.reset(),()=>se.error(!0))}b.validateUnion=Se},70076:function(Te,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const a={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};b.default=a},90394:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(70076),m=a(77350),I=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",o.default,m.default];b.default=I},77350:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.callRef=b.getValidate=void 0;const o=a(97566),m=a(13898),I=a(45117),O=a(93239),_=a(19984),D=a(79812),N={keyword:"$ref",schemaType:"string",code(z){const{gen:J,schema:ee,it:re}=z,{baseId:oe,schemaEnv:ye,validateName:F,opts:G,self:Se}=re,{root:se}=ye;if((ee==="#"||ee==="#/")&&oe===se.baseId)return be();const fe=_.resolveRef.call(Se,se,oe,ee);if(fe===void 0)throw new o.default(re.opts.uriResolver,oe,ee);if(fe instanceof _.SchemaEnv)return te(fe);return M(fe);function be(){if(ye===se)return $(z,F,ye,ye.$async);const xe=J.scopeValue("root",{ref:se});return $(z,(0,I._)`${xe}.validate`,se,se.$async)}function te(xe){const Le=R(z,xe);$(z,Le,xe,xe.$async)}function M(xe){const Le=J.scopeValue("schema",G.code.source===!0?{ref:xe,code:(0,I.stringify)(xe)}:{ref:xe}),Ce=J.name("valid"),Ke=z.subschema({schema:xe,dataTypes:[],schemaPath:I.nil,topSchemaRef:Le,errSchemaPath:ee},Ce);z.mergeEvaluated(Ke),z.ok(Ce)}}};function R(z,J){const{gen:ee}=z;return J.validate?ee.scopeValue("validate",{ref:J.validate}):(0,I._)`${ee.scopeValue("wrapper",{ref:J})}.validate`}b.getValidate=R;function $(z,J,ee,re){const{gen:oe,it:ye}=z,{allErrors:F,schemaEnv:G,opts:Se}=ye,se=Se.passContext?O.default.this:I.nil;re?fe():be();function fe(){if(!G.$async)throw new Error("async schema referenced by sync schema");const xe=oe.let("valid");oe.try(()=>{oe.code((0,I._)`await ${(0,m.callValidateCode)(z,J,se)}`),M(J),F||oe.assign(xe,!0)},Le=>{oe.if((0,I._)`!(${Le} instanceof ${ye.ValidationError})`,()=>oe.throw(Le)),te(Le),F||oe.assign(xe,!1)}),z.ok(xe)}function be(){z.result((0,m.callValidateCode)(z,J,se),()=>M(J),()=>te(J))}function te(xe){const Le=(0,I._)`${xe}.errors`;oe.assign(O.default.vErrors,(0,I._)`${O.default.vErrors} === null ? ${Le} : ${O.default.vErrors}.concat(${Le})`),oe.assign(O.default.errors,(0,I._)`${O.default.vErrors}.length`)}function M(xe){var Le;if(!ye.opts.unevaluated)return;const Ce=(Le=ee==null?void 0:ee.validate)===null||Le===void 0?void 0:Le.evaluated;if(ye.props!==!0)if(Ce&&!Ce.dynamicProps)Ce.props!==void 0&&(ye.props=D.mergeEvaluated.props(oe,Ce.props,ye.props));else{const Ke=oe.var("props",(0,I._)`${xe}.evaluated.props`);ye.props=D.mergeEvaluated.props(oe,Ke,ye.props,I.Name)}if(ye.items!==!0)if(Ce&&!Ce.dynamicItems)Ce.items!==void 0&&(ye.items=D.mergeEvaluated.items(oe,Ce.items,ye.items));else{const Ke=oe.var("items",(0,I._)`${xe}.evaluated.items`);ye.items=D.mergeEvaluated.items(oe,Ke,ye.items,I.Name)}}}b.callRef=$,b.default=N},72360:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(45117),m=a(41720),I=a(19984),O=a(79812),D={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:N,tagName:R}})=>N===m.DiscrError.Tag?`tag "${R}" must be string`:`value of tag "${R}" must be in oneOf`,params:({params:{discrError:N,tag:R,tagName:$}})=>(0,o._)`{error: ${N}, tag: ${$}, tagValue: ${R}}`},code(N){const{gen:R,data:$,schema:z,parentSchema:J,it:ee}=N,{oneOf:re}=J;if(!ee.opts.discriminator)throw new Error("discriminator: requires discriminator option");const oe=z.propertyName;if(typeof oe!="string")throw new Error("discriminator: requires propertyName");if(z.mapping)throw new Error("discriminator: mapping is not supported");if(!re)throw new Error("discriminator: requires oneOf keyword");const ye=R.let("valid",!1),F=R.const("tag",(0,o._)`${$}${(0,o.getProperty)(oe)}`);R.if((0,o._)`typeof ${F} == "string"`,()=>G(),()=>N.error(!1,{discrError:m.DiscrError.Tag,tag:F,tagName:oe})),N.ok(ye);function G(){const fe=se();R.if(!1);for(const be in fe)R.elseIf((0,o._)`${F} === ${be}`),R.assign(ye,Se(fe[be]));R.else(),N.error(!1,{discrError:m.DiscrError.Mapping,tag:F,tagName:oe}),R.endIf()}function Se(fe){const be=R.name("valid"),te=N.subschema({keyword:"oneOf",schemaProp:fe},be);return N.mergeEvaluated(te,o.Name),be}function se(){var fe;const be={},te=xe(J);let M=!0;for(let Ke=0;Ke<re.length;Ke++){let Xe=re[Ke];Xe!=null&&Xe.$ref&&!(0,O.schemaHasRulesButRef)(Xe,ee.self.RULES)&&(Xe=I.resolveRef.call(ee.self,ee.schemaEnv.root,ee.baseId,Xe==null?void 0:Xe.$ref),Xe instanceof I.SchemaEnv&&(Xe=Xe.schema));const dt=(fe=Xe==null?void 0:Xe.properties)===null||fe===void 0?void 0:fe[oe];if(typeof dt!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${oe}"`);M=M&&(te||xe(Xe)),Le(dt,Ke)}if(!M)throw new Error(`discriminator: "${oe}" must be required`);return be;function xe({required:Ke}){return Array.isArray(Ke)&&Ke.includes(oe)}function Le(Ke,Xe){if(Ke.const)Ce(Ke.const,Xe);else if(Ke.enum)for(const dt of Ke.enum)Ce(dt,Xe);else throw new Error(`discriminator: "properties/${oe}" must have "const" or "enum"`)}function Ce(Ke,Xe){if(typeof Ke!="string"||Ke in be)throw new Error(`discriminator: "${oe}" values must be unique strings`);be[Ke]=Xe}}}};b.default=D},41720:function(Te,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DiscrError=void 0;var a;(function(o){o.Tag="tag",o.Mapping="mapping"})(a=b.DiscrError||(b.DiscrError={}))},6797:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(90394),m=a(80794),I=a(59708),O=a(76481),_=a(43886),D=[o.default,m.default,(0,I.default)(),O.default,_.metadataVocabulary,_.contentVocabulary];b.default=D},9470:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(45117),I={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:O})=>(0,o.str)`must match format "${O}"`,params:({schemaCode:O})=>(0,o._)`{format: ${O}}`},code(O,_){const{gen:D,data:N,$data:R,schema:$,schemaCode:z,it:J}=O,{opts:ee,errSchemaPath:re,schemaEnv:oe,self:ye}=J;if(!ee.validateFormats)return;R?F():G();function F(){const Se=D.scopeValue("formats",{ref:ye.formats,code:ee.code.formats}),se=D.const("fDef",(0,o._)`${Se}[${z}]`),fe=D.let("fType"),be=D.let("format");D.if((0,o._)`typeof ${se} == "object" && !(${se} instanceof RegExp)`,()=>D.assign(fe,(0,o._)`${se}.type || "string"`).assign(be,(0,o._)`${se}.validate`),()=>D.assign(fe,(0,o._)`"string"`).assign(be,se)),O.fail$data((0,o.or)(te(),M()));function te(){return ee.strictSchema===!1?o.nil:(0,o._)`${z} && !${be}`}function M(){const xe=oe.$async?(0,o._)`(${se}.async ? await ${be}(${N}) : ${be}(${N}))`:(0,o._)`${be}(${N})`,Le=(0,o._)`(typeof ${be} == "function" ? ${xe} : ${be}.test(${N}))`;return(0,o._)`${be} && ${be} !== true && ${fe} === ${_} && !${Le}`}}function G(){const Se=ye.formats[$];if(!Se){te();return}if(Se===!0)return;const[se,fe,be]=M(Se);se===_&&O.pass(xe());function te(){if(ee.strictSchema===!1){ye.logger.warn(Le());return}throw new Error(Le());function Le(){return`unknown format "${$}" ignored in schema at path "${re}"`}}function M(Le){const Ce=Le instanceof RegExp?(0,o.regexpCode)(Le):ee.code.formats?(0,o._)`${ee.code.formats}${(0,o.getProperty)($)}`:void 0,Ke=D.scopeValue("formats",{key:$,ref:Le,code:Ce});return typeof Le=="object"&&!(Le instanceof RegExp)?[Le.type||"string",Le.validate,(0,o._)`${Ke}.validate`]:["string",Le,Ke]}function xe(){if(typeof Se=="object"&&!(Se instanceof RegExp)&&Se.async){if(!oe.$async)throw new Error("async format in sync schema");return(0,o._)`await ${be}(${N})`}return typeof fe=="function"?(0,o._)`${be}(${N})`:(0,o._)`${be}.test(${N})`}}}};b.default=I},76481:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const m=[a(9470).default];b.default=m},43886:function(Te,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.contentVocabulary=b.metadataVocabulary=void 0,b.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],b.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},78917:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(45117),m=a(79812),I=a(64629),_={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:D})=>(0,o._)`{allowedValue: ${D}}`},code(D){const{gen:N,data:R,$data:$,schemaCode:z,schema:J}=D;$||J&&typeof J=="object"?D.fail$data((0,o._)`!${(0,m.useFunc)(N,I.default)}(${R}, ${z})`):D.fail((0,o._)`${J} !== ${R}`)}};b.default=_},28328:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(45117),m=a(79812),I=a(64629),_={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:D})=>(0,o._)`{allowedValues: ${D}}`},code(D){const{gen:N,data:R,$data:$,schema:z,schemaCode:J,it:ee}=D;if(!$&&z.length===0)throw new Error("enum must have non-empty array");const re=z.length>=ee.opts.loopEnum;let oe;const ye=()=>oe!=null?oe:oe=(0,m.useFunc)(N,I.default);let F;if(re||$)F=N.let("valid"),D.block$data(F,G);else{if(!Array.isArray(z))throw new Error("ajv implementation error");const se=N.const("vSchema",J);F=(0,o.or)(...z.map((fe,be)=>Se(se,be)))}D.pass(F);function G(){N.assign(F,!1),N.forOf("v",J,se=>N.if((0,o._)`${ye()}(${R}, ${se})`,()=>N.assign(F,!0).break()))}function Se(se,fe){const be=z[fe];return typeof be=="object"&&be!==null?(0,o._)`${ye()}(${R}, ${se}[${fe}])`:(0,o._)`${R} === ${be}`}}};b.default=_},80794:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(59135),m=a(71878),I=a(84008),O=a(98736),_=a(33789),D=a(86778),N=a(50524),R=a(44592),$=a(78917),z=a(28328),J=[o.default,m.default,I.default,O.default,_.default,D.default,N.default,R.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},$.default,z.default];b.default=J},50524:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(45117),I={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:O,schemaCode:_}){const D=O==="maxItems"?"more":"fewer";return(0,o.str)`must NOT have ${D} than ${_} items`},params:({schemaCode:O})=>(0,o._)`{limit: ${O}}`},code(O){const{keyword:_,data:D,schemaCode:N}=O,R=_==="maxItems"?o.operators.GT:o.operators.LT;O.fail$data((0,o._)`${D}.length ${R} ${N}`)}};b.default=I},84008:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(45117),m=a(79812),I=a(72496),_={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:D,schemaCode:N}){const R=D==="maxLength"?"more":"fewer";return(0,o.str)`must NOT have ${R} than ${N} characters`},params:({schemaCode:D})=>(0,o._)`{limit: ${D}}`},code(D){const{keyword:N,data:R,schemaCode:$,it:z}=D,J=N==="maxLength"?o.operators.GT:o.operators.LT,ee=z.opts.unicode===!1?(0,o._)`${R}.length`:(0,o._)`${(0,m.useFunc)(D.gen,I.default)}(${R})`;D.fail$data((0,o._)`${ee} ${J} ${$}`)}};b.default=_},59135:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(45117),m=o.operators,I={maximum:{okStr:"<=",ok:m.LTE,fail:m.GT},minimum:{okStr:">=",ok:m.GTE,fail:m.LT},exclusiveMaximum:{okStr:"<",ok:m.LT,fail:m.GTE},exclusiveMinimum:{okStr:">",ok:m.GT,fail:m.LTE}},O={message:({keyword:D,schemaCode:N})=>(0,o.str)`must be ${I[D].okStr} ${N}`,params:({keyword:D,schemaCode:N})=>(0,o._)`{comparison: ${I[D].okStr}, limit: ${N}}`},_={keyword:Object.keys(I),type:"number",schemaType:"number",$data:!0,error:O,code(D){const{keyword:N,data:R,schemaCode:$}=D;D.fail$data((0,o._)`${R} ${I[N].fail} ${$} || isNaN(${R})`)}};b.default=_},33789:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(45117),I={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:O,schemaCode:_}){const D=O==="maxProperties"?"more":"fewer";return(0,o.str)`must NOT have ${D} than ${_} properties`},params:({schemaCode:O})=>(0,o._)`{limit: ${O}}`},code(O){const{keyword:_,data:D,schemaCode:N}=O,R=_==="maxProperties"?o.operators.GT:o.operators.LT;O.fail$data((0,o._)`Object.keys(${D}).length ${R} ${N}`)}};b.default=I},71878:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(45117),I={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:O})=>(0,o.str)`must be multiple of ${O}`,params:({schemaCode:O})=>(0,o._)`{multipleOf: ${O}}`},code(O){const{gen:_,data:D,schemaCode:N,it:R}=O,$=R.opts.multipleOfPrecision,z=_.let("res"),J=$?(0,o._)`Math.abs(Math.round(${z}) - ${z}) > 1e-${$}`:(0,o._)`${z} !== parseInt(${z})`;O.fail$data((0,o._)`(${N} === 0 || (${z} = ${D}/${N}, ${J}))`)}};b.default=I},98736:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(13898),m=a(45117),O={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:_})=>(0,m.str)`must match pattern "${_}"`,params:({schemaCode:_})=>(0,m._)`{pattern: ${_}}`},code(_){const{data:D,$data:N,schema:R,schemaCode:$,it:z}=_,J=z.opts.unicodeRegExp?"u":"",ee=N?(0,m._)`(new RegExp(${$}, ${J}))`:(0,o.usePattern)(_,R);_.fail$data((0,m._)`!${ee}.test(${D})`)}};b.default=O},86778:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(13898),m=a(45117),I=a(79812),_={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:D}})=>(0,m.str)`must have required property '${D}'`,params:({params:{missingProperty:D}})=>(0,m._)`{missingProperty: ${D}}`},code(D){const{gen:N,schema:R,schemaCode:$,data:z,$data:J,it:ee}=D,{opts:re}=ee;if(!J&&R.length===0)return;const oe=R.length>=re.loopRequired;if(ee.allErrors?ye():F(),re.strictRequired){const se=D.parentSchema.properties,{definedProperties:fe}=D.it;for(const be of R)if((se==null?void 0:se[be])===void 0&&!fe.has(be)){const te=ee.schemaEnv.baseId+ee.errSchemaPath,M=`required property "${be}" is not defined at "${te}" (strictRequired)`;(0,I.checkStrictMode)(ee,M,ee.opts.strictRequired)}}function ye(){if(oe||J)D.block$data(m.nil,G);else for(const se of R)(0,o.checkReportMissingProp)(D,se)}function F(){const se=N.let("missing");if(oe||J){const fe=N.let("valid",!0);D.block$data(fe,()=>Se(se,fe)),D.ok(fe)}else N.if((0,o.checkMissingProp)(D,R,se)),(0,o.reportMissingProp)(D,se),N.else()}function G(){N.forOf("prop",$,se=>{D.setParams({missingProperty:se}),N.if((0,o.noPropertyInData)(N,z,se,re.ownProperties),()=>D.error())})}function Se(se,fe){D.setParams({missingProperty:se}),N.forOf(se,$,()=>{N.assign(fe,(0,o.propertyInData)(N,z,se,re.ownProperties)),N.if((0,m.not)(fe),()=>{D.error(),N.break()})},m.nil)}}};b.default=_},44592:function(Te,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});const o=a(51549),m=a(45117),I=a(79812),O=a(64629),D={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:N,j:R}})=>(0,m.str)`must NOT have duplicate items (items ## ${R} and ${N} are identical)`,params:({params:{i:N,j:R}})=>(0,m._)`{i: ${N}, j: ${R}}`},code(N){const{gen:R,data:$,$data:z,schema:J,parentSchema:ee,schemaCode:re,it:oe}=N;if(!z&&!J)return;const ye=R.let("valid"),F=ee.items?(0,o.getSchemaTypes)(ee.items):[];N.block$data(ye,G,(0,m._)`${re} === false`),N.ok(ye);function G(){const be=R.let("i",(0,m._)`${$}.length`),te=R.let("j");N.setParams({i:be,j:te}),R.assign(ye,!0),R.if((0,m._)`${be} > 1`,()=>(Se()?se:fe)(be,te))}function Se(){return F.length>0&&!F.some(be=>be==="object"||be==="array")}function se(be,te){const M=R.name("item"),xe=(0,o.checkDataTypes)(F,M,oe.opts.strictNumbers,o.DataType.Wrong),Le=R.const("indices",(0,m._)`{}`);R.for((0,m._)`;${be}--;`,()=>{R.let(M,(0,m._)`${$}[${be}]`),R.if(xe,(0,m._)`continue`),F.length>1&&R.if((0,m._)`typeof ${M} == "string"`,(0,m._)`${M} += "_"`),R.if((0,m._)`typeof ${Le}[${M}] == "number"`,()=>{R.assign(te,(0,m._)`${Le}[${M}]`),N.error(),R.assign(ye,!1).break()}).code((0,m._)`${Le}[${M}] = ${be}`)})}function fe(be,te){const M=(0,I.useFunc)(R,O.default),xe=R.name("outer");R.label(xe).for((0,m._)`;${be}--;`,()=>R.for((0,m._)`${te} = ${be}; ${te}--;`,()=>R.if((0,m._)`${M}(${$}[${be}], ${$}[${te}])`,()=>{N.error(),R.assign(ye,!1).break(xe)})))}}};b.default=D},67142:function(Te){(function(b,a){Te.exports=a()})(typeof self!="undefined"?self:this,()=>(()=>{"use strict";var b={d:(Ce,Ke)=>{for(var Xe in Ke)b.o(Ke,Xe)&&!b.o(Ce,Xe)&&Object.defineProperty(Ce,Xe,{enumerable:!0,get:Ke[Xe]})},o:(Ce,Ke)=>Object.prototype.hasOwnProperty.call(Ce,Ke),r:Ce=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ce,"__esModule",{value:!0})}},a={};function o(Ce){return Ce==="#"||Ce===""||Array.isArray(Ce)&&Ce.length===0||!1}b.r(a),b.d(a,{default:()=>Le,get:()=>$,isRoot:()=>o,join:()=>M,remove:()=>Se,removeUndefinedItems:()=>G,set:()=>oe,split:()=>R,splitLast:()=>xe});const m=/~1/g,I=/~0/g,O=/\/+/g,_=/(^[#/]*|\/+$)/g;function D(Ce){return Ce.replace(m,"/").replace(I,"~")}function N(Ce){return D(decodeURIComponent(Ce))}function R(Ce){if(Ce==null||typeof Ce!="string"||o(Ce))return Array.isArray(Ce)?Ce:[];const Ke=Ce.indexOf("#")>=0?N:D,Xe=(Ce=(Ce=Ce.replace(O,"/")).replace(_,"")).split("/");for(let dt=0,st=Xe.length;dt<st;dt+=1)Xe[dt]=Ke(Xe[dt]);return Xe}function $(Ce,Ke,Xe){if(Ke==null||Ce==null)return Xe;if(o(Ke))return Ce;const dt=z(Ce,R(Ke));return dt===void 0?Xe:dt}function z(Ce,Ke){const Xe=Ke.shift();if(Ce!==void 0)return Xe!==void 0?z(Ce[Xe],Ke):Ce}const J=/^\[.*\]$/,ee=/^\[(.+)\]$/;function re(Ce,Ke){return Ce==="__proto__"||Ce=="constructor"&&Ke.length>0&&Ke[0]=="prototype"}function oe(Ce,Ke,Xe){if(Ke==null)return Ce;const dt=R(Ke);if(dt.length===0)return Ce;Ce==null&&(Ce=J.test(dt[0])?[]:{});let st,Ge,_t=Ce;for(;dt.length>1;)st=dt.shift(),Ge=J.test(dt[0]),re(st,dt)||(_t=F(_t,st,Ge));return st=dt.pop(),ye(_t,st,Xe),Ce}function ye(Ce,Ke,Xe){let dt;const st=Ke.match(ee);Ke==="[]"&&Array.isArray(Ce)?Ce.push(Xe):st?(dt=st.pop(),Ce[dt]=Xe):Ce[Ke]=Xe}function F(Ce,Ke,Xe){if(Ce[Ke]!=null)return Ce[Ke];const dt=Xe?[]:{};return ye(Ce,Ke,dt),dt}function G(Ce){let Ke=0,Xe=0;for(;Ke+Xe<Ce.length;)Ce[Ke+Xe]===void 0&&(Xe+=1),Ce[Ke]=Ce[Ke+Xe],Ke+=1;return Ce.length=Ce.length-Xe,Ce}function Se(Ce,Ke,Xe){const dt=R(Ke),st=dt.pop(),Ge=$(Ce,dt);return Ge&&delete Ge[st],Array.isArray(Ge)&&Xe!==!0&&G(Ge),Ce}const se=/\/+/g,fe=/~/g,be=/\//g;function te(Ce,Ke){if(Ce.length===0)return Ke?"#":"";for(let Xe=0,dt=Ce.length;Xe<dt;Xe+=1)Ce[Xe]=Ce[Xe].replace(fe,"~0").replace(be,"~1"),Ke&&(Ce[Xe]=encodeURIComponent(Ce[Xe]));return((Ke?"#/":"/")+Ce.join("/")).replace(se,"/")}function M(Ce,...Ke){const Xe=[];if(Array.isArray(Ce))return te(Ce,arguments[1]===!0);const dt=arguments[arguments.length-1],st=typeof dt=="boolean"?dt:Ce&&Ce[0]==="#";for(let _t=0,or=arguments.length;_t<or;_t+=1)Xe.push.apply(Xe,R(arguments[_t]));const Ge=[];for(let _t=0,or=Xe.length;_t<or;_t+=1)if(Xe[_t]===".."){if(Ge.length===0)return st?"#":"";Ge.pop()}else Ge.push(Xe[_t]);return te(Ge,st)}function xe(Ce){const Ke=R(Ce);if(Ke.length===0)return typeof Ce=="string"&&Ce[0]==="#"?["#",Ke[0]]:["",void 0];if(Ke.length===1)return Ce[0]==="#"?["#",Ke[0]]:["",Ke[0]];const Xe=Ke.pop();return[M(Ke,Ce[0]==="#"),Xe]}const Le={get:$,set:oe,remove:Se,join:M,split:R,splitLast:xe,isRoot:o,removeUndefinedItems:G};return a})())},31060:function(Te,b,a){"use strict";a.d(b,{ZP:function(){return Pl}});var o=a(7896),m=a(31461),I=a(2784),O=a(1727),_=a(65329),D=a(77120),N=a(21649);const R=f=>{let{state:r}=f,p=r.doc.lineAt(r.selection.main.from),S=G(f.state,p.from);return S.line?z(f):S.block?F(f):!1};function $(f,r){return({state:p,dispatch:S})=>{if(p.readOnly)return!1;let P=f(r,p);return P?(S(p.update(P)),!0):!1}}const z=$(te,0),J=null,ee=null,re=$(be,0),oe=null,ye=null,F=$((f,r)=>be(f,r,fe(r)),0);function G(f,r){let p=f.languageDataAt("commentTokens",r);return p.length?p[0]:{}}const Se=50;function se(f,{open:r,close:p},S,P){let B=f.sliceDoc(S-Se,S),ae=f.sliceDoc(P,P+Se),Ae=/\s*$/.exec(B)[0].length,Me=/^\s*/.exec(ae)[0].length,gt=B.length-Ae;if(B.slice(gt-r.length,gt)==r&&ae.slice(Me,Me+p.length)==p)return{open:{pos:S-Ae,margin:Ae&&1},close:{pos:P+Me,margin:Me&&1}};let Tt,rr;P-S<=2*Se?Tt=rr=f.sliceDoc(S,P):(Tt=f.sliceDoc(S,S+Se),rr=f.sliceDoc(P-Se,P));let qr=/^\s*/.exec(Tt)[0].length,In=/\s*$/.exec(rr)[0].length,Ki=rr.length-In-p.length;return Tt.slice(qr,qr+r.length)==r&&rr.slice(Ki,Ki+p.length)==p?{open:{pos:S+qr+r.length,margin:/\s/.test(Tt.charAt(qr+r.length))?1:0},close:{pos:P-In-p.length,margin:/\s/.test(rr.charAt(Ki-1))?1:0}}:null}function fe(f){let r=[];for(let p of f.selection.ranges){let S=f.doc.lineAt(p.from),P=p.to<=S.to?S:f.doc.lineAt(p.to),B=r.length-1;B>=0&&r[B].to>S.from?r[B].to=P.to:r.push({from:S.from+/^\s*/.exec(S.text)[0].length,to:P.to})}return r}function be(f,r,p=r.selection.ranges){let S=p.map(B=>G(r,B.from).block);if(!S.every(B=>B))return null;let P=p.map((B,ae)=>se(r,S[ae],B.from,B.to));if(f!=2&&!P.every(B=>B))return{changes:r.changes(p.map((B,ae)=>P[ae]?[]:[{from:B.from,insert:S[ae].open+" "},{from:B.to,insert:" "+S[ae].close}]))};if(f!=1&&P.some(B=>B)){let B=[];for(let ae=0,Ae;ae<P.length;ae++)if(Ae=P[ae]){let Me=S[ae],{open:gt,close:Tt}=Ae;B.push({from:gt.pos-Me.open.length,to:gt.pos+gt.margin},{from:Tt.pos-Tt.margin,to:Tt.pos+Me.close.length})}return{changes:B}}return null}function te(f,r,p=r.selection.ranges){let S=[],P=-1;for(let{from:B,to:ae}of p){let Ae=S.length,Me=1e9,gt=G(r,B).line;if(gt){for(let Tt=B;Tt<=ae;){let rr=r.doc.lineAt(Tt);if(rr.from>P&&(B==ae||ae>rr.from)){P=rr.from;let qr=/^\s*/.exec(rr.text)[0].length,In=qr==rr.length,Ki=rr.text.slice(qr,qr+gt.length)==gt?qr:-1;qr<rr.text.length&&qr<Me&&(Me=qr),S.push({line:rr,comment:Ki,token:gt,indent:qr,empty:In,single:!1})}Tt=rr.to+1}if(Me<1e9)for(let Tt=Ae;Tt<S.length;Tt++)S[Tt].indent<S[Tt].line.text.length&&(S[Tt].indent=Me);S.length==Ae+1&&(S[Ae].single=!0)}}if(f!=2&&S.some(B=>B.comment<0&&(!B.empty||B.single))){let B=[];for(let{line:Ae,token:Me,indent:gt,empty:Tt,single:rr}of S)(rr||!Tt)&&B.push({from:Ae.from+gt,insert:Me+" "});let ae=r.changes(B);return{changes:ae,selection:r.selection.map(ae,1)}}else if(f!=1&&S.some(B=>B.comment>=0)){let B=[];for(let{line:ae,comment:Ae,token:Me}of S)if(Ae>=0){let gt=ae.from+Ae,Tt=gt+Me.length;ae.text[Tt-ae.from]==" "&&Tt++,B.push({from:gt,to:Tt})}return{changes:B}}return null}const M=O.q6.define(),xe=O.q6.define(),Le=O.r$.define(),Ce=O.r$.define({combine(f){return(0,O.BO)(f,{minDepth:100,newGroupDelay:500,joinToEvent:(r,p)=>p},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(r,p)=>(S,P)=>r(S,P)||p(S,P)})}});function Ke(f){let r=0;return f.iterChangedRanges((p,S)=>r=S),r}const Xe=O.QQ.define({create(){return De.empty},update(f,r){let p=r.state.facet(Ce),S=r.annotation(M);if(S){let Me=r.docChanged?O.jT.single(Ke(r.changes)):void 0,gt=ot.fromTransaction(r,Me),Tt=S.side,rr=Tt==0?f.undone:f.done;return gt?rr=de(rr,rr.length,p.minDepth,gt):rr=Ze(rr,r.startState.selection),new De(Tt==0?S.rest:rr,Tt==0?rr:S.rest)}let P=r.annotation(xe);if((P=="full"||P=="before")&&(f=f.isolate()),r.annotation(O.YW.addToHistory)===!1)return r.changes.empty?f:f.addMapping(r.changes.desc);let B=ot.fromTransaction(r),ae=r.annotation(O.YW.time),Ae=r.annotation(O.YW.userEvent);return B?f=f.addChanges(B,ae,Ae,p,r):r.selection&&(f=f.addSelection(r.startState.selection,ae,Ae,p.newGroupDelay)),(P=="full"||P=="after")&&(f=f.isolate()),f},toJSON(f){return{done:f.done.map(r=>r.toJSON()),undone:f.undone.map(r=>r.toJSON())}},fromJSON(f){return new De(f.done.map(ot.fromJSON),f.undone.map(ot.fromJSON))}});function dt(f={}){return[Xe,Ce.of(f),_.tk.domEventHandlers({beforeinput(r,p){let S=r.inputType=="historyUndo"?_t:r.inputType=="historyRedo"?or:null;return S?(r.preventDefault(),S(p)):!1}})]}const st=null;function Ge(f,r){return function({state:p,dispatch:S}){if(!r&&p.readOnly)return!1;let P=p.field(Xe,!1);if(!P)return!1;let B=P.pop(f,p,r);return B?(S(B),!0):!1}}const _t=Ge(0,!1),or=Ge(1,!1),St=Ge(0,!0),xt=Ge(1,!0);function mt(f){return function(r){let p=r.field(Xe,!1);if(!p)return 0;let S=f==0?p.done:p.undone;return S.length-(S.length&&!S[0].changes?1:0)}}const Re=null,yt=null;class ot{constructor(r,p,S,P,B){this.changes=r,this.effects=p,this.mapped=S,this.startSelection=P,this.selectionsAfter=B}setSelAfter(r){return new ot(this.changes,this.effects,this.mapped,this.startSelection,r)}toJSON(){var r,p,S;return{changes:(r=this.changes)===null||r===void 0?void 0:r.toJSON(),mapped:(p=this.mapped)===null||p===void 0?void 0:p.toJSON(),startSelection:(S=this.startSelection)===null||S===void 0?void 0:S.toJSON(),selectionsAfter:this.selectionsAfter.map(P=>P.toJSON())}}static fromJSON(r){return new ot(r.changes&&O.as.fromJSON(r.changes),[],r.mapped&&O.n0.fromJSON(r.mapped),r.startSelection&&O.jT.fromJSON(r.startSelection),r.selectionsAfter.map(O.jT.fromJSON))}static fromTransaction(r,p){let S=Gt;for(let P of r.startState.facet(Le)){let B=P(r);B.length&&(S=S.concat(B))}return!S.length&&r.changes.empty?null:new ot(r.changes.invert(r.startState.doc),S,void 0,p||r.startState.selection,Gt)}static selection(r){return new ot(void 0,Gt,void 0,void 0,r)}}function de(f,r,p,S){let P=r+1>p+20?r-p-1:0,B=f.slice(P,r);return B.push(S),B}function $e(f,r){let p=[],S=!1;return f.iterChangedRanges((P,B)=>p.push(P,B)),r.iterChangedRanges((P,B,ae,Ae)=>{for(let Me=0;Me<p.length;){let gt=p[Me++],Tt=p[Me++];Ae>=gt&&ae<=Tt&&(S=!0)}}),S}function lt(f,r){return f.ranges.length==r.ranges.length&&f.ranges.filter((p,S)=>p.empty!=r.ranges[S].empty).length===0}function Dt(f,r){return f.length?r.length?f.concat(r):f:r}const Gt=[],Pr=200;function Ze(f,r){if(f.length){let p=f[f.length-1],S=p.selectionsAfter.slice(Math.max(0,p.selectionsAfter.length-Pr));return S.length&&S[S.length-1].eq(r)?f:(S.push(r),de(f,f.length-1,1e9,p.setSelAfter(S)))}else return[ot.selection([r])]}function K(f){let r=f[f.length-1],p=f.slice();return p[f.length-1]=r.setSelAfter(r.selectionsAfter.slice(0,r.selectionsAfter.length-1)),p}function Z(f,r){if(!f.length)return f;let p=f.length,S=Gt;for(;p;){let P=Q(f[p-1],r,S);if(P.changes&&!P.changes.empty||P.effects.length){let B=f.slice(0,p);return B[p-1]=P,B}else r=P.mapped,p--,S=P.selectionsAfter}return S.length?[ot.selection(S)]:Gt}function Q(f,r,p){let S=Dt(f.selectionsAfter.length?f.selectionsAfter.map(Ae=>Ae.map(r)):Gt,p);if(!f.changes)return ot.selection(S);let P=f.changes.map(r),B=r.mapDesc(f.changes,!0),ae=f.mapped?f.mapped.composeDesc(B):B;return new ot(P,O.Py.mapEffects(f.effects,r),ae,f.startSelection.map(B),S)}const ge=/^(input\.type|delete)($|\.)/;class De{constructor(r,p,S=0,P=void 0){this.done=r,this.undone=p,this.prevTime=S,this.prevUserEvent=P}isolate(){return this.prevTime?new De(this.done,this.undone):this}addChanges(r,p,S,P,B){let ae=this.done,Ae=ae[ae.length-1];return Ae&&Ae.changes&&!Ae.changes.empty&&r.changes&&(!S||ge.test(S))&&(!Ae.selectionsAfter.length&&p-this.prevTime<P.newGroupDelay&&P.joinToEvent(B,$e(Ae.changes,r.changes))||S=="input.type.compose")?ae=de(ae,ae.length-1,P.minDepth,new ot(r.changes.compose(Ae.changes),Dt(r.effects,Ae.effects),Ae.mapped,Ae.startSelection,Gt)):ae=de(ae,ae.length,P.minDepth,r),new De(ae,Gt,p,S)}addSelection(r,p,S,P){let B=this.done.length?this.done[this.done.length-1].selectionsAfter:Gt;return B.length>0&&p-this.prevTime<P&&S==this.prevUserEvent&&S&&/^select($|\.)/.test(S)&&lt(B[B.length-1],r)?this:new De(Ze(this.done,r),this.undone,p,S)}addMapping(r){return new De(Z(this.done,r),Z(this.undone,r),this.prevTime,this.prevUserEvent)}pop(r,p,S){let P=r==0?this.done:this.undone;if(P.length==0)return null;let B=P[P.length-1];if(S&&B.selectionsAfter.length)return p.update({selection:B.selectionsAfter[B.selectionsAfter.length-1],annotations:M.of({side:r,rest:K(P)}),userEvent:r==0?"select.undo":"select.redo",scrollIntoView:!0});if(B.changes){let ae=P.length==1?Gt:P.slice(0,P.length-1);return B.mapped&&(ae=Z(ae,B.mapped)),p.update({changes:B.changes,selection:B.startSelection,effects:B.effects,annotations:M.of({side:r,rest:ae}),filter:!1,userEvent:r==0?"undo":"redo",scrollIntoView:!0})}else return null}}De.empty=new De(Gt,Gt);const Qe=[{key:"Mod-z",run:_t,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:or,preventDefault:!0},{linux:"Ctrl-Shift-z",run:or,preventDefault:!0},{key:"Mod-u",run:St,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:xt,preventDefault:!0}];function Ue(f,r){return O.jT.create(f.ranges.map(r),f.mainIndex)}function Lt(f,r){return f.update({selection:r,scrollIntoView:!0,userEvent:"select"})}function tr({state:f,dispatch:r},p){let S=Ue(f.selection,p);return S.eq(f.selection)?!1:(r(Lt(f,S)),!0)}function Kt(f,r){return O.jT.cursor(r?f.to:f.from)}function Yt(f,r){return tr(f,p=>p.empty?f.moveByChar(p,r):Kt(p,r))}function Ht(f){return f.textDirectionAt(f.state.selection.main.head)==_.Nm.LTR}const rt=f=>Yt(f,!Ht(f)),Ct=f=>Yt(f,Ht(f)),Vt=f=>Yt(f,!0),hr=f=>Yt(f,!1);function xr(f,r){return tr(f,p=>p.empty?f.moveByGroup(p,r):Kt(p,r))}const Sr=f=>xr(f,!Ht(f)),cr=f=>xr(f,Ht(f)),Nt=f=>xr(f,!0),Lr=f=>xr(f,!1);function Er(f,r,p){let S=f.state.charCategorizer(r.from);return f.moveByChar(r,p,P=>{let B=CharCategory.Space,ae=r.from,Ae=!1,Me=!1,gt=!1,Tt=rr=>{if(Ae)return!1;ae+=p?rr.length:-rr.length;let qr=S(rr),In;if(qr==CharCategory.Word&&rr.charCodeAt(0)<128&&/[\W_]/.test(rr)&&(qr=-1),B==CharCategory.Space&&(B=qr),B!=qr)return!1;if(B==CharCategory.Word)if(rr.toLowerCase()==rr){if(!p&&Me)return!1;gt=!0}else if(gt){if(p)return!1;Ae=!0}else{if(Me&&p&&S(In=f.state.sliceDoc(ae,ae+1))==CharCategory.Word&&In.toLowerCase()==In)return!1;Me=!0}return!0};return Tt(P),Tt})}function yr(f,r){return tr(f,p=>p.empty?Er(f,p,r):Kt(p,r))}const Zr=f=>yr(f,!0),Vr=f=>yr(f,!1);function Rr(f,r,p){if(r.type.prop(p))return!0;let S=r.to-r.from;return S&&(S>2||/[^\s,.;:]/.test(f.sliceDoc(r.from,r.to)))||r.firstChild}function fr(f,r,p){let S=(0,D.qz)(f).resolveInner(r.head),P=p?N.md.closedBy:N.md.openedBy;for(let Me=r.head;;){let gt=p?S.childAfter(Me):S.childBefore(Me);if(!gt)break;Rr(f,gt,P)?S=gt:Me=p?gt.to:gt.from}let B=S.type.prop(P),ae,Ae;return B&&(ae=p?(0,D.Um)(f,S.from,1):(0,D.Um)(f,S.to,-1))&&ae.matched?Ae=p?ae.end.to:ae.end.from:Ae=p?S.to:S.from,O.jT.cursor(Ae,p?-1:1)}const Ie=f=>tr(f,r=>fr(f.state,r,!Ht(f))),Xt=f=>tr(f,r=>fr(f.state,r,Ht(f)));function sr(f,r){return tr(f,p=>{if(!p.empty)return Kt(p,r);let S=f.moveVertically(p,r);return S.head!=p.head?S:f.moveToLineBoundary(p,r)})}const ur=f=>sr(f,!1),Fr=f=>sr(f,!0);function jr(f){let r=f.scrollDOM.clientHeight<f.scrollDOM.scrollHeight-2,p=0,S=0,P;if(r){for(let B of f.state.facet(_.tk.scrollMargins)){let ae=B(f);ae!=null&&ae.top&&(p=Math.max(ae==null?void 0:ae.top,p)),ae!=null&&ae.bottom&&(S=Math.max(ae==null?void 0:ae.bottom,S))}P=f.scrollDOM.clientHeight-p-S}else P=(f.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:p,marginBottom:S,selfScroll:r,height:Math.max(f.defaultLineHeight,P-5)}}function wr(f,r){let p=jr(f),{state:S}=f,P=Ue(S.selection,ae=>ae.empty?f.moveVertically(ae,r,p.height):Kt(ae,r));if(P.eq(S.selection))return!1;let B;if(p.selfScroll){let ae=f.coordsAtPos(S.selection.main.head),Ae=f.scrollDOM.getBoundingClientRect(),Me=Ae.top+p.marginTop,gt=Ae.bottom-p.marginBottom;ae&&ae.top>Me&&ae.bottom<gt&&(B=_.tk.scrollIntoView(P.main.head,{y:"start",yMargin:ae.top-Me}))}return f.dispatch(Lt(S,P),{effects:B}),!0}const Tr=f=>wr(f,!1),_r=f=>wr(f,!0);function $r(f,r,p){let S=f.lineBlockAt(r.head),P=f.moveToLineBoundary(r,p);if(P.head==r.head&&P.head!=(p?S.to:S.from)&&(P=f.moveToLineBoundary(r,p,!1)),!p&&P.head==S.from&&S.length){let B=/^\s*/.exec(f.state.sliceDoc(S.from,Math.min(S.from+100,S.to)))[0].length;B&&r.head!=S.from+B&&(P=O.jT.cursor(S.from+B))}return P}const en=f=>tr(f,r=>$r(f,r,!0)),hn=f=>tr(f,r=>$r(f,r,!1)),Nr=f=>tr(f,r=>$r(f,r,!Ht(f))),cn=f=>tr(f,r=>$r(f,r,Ht(f))),gn=f=>tr(f,r=>O.jT.cursor(f.lineBlockAt(r.head).from,1)),Sn=f=>tr(f,r=>O.jT.cursor(f.lineBlockAt(r.head).to,-1));function yn(f,r,p){let S=!1,P=Ue(f.selection,B=>{let ae=(0,D.Um)(f,B.head,-1)||(0,D.Um)(f,B.head,1)||B.head>0&&(0,D.Um)(f,B.head-1,1)||B.head<f.doc.length&&(0,D.Um)(f,B.head+1,-1);if(!ae||!ae.end)return B;S=!0;let Ae=ae.start.from==B.head?ae.end.to:ae.end.from;return p?O.jT.range(B.anchor,Ae):O.jT.cursor(Ae)});return S?(r(Lt(f,P)),!0):!1}const dn=({state:f,dispatch:r})=>yn(f,r,!1),vn=({state:f,dispatch:r})=>yn(f,r,!0);function tn(f,r){let p=Ue(f.state.selection,S=>{let P=r(S);return O.jT.range(S.anchor,P.head,P.goalColumn,P.bidiLevel||void 0)});return p.eq(f.state.selection)?!1:(f.dispatch(Lt(f.state,p)),!0)}function _n(f,r){return tn(f,p=>f.moveByChar(p,r))}const an=f=>_n(f,!Ht(f)),rn=f=>_n(f,Ht(f)),mn=f=>_n(f,!0),Kn=f=>_n(f,!1);function hi(f,r){return tn(f,p=>f.moveByGroup(p,r))}const Ri=f=>hi(f,!Ht(f)),Pe=f=>hi(f,Ht(f)),y=f=>hi(f,!0),T=f=>hi(f,!1);function V(f,r){return tn(f,p=>Er(f,p,r))}const q=f=>V(f,!0),Oe=f=>V(f,!1),Ee=f=>tn(f,r=>fr(f.state,r,!Ht(f))),ze=f=>tn(f,r=>fr(f.state,r,Ht(f)));function He(f,r){return tn(f,p=>f.moveVertically(p,r))}const wt=f=>He(f,!1),jt=f=>He(f,!0);function $t(f,r){return tn(f,p=>f.moveVertically(p,r,jr(f).height))}const Cr=f=>$t(f,!1),pr=f=>$t(f,!0),Cn=f=>tn(f,r=>$r(f,r,!0)),Xn=f=>tn(f,r=>$r(f,r,!1)),zn=f=>tn(f,r=>$r(f,r,!Ht(f))),wi=f=>tn(f,r=>$r(f,r,Ht(f))),yi=f=>tn(f,r=>O.jT.cursor(f.lineBlockAt(r.head).from)),ji=f=>tn(f,r=>O.jT.cursor(f.lineBlockAt(r.head).to)),us=({state:f,dispatch:r})=>(r(Lt(f,{anchor:0})),!0),qi=({state:f,dispatch:r})=>(r(Lt(f,{anchor:f.doc.length})),!0),Hn=({state:f,dispatch:r})=>(r(Lt(f,{anchor:f.selection.main.anchor,head:0})),!0),kn=({state:f,dispatch:r})=>(r(Lt(f,{anchor:f.selection.main.anchor,head:f.doc.length})),!0),eo=({state:f,dispatch:r})=>(r(f.update({selection:{anchor:0,head:f.doc.length},userEvent:"select"})),!0),Bo=({state:f,dispatch:r})=>{let p=ai(f).map(({from:S,to:P})=>O.jT.range(S,Math.min(P+1,f.doc.length)));return r(f.update({selection:O.jT.create(p),userEvent:"select"})),!0},qt=({state:f,dispatch:r})=>{let p=Ue(f.selection,S=>{var P;let B=(0,D.qz)(f).resolveInner(S.head,1);for(;!(B.from<S.from&&B.to>=S.to||B.to>S.to&&B.from<=S.from||!(!((P=B.parent)===null||P===void 0)&&P.parent));)B=B.parent;return O.jT.range(B.to,B.from)});return r(Lt(f,p)),!0},pe=({state:f,dispatch:r})=>{let p=f.selection,S=null;return p.ranges.length>1?S=O.jT.create([p.main]):p.main.empty||(S=O.jT.create([O.jT.cursor(p.main.head)])),S?(r(Lt(f,S)),!0):!1};function j(f,r){if(f.state.readOnly)return!1;let p="delete.selection",{state:S}=f,P=S.changeByRange(B=>{let{from:ae,to:Ae}=B;if(ae==Ae){let Me=r(ae);Me<ae?(p="delete.backward",Me=Y(f,Me,!1)):Me>ae&&(p="delete.forward",Me=Y(f,Me,!0)),ae=Math.min(ae,Me),Ae=Math.max(Ae,Me)}else ae=Y(f,ae,!1),Ae=Y(f,Ae,!0);return ae==Ae?{range:B}:{changes:{from:ae,to:Ae},range:O.jT.cursor(ae)}});return P.changes.empty?!1:(f.dispatch(S.update(P,{scrollIntoView:!0,userEvent:p,effects:p=="delete.selection"?_.tk.announce.of(S.phrase("Selection deleted")):void 0})),!0)}function Y(f,r,p){if(f instanceof _.tk)for(let S of f.state.facet(_.tk.atomicRanges).map(P=>P(f)))S.between(r,r,(P,B)=>{P<r&&B>r&&(r=p?B:P)});return r}const ke=(f,r)=>j(f,p=>{let{state:S}=f,P=S.doc.lineAt(p),B,ae;if(!r&&p>P.from&&p<P.from+200&&!/[^ \t]/.test(B=P.text.slice(0,p-P.from))){if(B[B.length-1]=="	")return p-1;let Ae=(0,O.IS)(B,S.tabSize),Me=Ae%(0,D.y1)(S)||(0,D.y1)(S);for(let gt=0;gt<Me&&B[B.length-1-gt]==" ";gt++)p--;ae=p}else ae=(0,O.cp)(P.text,p-P.from,r,r)+P.from,ae==p&&P.number!=(r?S.doc.lines:1)&&(ae+=r?1:-1);return ae}),Ne=f=>ke(f,!1),nt=f=>ke(f,!0),ft=(f,r)=>j(f,p=>{let S=p,{state:P}=f,B=P.doc.lineAt(S),ae=P.charCategorizer(S);for(let Ae=null;;){if(S==(r?B.to:B.from)){S==p&&B.number!=(r?P.doc.lines:1)&&(S+=r?1:-1);break}let Me=(0,O.cp)(B.text,S-B.from,r)+B.from,gt=B.text.slice(Math.min(S,Me)-B.from,Math.max(S,Me)-B.from),Tt=ae(gt);if(Ae!=null&&Tt!=Ae)break;(gt!=" "||S!=p)&&(Ae=Tt),S=Me}return S}),Ut=f=>ft(f,!1),Wt=f=>ft(f,!0),Br=f=>j(f,r=>{let p=f.lineBlockAt(r).to;return r<p?p:Math.min(f.state.doc.length,r+1)}),Kr=f=>j(f,r=>{let p=f.lineBlockAt(r).from;return r>p?p:Math.max(0,r-1)}),Mn=({state:f,dispatch:r})=>{if(f.readOnly)return!1;let p=[];for(let S=0,P="",B=f.doc.iter();;){if(B.next(),B.lineBreak||B.done){let ae=P.search(/\s+$/);if(ae>-1&&p.push({from:S-(P.length-ae),to:S}),B.done)break;P=""}else P=B.value;S+=B.value.length}return p.length?(r(f.update({changes:p,userEvent:"delete"})),!0):!1},Oi=({state:f,dispatch:r})=>{if(f.readOnly)return!1;let p=f.changeByRange(S=>({changes:{from:S.from,to:S.to,insert:O.xv.of(["",""])},range:O.jT.cursor(S.from)}));return r(f.update(p,{scrollIntoView:!0,userEvent:"input"})),!0},Pi=({state:f,dispatch:r})=>{if(f.readOnly)return!1;let p=f.changeByRange(S=>{if(!S.empty||S.from==0||S.from==f.doc.length)return{range:S};let P=S.from,B=f.doc.lineAt(P),ae=P==B.from?P-1:(0,O.cp)(B.text,P-B.from,!1)+B.from,Ae=P==B.to?P+1:(0,O.cp)(B.text,P-B.from,!0)+B.from;return{changes:{from:ae,to:Ae,insert:f.doc.slice(P,Ae).append(f.doc.slice(ae,P))},range:O.jT.cursor(Ae)}});return p.changes.empty?!1:(r(f.update(p,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function ai(f){let r=[],p=-1;for(let S of f.selection.ranges){let P=f.doc.lineAt(S.from),B=f.doc.lineAt(S.to);if(!S.empty&&S.to==B.from&&(B=f.doc.lineAt(S.to-1)),p>=P.number){let ae=r[r.length-1];ae.to=B.to,ae.ranges.push(S)}else r.push({from:P.from,to:B.to,ranges:[S]});p=B.number+1}return r}function Ti(f,r,p){if(f.readOnly)return!1;let S=[],P=[];for(let B of ai(f)){if(p?B.to==f.doc.length:B.from==0)continue;let ae=f.doc.lineAt(p?B.to+1:B.from-1),Ae=ae.length+1;if(p){S.push({from:B.to,to:ae.to},{from:B.from,insert:ae.text+f.lineBreak});for(let Me of B.ranges)P.push(O.jT.range(Math.min(f.doc.length,Me.anchor+Ae),Math.min(f.doc.length,Me.head+Ae)))}else{S.push({from:ae.from,to:B.from},{from:B.to,insert:f.lineBreak+ae.text});for(let Me of B.ranges)P.push(O.jT.range(Me.anchor-Ae,Me.head-Ae))}}return S.length?(r(f.update({changes:S,scrollIntoView:!0,selection:O.jT.create(P,f.selection.mainIndex),userEvent:"move.line"})),!0):!1}const to=({state:f,dispatch:r})=>Ti(f,r,!1),Ms=({state:f,dispatch:r})=>Ti(f,r,!0);function cs(f,r,p){if(f.readOnly)return!1;let S=[];for(let P of ai(f))p?S.push({from:P.from,insert:f.doc.slice(P.from,P.to)+f.lineBreak}):S.push({from:P.to,insert:f.lineBreak+f.doc.slice(P.from,P.to)});return r(f.update({changes:S,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const da=({state:f,dispatch:r})=>cs(f,r,!1),Xo=({state:f,dispatch:r})=>cs(f,r,!0),$s=f=>{if(f.state.readOnly)return!1;let{state:r}=f,p=r.changes(ai(r).map(({from:P,to:B})=>(P>0?P--:B<r.doc.length&&B++,{from:P,to:B}))),S=Ue(r.selection,P=>f.moveVertically(P,!0)).map(p);return f.dispatch({changes:p,selection:S,scrollIntoView:!0,userEvent:"delete.line"}),!0},ht=({state:f,dispatch:r})=>(r(f.update(f.replaceSelection(f.lineBreak),{scrollIntoView:!0,userEvent:"input"})),!0);function Je(f,r){if(/\(\)|\[\]|\{\}/.test(f.sliceDoc(r-1,r+1)))return{from:r,to:r};let p=(0,D.qz)(f).resolveInner(r),S=p.childBefore(r),P=p.childAfter(r),B;return S&&P&&S.to<=r&&P.from>=r&&(B=S.type.prop(N.md.closedBy))&&B.indexOf(P.name)>-1&&f.doc.lineAt(S.to).from==f.doc.lineAt(P.from).from?{from:S.to,to:P.from}:null}const Zt=lr(!1),Jt=lr(!0);function lr(f){return({state:r,dispatch:p})=>{if(r.readOnly)return!1;let S=r.changeByRange(P=>{let{from:B,to:ae}=P,Ae=r.doc.lineAt(B),Me=!f&&B==ae&&Je(r,B);f&&(B=ae=(ae<=Ae.to?Ae:r.doc.lineAt(ae)).to);let gt=new D.Gn(r,{simulateBreak:B,simulateDoubleBreak:!!Me}),Tt=(0,D.K0)(gt,B);for(Tt==null&&(Tt=/^\s*/.exec(r.doc.lineAt(B).text)[0].length);ae<Ae.to&&/\s/.test(Ae.text[ae-Ae.from]);)ae++;Me?{from:B,to:ae}=Me:B>Ae.from&&B<Ae.from+100&&!/\S/.test(Ae.text.slice(0,B))&&(B=Ae.from);let rr=["",(0,D.SS)(r,Tt)];return Me&&rr.push((0,D.SS)(r,gt.lineIndent(Ae.from,-1))),{changes:{from:B,to:ae,insert:O.xv.of(rr)},range:O.jT.cursor(B+1+rr[1].length)}});return p(r.update(S,{scrollIntoView:!0,userEvent:"input"})),!0}}function Ur(f,r){let p=-1;return f.changeByRange(S=>{let P=[];for(let ae=S.from;ae<=S.to;){let Ae=f.doc.lineAt(ae);Ae.number>p&&(S.empty||S.to>Ae.from)&&(r(Ae,P,S),p=Ae.number),ae=Ae.to+1}let B=f.changes(P);return{changes:P,range:O.jT.range(B.mapPos(S.anchor,1),B.mapPos(S.head,1))}})}const Ir=({state:f,dispatch:r})=>{if(f.readOnly)return!1;let p=Object.create(null),S=new D.Gn(f,{overrideIndentation:B=>{let ae=p[B];return ae==null?-1:ae}}),P=Ur(f,(B,ae,Ae)=>{let Me=(0,D.K0)(S,B.from);if(Me==null)return;/\S/.test(B.text)||(Me=0);let gt=/^\s*/.exec(B.text)[0],Tt=(0,D.SS)(f,Me);(gt!=Tt||Ae.from<B.from+gt.length)&&(p[B.from]=Me,ae.push({from:B.from,to:B.from+gt.length,insert:Tt}))});return P.changes.empty||r(f.update(P,{userEvent:"indent"})),!0},ln=({state:f,dispatch:r})=>f.readOnly?!1:(r(f.update(Ur(f,(p,S)=>{S.push({from:p.from,insert:f.facet(D.c)})}),{userEvent:"input.indent"})),!0),mi=({state:f,dispatch:r})=>f.readOnly?!1:(r(f.update(Ur(f,(p,S)=>{let P=/^\s*/.exec(p.text)[0];if(!P)return;let B=(0,O.IS)(P,f.tabSize),ae=0,Ae=(0,D.SS)(f,Math.max(0,B-(0,D.y1)(f)));for(;ae<P.length&&ae<Ae.length&&P.charCodeAt(ae)==Ae.charCodeAt(ae);)ae++;S.push({from:p.from+ae,to:p.from+P.length,insert:Ae.slice(ae)})}),{userEvent:"delete.dedent"})),!0),jn=({state:f,dispatch:r})=>f.selection.ranges.some(p=>!p.empty)?ln({state:f,dispatch:r}):(r(f.update(f.replaceSelection("	"),{scrollIntoView:!0,userEvent:"input"})),!0),Jn=[{key:"Ctrl-b",run:rt,shift:an,preventDefault:!0},{key:"Ctrl-f",run:Ct,shift:rn},{key:"Ctrl-p",run:ur,shift:wt},{key:"Ctrl-n",run:Fr,shift:jt},{key:"Ctrl-a",run:gn,shift:yi},{key:"Ctrl-e",run:Sn,shift:ji},{key:"Ctrl-d",run:nt},{key:"Ctrl-h",run:Ne},{key:"Ctrl-k",run:Br},{key:"Ctrl-Alt-h",run:Ut},{key:"Ctrl-o",run:Oi},{key:"Ctrl-t",run:Pi},{key:"Ctrl-v",run:_r}],on=[{key:"ArrowLeft",run:rt,shift:an,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:Sr,shift:Ri,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Nr,shift:zn,preventDefault:!0},{key:"ArrowRight",run:Ct,shift:rn,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cr,shift:Pe,preventDefault:!0},{mac:"Cmd-ArrowRight",run:cn,shift:wi,preventDefault:!0},{key:"ArrowUp",run:ur,shift:wt,preventDefault:!0},{mac:"Cmd-ArrowUp",run:us,shift:Hn},{mac:"Ctrl-ArrowUp",run:Tr,shift:Cr},{key:"ArrowDown",run:Fr,shift:jt,preventDefault:!0},{mac:"Cmd-ArrowDown",run:qi,shift:kn},{mac:"Ctrl-ArrowDown",run:_r,shift:pr},{key:"PageUp",run:Tr,shift:Cr},{key:"PageDown",run:_r,shift:pr},{key:"Home",run:hn,shift:Xn,preventDefault:!0},{key:"Mod-Home",run:us,shift:Hn},{key:"End",run:en,shift:Cn,preventDefault:!0},{key:"Mod-End",run:qi,shift:kn},{key:"Enter",run:Zt},{key:"Mod-a",run:eo},{key:"Backspace",run:Ne,shift:Ne},{key:"Delete",run:nt},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Ut},{key:"Mod-Delete",mac:"Alt-Delete",run:Wt},{mac:"Mod-Backspace",run:Kr},{mac:"Mod-Delete",run:Br}].concat(Jn.map(f=>({mac:f.key,run:f.run,shift:f.shift}))),nn=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Ie,shift:Ee},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Xt,shift:ze},{key:"Alt-ArrowUp",run:to},{key:"Shift-Alt-ArrowUp",run:da},{key:"Alt-ArrowDown",run:Ms},{key:"Shift-Alt-ArrowDown",run:Xo},{key:"Escape",run:pe},{key:"Mod-Enter",run:Jt},{key:"Alt-l",mac:"Ctrl-l",run:Bo},{key:"Mod-i",run:qt,preventDefault:!0},{key:"Mod-[",run:mi},{key:"Mod-]",run:ln},{key:"Mod-Alt-\\",run:Ir},{key:"Shift-Mod-k",run:$s},{key:"Shift-Mod-\\",run:dn},{key:"Mod-/",run:R},{key:"Alt-A",run:re}].concat(on),Gn={key:"Tab",run:ln,shift:mi};function fn(){var f=arguments[0];typeof f=="string"&&(f=document.createElement(f));var r=1,p=arguments[1];if(p&&typeof p=="object"&&p.nodeType==null&&!Array.isArray(p)){for(var S in p)if(Object.prototype.hasOwnProperty.call(p,S)){var P=p[S];typeof P=="string"?f.setAttribute(S,P):P!=null&&(f[S]=P)}r++}for(;r<arguments.length;r++)Qn(f,arguments[r]);return f}function Qn(f,r){if(typeof r=="string")f.appendChild(document.createTextNode(r));else if(r!=null)if(r.nodeType!=null)f.appendChild(r);else if(Array.isArray(r))for(var p=0;p<r.length;p++)Qn(f,r[p]);else throw new RangeError("Unsupported child node: "+r)}const vi=typeof String.prototype.normalize=="function"?f=>f.normalize("NFKD"):f=>f;class Ni{constructor(r,p,S=0,P=r.length,B,ae){this.test=ae,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=r.iterRange(S,P),this.bufferStart=S,this.normalize=B?Ae=>B(vi(Ae)):vi,this.query=this.normalize(p)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return(0,O.gm)(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let r=this.peek();if(r<0)return this.done=!0,this;let p=(0,O.bg)(r),S=this.bufferStart+this.bufferPos;this.bufferPos+=(0,O.nZ)(r);let P=this.normalize(p);for(let B=0,ae=S;;B++){let Ae=P.charCodeAt(B),Me=this.match(Ae,ae);if(Me)return this.value=Me,this;if(B==P.length-1)break;ae==S&&B<p.length&&p.charCodeAt(B)==Ae&&ae++}}}match(r,p){let S=null;for(let P=0;P<this.matches.length;P+=2){let B=this.matches[P],ae=!1;this.query.charCodeAt(B)==r&&(B==this.query.length-1?S={from:this.matches[P+1],to:p+1}:(this.matches[P]++,ae=!0)),ae||(this.matches.splice(P,2),P-=2)}return this.query.charCodeAt(0)==r&&(this.query.length==1?S={from:p,to:p+1}:this.matches.push(1,p)),S&&this.test&&!this.test(S.from,S.to,this.buffer,this.bufferPos)&&(S=null),S}}typeof Symbol!="undefined"&&(Ni.prototype[Symbol.iterator]=function(){return this});const ro={from:-1,to:-1,match:/.*/.exec("")},Yn="gm"+(/x/.unicode==null?"":"u");class Li{constructor(r,p,S,P=0,B=r.length){if(this.text=r,this.to=B,this.curLine="",this.done=!1,this.value=ro,/\\[sWDnr]|\n|\r|\[\^/.test(p))return new Co(r,p,S,P,B);this.re=new RegExp(p,Yn+(S!=null&&S.ignoreCase?"i":"")),this.test=S==null?void 0:S.test,this.iter=r.iter();let ae=r.lineAt(P);this.curLineStart=ae.from,this.matchPos=pi(r,P),this.getLine(this.curLineStart)}getLine(r){this.iter.next(r),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let r=this.matchPos-this.curLineStart;;){this.re.lastIndex=r;let p=this.matchPos<=this.to&&this.re.exec(this.curLine);if(p){let S=this.curLineStart+p.index,P=S+p[0].length;if(this.matchPos=pi(this.text,P+(S==P?1:0)),S==this.curLineStart+this.curLine.length&&this.nextLine(),(S<P||S>this.value.to)&&(!this.test||this.test(S,P,p)))return this.value={from:S,to:P,match:p},this;r=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),r=0;else return this.done=!0,this}}}const Bi=new WeakMap;class Xr{constructor(r,p){this.from=r,this.text=p}get to(){return this.from+this.text.length}static get(r,p,S){let P=Bi.get(r);if(!P||P.from>=S||P.to<=p){let Ae=new Xr(p,r.sliceString(p,S));return Bi.set(r,Ae),Ae}if(P.from==p&&P.to==S)return P;let{text:B,from:ae}=P;return ae>p&&(B=r.sliceString(p,ae)+B,ae=p),P.to<S&&(B+=r.sliceString(P.to,S)),Bi.set(r,new Xr(ae,B)),new Xr(p,B.slice(p-ae,S-ae))}}class Co{constructor(r,p,S,P,B){this.text=r,this.to=B,this.done=!1,this.value=ro,this.matchPos=pi(r,P),this.re=new RegExp(p,Yn+(S!=null&&S.ignoreCase?"i":"")),this.test=S==null?void 0:S.test,this.flat=Xr.get(r,P,this.chunkEnd(P+5e3))}chunkEnd(r){return r>=this.to?this.to:this.text.lineAt(r).to}next(){for(;;){let r=this.re.lastIndex=this.matchPos-this.flat.from,p=this.re.exec(this.flat.text);if(p&&!p[0]&&p.index==r&&(this.re.lastIndex=r+1,p=this.re.exec(this.flat.text)),p){let S=this.flat.from+p.index,P=S+p[0].length;if((this.flat.to>=this.to||p.index+p[0].length<=this.flat.text.length-10)&&(!this.test||this.test(S,P,p)))return this.value={from:S,to:P,match:p},this.matchPos=pi(this.text,P+(S==P?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Xr.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol!="undefined"&&(Li.prototype[Symbol.iterator]=Co.prototype[Symbol.iterator]=function(){return this});function Hi(f){try{return new RegExp(f,Yn),!0}catch{return!1}}function pi(f,r){if(r>=f.length)return r;let p=f.lineAt(r),S;for(;r<p.to&&(S=p.text.charCodeAt(r-p.from))>=56320&&S<57344;)r++;return r}function Ao(f){let r=fn("input",{class:"cm-textfield",name:"line"}),p=fn("form",{class:"cm-gotoLine",onkeydown:P=>{P.keyCode==27?(P.preventDefault(),f.dispatch({effects:Po.of(!1)}),f.focus()):P.keyCode==13&&(P.preventDefault(),S())},onsubmit:P=>{P.preventDefault(),S()}},fn("label",f.state.phrase("Go to line"),": ",r)," ",fn("button",{class:"cm-button",type:"submit"},f.state.phrase("go")));function S(){let P=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(r.value);if(!P)return;let{state:B}=f,ae=B.doc.lineAt(B.selection.main.head),[,Ae,Me,gt,Tt]=P,rr=gt?+gt.slice(1):0,qr=Me?+Me:ae.number;if(Me&&Tt){let Ki=qr/100;Ae&&(Ki=Ki*(Ae=="-"?-1:1)+ae.number/B.doc.lines),qr=Math.round(B.doc.lines*Ki)}else Me&&Ae&&(qr=qr*(Ae=="-"?-1:1)+ae.number);let In=B.doc.line(Math.max(1,Math.min(B.doc.lines,qr)));f.dispatch({effects:Po.of(!1),selection:O.jT.cursor(In.from+Math.max(0,Math.min(rr,In.length))),scrollIntoView:!0}),f.focus()}return{dom:p}}const Po=O.Py.define(),To=O.QQ.define({create(){return!0},update(f,r){for(let p of r.effects)p.is(Po)&&(f=p.value);return f},provide:f=>_.mH.from(f,r=>r?Ao:null)}),ci=f=>{let r=(0,_.Sd)(f,Ao);if(!r){let p=[Po.of(!0)];f.state.field(To,!1)==null&&p.push(O.Py.appendConfig.of([To,lo])),f.dispatch({effects:p}),r=(0,_.Sd)(f,Ao)}return r&&r.dom.querySelector("input").focus(),!0},lo=_.tk.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),_i={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},_o=O.r$.define({combine(f){return(0,O.BO)(f,_i,{highlightWordAroundCursor:(r,p)=>r||p,minSelectionLength:Math.min,maxMatches:Math.min})}});function Wo(f){let r=[Do,Dn];return f&&r.push(_o.of(f)),r}const go=_.p.mark({class:"cm-selectionMatch"}),Ss=_.p.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Is(f,r,p,S){return(p==0||f(r.sliceDoc(p-1,p))!=O.D0.Word)&&(S==r.doc.length||f(r.sliceDoc(S,S+1))!=O.D0.Word)}function Rs(f,r,p,S){return f(r.sliceDoc(p,p+1))==O.D0.Word&&f(r.sliceDoc(S-1,S))==O.D0.Word}const Dn=_.lg.fromClass(class{constructor(f){this.decorations=this.getDeco(f)}update(f){(f.selectionSet||f.docChanged||f.viewportChanged)&&(this.decorations=this.getDeco(f.view))}getDeco(f){let r=f.state.facet(_o),{state:p}=f,S=p.selection;if(S.ranges.length>1)return _.p.none;let P=S.main,B,ae=null;if(P.empty){if(!r.highlightWordAroundCursor)return _.p.none;let Me=p.wordAt(P.head);if(!Me)return _.p.none;ae=p.charCategorizer(P.head),B=p.sliceDoc(Me.from,Me.to)}else{let Me=P.to-P.from;if(Me<r.minSelectionLength||Me>200)return _.p.none;if(r.wholeWords){if(B=p.sliceDoc(P.from,P.to),ae=p.charCategorizer(P.head),!(Is(ae,p,P.from,P.to)&&Rs(ae,p,P.from,P.to)))return _.p.none}else if(B=p.sliceDoc(P.from,P.to).trim(),!B)return _.p.none}let Ae=[];for(let Me of f.visibleRanges){let gt=new Ni(p.doc,B,Me.from,Me.to);for(;!gt.next().done;){let{from:Tt,to:rr}=gt.value;if((!ae||Is(ae,p,Tt,rr))&&(P.empty&&Tt<=P.from&&rr>=P.to?Ae.push(Ss.range(Tt,rr)):(Tt>=P.to||rr<=P.from)&&Ae.push(go.range(Tt,rr)),Ae.length>r.maxMatches))return _.p.none}}return _.p.set(Ae)}},{decorations:f=>f.decorations}),Do=_.tk.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),uo=({state:f,dispatch:r})=>{let{selection:p}=f,S=O.jT.create(p.ranges.map(P=>f.wordAt(P.head)||O.jT.cursor(P.head)),p.mainIndex);return S.eq(p)?!1:(r(f.update({selection:S})),!0)};function fs(f,r){let{main:p,ranges:S}=f.selection,P=f.wordAt(p.head),B=P&&P.from==p.from&&P.to==p.to;for(let ae=!1,Ae=new Ni(f.doc,r,S[S.length-1].to);;)if(Ae.next(),Ae.done){if(ae)return null;Ae=new Ni(f.doc,r,0,Math.max(0,S[S.length-1].from-1)),ae=!0}else{if(ae&&S.some(Me=>Me.from==Ae.value.from))continue;if(B){let Me=f.wordAt(Ae.value.from);if(!Me||Me.from!=Ae.value.from||Me.to!=Ae.value.to)continue}return Ae.value}}const Ji=({state:f,dispatch:r})=>{let{ranges:p}=f.selection;if(p.some(B=>B.from===B.to))return uo({state:f,dispatch:r});let S=f.sliceDoc(p[0].from,p[0].to);if(f.selection.ranges.some(B=>f.sliceDoc(B.from,B.to)!=S))return!1;let P=fs(f,S);return P?(r(f.update({selection:f.selection.addRange(O.jT.range(P.from,P.to),!1),effects:_.tk.scrollIntoView(P.to)})),!0):!1},pn=O.r$.define({combine(f){return(0,O.BO)(f,{top:!1,caseSensitive:!1,literal:!1,wholeWord:!1,createPanel:r=>new pt(r),scrollToMatch:r=>_.tk.scrollIntoView(r)})}});function Fs(f){return f?[pn.of(f),gr]:gr}class Di{constructor(r){this.search=r.search,this.caseSensitive=!!r.caseSensitive,this.literal=!!r.literal,this.regexp=!!r.regexp,this.replace=r.replace||"",this.valid=!!this.search&&(!this.regexp||Hi(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!r.wholeWord}unquote(r){return this.literal?r:r.replace(/\\([nrt\\])/g,(p,S)=>S=="n"?`
`:S=="r"?"\r":S=="t"?"	":"\\")}eq(r){return this.search==r.search&&this.replace==r.replace&&this.caseSensitive==r.caseSensitive&&this.regexp==r.regexp&&this.wholeWord==r.wholeWord}create(){return this.regexp?new xi(this):new Gi(this)}getCursor(r,p=0,S){let P=r.doc?r:O.yy.create({doc:r});return S==null&&(S=P.doc.length),this.regexp?En(this,P,p,S):no(this,P,p,S)}}class Qo{constructor(r){this.spec=r}}function no(f,r,p,S){return new Ni(r.doc,f.unquoted,p,S,f.caseSensitive?void 0:P=>P.toLowerCase(),f.wholeWord?qo(r.doc,r.charCategorizer(r.selection.main.head)):void 0)}function qo(f,r){return(p,S,P,B)=>((B>p||B+P.length<S)&&(B=Math.max(0,p-2),P=f.sliceString(B,Math.min(f.length,S+2))),(r(bi(P,p-B))!=O.D0.Word||r(qn(P,p-B))!=O.D0.Word)&&(r(qn(P,S-B))!=O.D0.Word||r(bi(P,S-B))!=O.D0.Word))}class Gi extends Qo{constructor(r){super(r)}nextMatch(r,p,S){let P=no(this.spec,r,S,r.doc.length).nextOverlapping();return P.done&&(P=no(this.spec,r,0,p).nextOverlapping()),P.done?null:P.value}prevMatchInRange(r,p,S){for(let P=S;;){let B=Math.max(p,P-1e4-this.spec.unquoted.length),ae=no(this.spec,r,B,P),Ae=null;for(;!ae.nextOverlapping().done;)Ae=ae.value;if(Ae)return Ae;if(B==p)return null;P-=1e4}}prevMatch(r,p,S){return this.prevMatchInRange(r,0,p)||this.prevMatchInRange(r,S,r.doc.length)}getReplacement(r){return this.spec.unquote(this.spec.replace)}matchAll(r,p){let S=no(this.spec,r,0,r.doc.length),P=[];for(;!S.next().done;){if(P.length>=p)return null;P.push(S.value)}return P}highlight(r,p,S,P){let B=no(this.spec,r,Math.max(0,p-this.spec.unquoted.length),Math.min(S+this.spec.unquoted.length,r.doc.length));for(;!B.next().done;)P(B.value.from,B.value.to)}}function En(f,r,p,S){return new Li(r.doc,f.search,{ignoreCase:!f.caseSensitive,test:f.wholeWord?ko(r.charCategorizer(r.selection.main.head)):void 0},p,S)}function bi(f,r){return f.slice((0,O.cp)(f,r,!1),r)}function qn(f,r){return f.slice(r,(0,O.cp)(f,r))}function ko(f){return(r,p,S)=>!S[0].length||(f(bi(S.input,S.index))!=O.D0.Word||f(qn(S.input,S.index))!=O.D0.Word)&&(f(qn(S.input,S.index+S[0].length))!=O.D0.Word||f(bi(S.input,S.index+S[0].length))!=O.D0.Word)}class xi extends Qo{nextMatch(r,p,S){let P=En(this.spec,r,S,r.doc.length).next();return P.done&&(P=En(this.spec,r,0,p).next()),P.done?null:P.value}prevMatchInRange(r,p,S){for(let P=1;;P++){let B=Math.max(p,S-P*1e4),ae=En(this.spec,r,B,S),Ae=null;for(;!ae.next().done;)Ae=ae.value;if(Ae&&(B==p||Ae.from>B+10))return Ae;if(B==p)return null}}prevMatch(r,p,S){return this.prevMatchInRange(r,0,p)||this.prevMatchInRange(r,S,r.doc.length)}getReplacement(r){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(p,S)=>S=="$"?"$":S=="&"?r.match[0]:S!="0"&&+S<r.match.length?r.match[S]:p))}matchAll(r,p){let S=En(this.spec,r,0,r.doc.length),P=[];for(;!S.next().done;){if(P.length>=p)return null;P.push(S.value)}return P}highlight(r,p,S,P){let B=En(this.spec,r,Math.max(0,p-250),Math.min(S+250,r.doc.length));for(;!B.next().done;)P(B.value.from,B.value.to)}}const ei=O.Py.define(),Es=O.Py.define(),ti=O.QQ.define({create(f){return new Wi(Wn(f).create(),null)},update(f,r){for(let p of r.effects)p.is(ei)?f=new Wi(p.value.create(),f.panel):p.is(Es)&&(f=new Wi(f.query,p.value?Ks:null));return f},provide:f=>_.mH.from(f,r=>r.panel)});function co(f){let r=f.field(ti,!1);return r?r.query.spec:Wn(f)}function io(f){var r;return((r=f.field(ti,!1))===null||r===void 0?void 0:r.panel)!=null}class Wi{constructor(r,p){this.query=r,this.panel=p}}const Zo=_.p.mark({class:"cm-searchMatch"}),ki=_.p.mark({class:"cm-searchMatch cm-searchMatch-selected"}),ws=_.lg.fromClass(class{constructor(f){this.view=f,this.decorations=this.highlight(f.state.field(ti))}update(f){let r=f.state.field(ti);(r!=f.startState.field(ti)||f.docChanged||f.selectionSet||f.viewportChanged)&&(this.decorations=this.highlight(r))}highlight({query:f,panel:r}){if(!r||!f.spec.valid)return _.p.none;let{view:p}=this,S=new O.f_;for(let P=0,B=p.visibleRanges,ae=B.length;P<ae;P++){let{from:Ae,to:Me}=B[P];for(;P<ae-1&&Me>B[P+1].from-2*250;)Me=B[++P].to;f.highlight(p.state,Ae,Me,(gt,Tt)=>{let rr=p.state.selection.ranges.some(qr=>qr.from==gt&&qr.to==Tt);S.add(gt,Tt,rr?ki:Zo)})}return S.finish()}},{decorations:f=>f.decorations});function bo(f){return r=>{let p=r.state.field(ti,!1);return p&&p.query.spec.valid?f(r,p):es(r)}}const ri=bo((f,{query:r})=>{let{to:p}=f.state.selection.main,S=r.nextMatch(f.state,p,p);if(!S)return!1;let P=O.jT.single(S.from,S.to),B=f.state.facet(pn);return f.dispatch({selection:P,effects:[Jr(f,S),B.scrollToMatch(P.main,f)],userEvent:"select.search"}),Vo(f),!0}),Ci=bo((f,{query:r})=>{let{state:p}=f,{from:S}=p.selection.main,P=r.prevMatch(p,S,S);if(!P)return!1;let B=O.jT.single(P.from,P.to),ae=f.state.facet(pn);return f.dispatch({selection:B,effects:[Jr(f,P),ae.scrollToMatch(B.main,f)],userEvent:"select.search"}),Vo(f),!0}),Dr=bo((f,{query:r})=>{let p=r.matchAll(f.state,1e3);return!p||!p.length?!1:(f.dispatch({selection:O.jT.create(p.map(S=>O.jT.range(S.from,S.to))),userEvent:"select.search.matches"}),!0)}),li=({state:f,dispatch:r})=>{let p=f.selection;if(p.ranges.length>1||p.main.empty)return!1;let{from:S,to:P}=p.main,B=[],ae=0;for(let Ae=new Ni(f.doc,f.sliceDoc(S,P));!Ae.next().done;){if(B.length>1e3)return!1;Ae.value.from==S&&(ae=B.length),B.push(O.jT.range(Ae.value.from,Ae.value.to))}return r(f.update({selection:O.jT.create(B,ae),userEvent:"select.search.matches"})),!0},oo=bo((f,{query:r})=>{let{state:p}=f,{from:S,to:P}=p.selection.main;if(p.readOnly)return!1;let B=r.nextMatch(p,S,S);if(!B)return!1;let ae=[],Ae,Me,gt=[];if(B.from==S&&B.to==P&&(Me=p.toText(r.getReplacement(B)),ae.push({from:B.from,to:B.to,insert:Me}),B=r.nextMatch(p,B.from,B.to),gt.push(_.tk.announce.of(p.phrase("replaced match on line $",p.doc.lineAt(S).number)+"."))),B){let Tt=ae.length==0||ae[0].from>=B.to?0:B.to-B.from-Me.length;Ae=O.jT.single(B.from-Tt,B.to-Tt),gt.push(Jr(f,B)),gt.push(p.facet(pn).scrollToMatch(Ae.main,f))}return f.dispatch({changes:ae,selection:Ae,effects:gt,userEvent:"input.replace"}),!0}),Uo=bo((f,{query:r})=>{if(f.state.readOnly)return!1;let p=r.matchAll(f.state,1e9).map(P=>{let{from:B,to:ae}=P;return{from:B,to:ae,insert:r.getReplacement(P)}});if(!p.length)return!1;let S=f.state.phrase("replaced $ matches",p.length)+".";return f.dispatch({changes:p,effects:_.tk.announce.of(S),userEvent:"input.replace.all"}),!0});function Ks(f){return f.state.facet(pn).createPanel(f)}function Wn(f,r){var p,S,P,B;let ae=f.selection.main,Ae=ae.empty||ae.to>ae.from+100?"":f.sliceDoc(ae.from,ae.to);if(r&&!Ae)return r;let Me=f.facet(pn);return new Di({search:((p=r==null?void 0:r.literal)!==null&&p!==void 0?p:Me.literal)?Ae:Ae.replace(/\n/g,"\\n"),caseSensitive:(S=r==null?void 0:r.caseSensitive)!==null&&S!==void 0?S:Me.caseSensitive,literal:(P=r==null?void 0:r.literal)!==null&&P!==void 0?P:Me.literal,wholeWord:(B=r==null?void 0:r.wholeWord)!==null&&B!==void 0?B:Me.wholeWord})}function zs(f){let r=(0,_.Sd)(f,Ks);return r&&r.dom.querySelector("[main-field]")}function Vo(f){let r=zs(f);r&&r==f.root.activeElement&&r.select()}const es=f=>{let r=f.state.field(ti,!1);if(r&&r.panel){let p=zs(f);if(p&&p!=f.root.activeElement){let S=Wn(f.state,r.query.spec);S.valid&&f.dispatch({effects:ei.of(S)}),p.focus(),p.select()}}else f.dispatch({effects:[Es.of(!0),r?ei.of(Wn(f.state,r.query.spec)):O.Py.appendConfig.of(gr)]});return!0},Os=f=>{let r=f.state.field(ti,!1);if(!r||!r.panel)return!1;let p=(0,_.Sd)(f,Ks);return p&&p.dom.contains(f.root.activeElement)&&f.focus(),f.dispatch({effects:Es.of(!1)}),!0},xs=[{key:"Mod-f",run:es,scope:"editor search-panel"},{key:"F3",run:ri,shift:Ci,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:ri,shift:Ci,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Os,scope:"editor search-panel"},{key:"Mod-Shift-l",run:li},{key:"Alt-g",run:ci},{key:"Mod-d",run:Ji,preventDefault:!0}];class pt{constructor(r){this.view=r;let p=this.query=r.state.field(ti).query.spec;this.commit=this.commit.bind(this),this.searchField=fn("input",{value:p.search,placeholder:it(r,"Find"),"aria-label":it(r,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=fn("input",{value:p.replace,placeholder:it(r,"Replace"),"aria-label":it(r,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=fn("input",{type:"checkbox",name:"case",form:"",checked:p.caseSensitive,onchange:this.commit}),this.reField=fn("input",{type:"checkbox",name:"re",form:"",checked:p.regexp,onchange:this.commit}),this.wordField=fn("input",{type:"checkbox",name:"word",form:"",checked:p.wholeWord,onchange:this.commit});function S(P,B,ae){return fn("button",{class:"cm-button",name:P,onclick:B,type:"button"},ae)}this.dom=fn("div",{onkeydown:P=>this.keydown(P),class:"cm-search"},[this.searchField,S("next",()=>ri(r),[it(r,"next")]),S("prev",()=>Ci(r),[it(r,"previous")]),S("select",()=>Dr(r),[it(r,"all")]),fn("label",null,[this.caseField,it(r,"match case")]),fn("label",null,[this.reField,it(r,"regexp")]),fn("label",null,[this.wordField,it(r,"by word")]),...r.state.readOnly?[]:[fn("br"),this.replaceField,S("replace",()=>oo(r),[it(r,"replace")]),S("replaceAll",()=>Uo(r),[it(r,"replace all")])],fn("button",{name:"close",onclick:()=>Os(r),"aria-label":it(r,"close"),type:"button"},["\xD7"])])}commit(){let r=new Di({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});r.eq(this.query)||(this.query=r,this.view.dispatch({effects:ei.of(r)}))}keydown(r){(0,_.$1)(this.view,r,"search-panel")?r.preventDefault():r.keyCode==13&&r.target==this.searchField?(r.preventDefault(),(r.shiftKey?Ci:ri)(this.view)):r.keyCode==13&&r.target==this.replaceField&&(r.preventDefault(),oo(this.view))}update(r){for(let p of r.transactions)for(let S of p.effects)S.is(ei)&&!S.value.eq(this.query)&&this.setQuery(S.value)}setQuery(r){this.query=r,this.searchField.value=r.search,this.replaceField.value=r.replace,this.caseField.checked=r.caseSensitive,this.reField.checked=r.regexp,this.wordField.checked=r.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(pn).top}}function it(f,r){return f.state.phrase(r)}const Zi=30,Mi=/[\s\.,:;?!]/;function Jr(f,{from:r,to:p}){let S=f.state.doc.lineAt(r),P=f.state.doc.lineAt(p).to,B=Math.max(S.from,r-Zi),ae=Math.min(P,p+Zi),Ae=f.state.sliceDoc(B,ae);if(B!=S.from){for(let Me=0;Me<Zi;Me++)if(!Mi.test(Ae[Me+1])&&Mi.test(Ae[Me])){Ae=Ae.slice(Me);break}}if(ae!=P){for(let Me=Ae.length-1;Me>Ae.length-Zi;Me--)if(!Mi.test(Ae[Me-1])&&Mi.test(Ae[Me])){Ae=Ae.slice(0,Me);break}}return _.tk.announce.of(`${f.state.phrase("current match")}. ${Ae} ${f.state.phrase("on line")} ${S.number}.`)}const Or=_.tk.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),gr=[ti,O.Wl.lowest(ws),Or];class zr{constructor(r,p,S){this.state=r,this.pos=p,this.explicit=S,this.abortListeners=[]}tokenBefore(r){let p=(0,D.qz)(this.state).resolveInner(this.pos,-1);for(;p&&r.indexOf(p.name)<0;)p=p.parent;return p?{from:p.from,to:this.pos,text:this.state.sliceDoc(p.from,this.pos),type:p.type}:null}matchBefore(r){let p=this.state.doc.lineAt(this.pos),S=Math.max(p.from,this.pos-250),P=p.text.slice(S-p.from,this.pos-p.from),B=P.search(Nn(r,!1));return B<0?null:{from:S+B,to:this.pos,text:P.slice(B)}}get aborted(){return this.abortListeners==null}addEventListener(r,p){r=="abort"&&this.abortListeners&&this.abortListeners.push(p)}}function wn(f){let r=Object.keys(f).join(""),p=/\w/.test(r);return p&&(r=r.replace(/\w/g,"")),`[${p?"\\w":""}${r.replace(/[^\w\s]/g,"\\$&")}]`}function An(f){let r=Object.create(null),p=Object.create(null);for(let{label:P}of f){r[P[0]]=!0;for(let B=1;B<P.length;B++)p[P[B]]=!0}let S=wn(r)+wn(p)+"*$";return[new RegExp("^"+S),new RegExp(S)]}function fi(f){let r=f.map(P=>typeof P=="string"?{label:P}:P),[p,S]=r.every(P=>/^\w+$/.test(P.label))?[/\w*$/,/\w+$/]:An(r);return P=>{let B=P.matchBefore(S);return B||P.explicit?{from:B?B.from:P.pos,options:r,validFor:p}:null}}function gi(f,r){return p=>{for(let S=syntaxTree(p.state).resolveInner(p.pos,-1);S;S=S.parent){if(f.indexOf(S.name)>-1)return r(p);if(S.type.isTop)break}return null}}function So(f,r){return p=>{for(let S=syntaxTree(p.state).resolveInner(p.pos,-1);S;S=S.parent){if(f.indexOf(S.name)>-1)return null;if(S.type.isTop)break}return r(p)}}class ds{constructor(r,p,S,P){this.completion=r,this.source=p,this.match=S,this.score=P}}function Zn(f){return f.selection.main.from}function Nn(f,r){var p;let{source:S}=f,P=r&&S[0]!="^",B=S[S.length-1]!="$";return!P&&!B?f:new RegExp(`${P?"^":""}(?:${S})${B?"$":""}`,(p=f.flags)!==null&&p!==void 0?p:f.ignoreCase?"i":"")}const Aa=O.q6.define();function ts(f,r,p,S){let{main:P}=f.selection,B=p-P.from,ae=S-P.from;return Object.assign(Object.assign({},f.changeByRange(Ae=>Ae!=P&&p!=S&&f.sliceDoc(Ae.from+B,Ae.from+ae)!=f.sliceDoc(p,S)?{range:Ae}:{changes:{from:Ae.from+B,to:S==P.from?Ae.to:Ae.from+ae,insert:r},range:O.jT.cursor(Ae.from+B+r.length)})),{userEvent:"input.complete"})}const rs=new WeakMap;function Ua(f){if(!Array.isArray(f))return f;let r=rs.get(f);return r||rs.set(f,r=fi(f)),r}const Pa=O.Py.define(),Ko=O.Py.define();class fo{constructor(r){this.pattern=r,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let p=0;p<r.length;){let S=(0,O.gm)(r,p),P=(0,O.nZ)(S);this.chars.push(S);let B=r.slice(p,p+P),ae=B.toUpperCase();this.folded.push((0,O.gm)(ae==B?B.toLowerCase():ae,0)),p+=P}this.astral=r.length!=this.chars.length}match(r){if(this.pattern.length==0)return[-100];if(r.length<this.pattern.length)return null;let{chars:p,folded:S,any:P,precise:B,byWord:ae}=this;if(p.length==1){let ao=(0,O.gm)(r,0),Us=(0,O.nZ)(ao),ks=Us==r.length?0:-100;if(ao!=p[0])if(ao==S[0])ks+=-200;else return null;return[ks,0,Us]}let Ae=r.indexOf(this.pattern);if(Ae==0)return[r.length==this.pattern.length?0:-100,0,this.pattern.length];let Me=p.length,gt=0;if(Ae<0){for(let ao=0,Us=Math.min(r.length,200);ao<Us&&gt<Me;){let ks=(0,O.gm)(r,ao);(ks==p[gt]||ks==S[gt])&&(P[gt++]=ao),ao+=(0,O.nZ)(ks)}if(gt<Me)return null}let Tt=0,rr=0,qr=!1,In=0,Ki=-1,ta=-1,sl=/[a-z]/.test(r),Ya=!0;for(let ao=0,Us=Math.min(r.length,200),ks=0;ao<Us&&rr<Me;){let xo=(0,O.gm)(r,ao);Ae<0&&(Tt<Me&&xo==p[Tt]&&(B[Tt++]=ao),In<Me&&(xo==p[In]||xo==S[In]?(In==0&&(Ki=ao),ta=ao+1,In++):In=0));let Oa,xa=xo<255?xo>=48&&xo<=57||xo>=97&&xo<=122?2:xo>=65&&xo<=90?1:0:(Oa=(0,O.bg)(xo))!=Oa.toLowerCase()?1:Oa!=Oa.toUpperCase()?2:0;(!ao||xa==1&&sl||ks==0&&xa!=0)&&(p[rr]==xo||S[rr]==xo&&(qr=!0)?ae[rr++]=ao:ae.length&&(Ya=!1)),ks=xa,ao+=(0,O.nZ)(xo)}return rr==Me&&ae[0]==0&&Ya?this.result(-100+(qr?-200:0),ae,r):In==Me&&Ki==0?[-200-r.length+(ta==r.length?0:-100),0,ta]:Ae>-1?[-700-r.length,Ae,Ae+this.pattern.length]:In==Me?[-200+-700-r.length,Ki,ta]:rr==Me?this.result(-100+(qr?-200:0)+-700+(Ya?0:-1100),ae,r):p.length==2?null:this.result((P[0]?-700:0)+-200+-1100,P,r)}result(r,p,S){let P=[r-S.length],B=1;for(let ae of p){let Ae=ae+(this.astral?(0,O.nZ)((0,O.gm)(S,ae)):1);B>1&&P[B-1]==ae?P[B-1]=Ae:(P[B++]=ae,P[B++]=Ae)}return P}}const ho=O.r$.define({combine(f){return(0,O.BO)(f,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:js,compareCompletions:(r,p)=>r.label.localeCompare(p.label),interactionDelay:75},{defaultKeymap:(r,p)=>r&&p,closeOnBlur:(r,p)=>r&&p,icons:(r,p)=>r&&p,tooltipClass:(r,p)=>S=>hs(r(S),p(S)),optionClass:(r,p)=>S=>hs(r(S),p(S)),addToOptions:(r,p)=>r.concat(p)})}});function hs(f,r){return f?r?f+" "+r:f:r}function js(f,r,p,S,P){let B=f.textDirection==_.Nm.RTL,ae=B,Ae=!1,Me="top",gt,Tt,rr=r.left-P.left,qr=P.right-r.right,In=S.right-S.left,Ki=S.bottom-S.top;if(ae&&rr<Math.min(In,qr)?ae=!1:!ae&&qr<Math.min(In,rr)&&(ae=!0),In<=(ae?rr:qr))gt=Math.max(P.top,Math.min(p.top,P.bottom-Ki))-r.top,Tt=Math.min(400,ae?rr:qr);else{Ae=!0,Tt=Math.min(400,(B?r.right:P.right-r.left)-30);let ta=P.bottom-r.bottom;ta>=Ki||ta>r.top?gt=p.bottom-r.top:(Me="bottom",gt=r.bottom-p.top)}return{style:`${Me}: ${gt}px; max-width: ${Tt}px`,class:"cm-completionInfo-"+(Ae?B?"left-narrow":"right-narrow":ae?"left":"right")}}function na(f,r="option"){return p=>{let S=p.state.field(Ui,!1);if(!S||!S.open||S.open.disabled||Date.now()-S.open.timestamp<p.state.facet(ho).interactionDelay)return!1;let P=1,B;r=="page"&&(B=(0,_.gB)(p,S.open.tooltip))&&(P=Math.max(2,Math.floor(B.dom.offsetHeight/B.dom.querySelector("li").offsetHeight)-1));let{length:ae}=S.open.options,Ae=S.open.selected>-1?S.open.selected+P*(f?1:-1):f?0:ae-1;return Ae<0?Ae=r=="page"?0:ae-1:Ae>=ae&&(Ae=r=="page"?ae-1:0),p.dispatch({effects:ga.of(Ae)}),!0}}const Va=f=>{let r=f.state.field(Ui,!1);return f.state.readOnly||!r||!r.open||r.open.selected<0||Date.now()-r.open.timestamp<f.state.facet(ho).interactionDelay?!1:r.open.disabled?!0:ia(f,r.open.options[r.open.selected])},ns=f=>f.state.field(Ui,!1)?(f.dispatch({effects:Pa.of(!0)}),!0):!1,Hs=f=>{let r=f.state.field(Ui,!1);return!r||!r.active.some(p=>p.state!=0)?!1:(f.dispatch({effects:Ko.of(null)}),!0)};class ha{constructor(r,p){this.active=r,this.context=p,this.time=Date.now(),this.updates=[],this.done=void 0}}const ma=50,yo=50,Ta=1e3,pa=_.lg.fromClass(class{constructor(f){this.view=f,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let r of f.state.field(Ui).active)r.state==1&&this.startQuery(r)}update(f){let r=f.state.field(Ui);if(!f.selectionSet&&!f.docChanged&&f.startState.field(Ui)==r)return;let p=f.transactions.some(S=>(S.selection||S.docChanged)&&!is(S));for(let S=0;S<this.running.length;S++){let P=this.running[S];if(p||P.updates.length+f.transactions.length>yo&&Date.now()-P.time>Ta){for(let B of P.context.abortListeners)try{B()}catch(ae){(0,_.OO)(this.view.state,ae)}P.context.abortListeners=null,this.running.splice(S--,1)}else P.updates.push(...f.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=r.active.some(S=>S.state==1&&!this.running.some(P=>P.active.source==S.source))?setTimeout(()=>this.startUpdate(),ma):-1,this.composing!=0)for(let S of f.transactions)is(S)=="input"?this.composing=2:this.composing==2&&S.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:f}=this.view,r=f.field(Ui);for(let p of r.active)p.state==1&&!this.running.some(S=>S.active.source==p.source)&&this.startQuery(p)}startQuery(f){let{state:r}=this.view,p=Zn(r),S=new zr(r,p,f.explicitPos==p),P=new ha(f,S);this.running.push(P),Promise.resolve(f.source(S)).then(B=>{P.context.aborted||(P.done=B||null,this.scheduleAccept())},B=>{this.view.dispatch({effects:Ko.of(null)}),(0,_.OO)(this.view.state,B)})}scheduleAccept(){this.running.every(f=>f.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),ma))}accept(){var f;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let r=[],p=this.view.state.facet(ho);for(let S=0;S<this.running.length;S++){let P=this.running[S];if(P.done===void 0)continue;if(this.running.splice(S--,1),P.done){let ae=new $o(P.active.source,P.active.explicitPos,P.done,P.done.from,(f=P.done.to)!==null&&f!==void 0?f:Zn(P.updates.length?P.updates[0].startState:this.view.state));for(let Ae of P.updates)ae=ae.update(Ae,p);if(ae.hasResult()){r.push(ae);continue}}let B=this.view.state.field(Ui).active.find(ae=>ae.source==P.active.source);if(B&&B.state==1)if(P.done==null){let ae=new so(P.active.source,0);for(let Ae of P.updates)ae=ae.update(Ae,p);ae.state!=1&&r.push(ae)}else this.startQuery(B)}r.length&&this.view.dispatch({effects:aa.of(r)})}},{eventHandlers:{blur(f){let r=this.view.state.field(Ui,!1);if(r&&r.tooltip&&this.view.state.facet(ho).closeOnBlur){let p=r.open&&(0,_.gB)(this.view,r.open.tooltip);(!p||!p.dom.contains(f.relatedTarget))&&this.view.dispatch({effects:Ko.of(null)})}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Pa.of(!1)}),20),this.composing=0}}});function ia(f,r){const p=r.completion.apply||r.completion.label;let S=f.state.field(Ui).active.find(P=>P.source==r.source);return S instanceof $o?(typeof p=="string"?f.dispatch(Object.assign(Object.assign({},ts(f.state,p,S.from,S.to)),{annotations:Aa.of(r.completion)})):p(f,r.completion,S.from,S.to),!0):!1}function Js(f){let r=f.addToOptions.slice();return f.icons&&r.push({render(p){let S=document.createElement("div");return S.classList.add("cm-completionIcon"),p.type&&S.classList.add(...p.type.split(/\s+/g).map(P=>"cm-completionIcon-"+P)),S.setAttribute("aria-hidden","true"),S},position:20}),r.push({render(p,S,P){let B=document.createElement("span");B.className="cm-completionLabel";let{label:ae}=p,Ae=0;for(let Me=1;Me<P.length;){let gt=P[Me++],Tt=P[Me++];gt>Ae&&B.appendChild(document.createTextNode(ae.slice(Ae,gt)));let rr=B.appendChild(document.createElement("span"));rr.appendChild(document.createTextNode(ae.slice(gt,Tt))),rr.className="cm-completionMatchedText",Ae=Tt}return Ae<ae.length&&B.appendChild(document.createTextNode(ae.slice(Ae))),B},position:50},{render(p){if(!p.detail)return null;let S=document.createElement("span");return S.className="cm-completionDetail",S.textContent=p.detail,S},position:80}),r.sort((p,S)=>p.position-S.position).map(p=>p.render)}function Gs(f,r,p){if(f<=p)return{from:0,to:f};if(r<0&&(r=0),r<=f>>1){let P=Math.floor(r/p);return{from:P*p,to:(P+1)*p}}let S=Math.floor((f-r)/p);return{from:f-(S+1)*p,to:f-S*p}}class Eo{constructor(r,p){this.view=r,this.stateField=p,this.info=null,this.placeInfoReq={read:()=>this.measureInfo(),write:Ae=>this.placeInfo(Ae),key:this},this.space=null,this.currentClass="";let S=r.state.field(p),{options:P,selected:B}=S.open,ae=r.state.facet(ho);this.optionContent=Js(ae),this.optionClass=ae.optionClass,this.tooltipClass=ae.tooltipClass,this.range=Gs(P.length,B,ae.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(r.state),this.dom.addEventListener("mousedown",Ae=>{for(let Me=Ae.target,gt;Me&&Me!=this.dom;Me=Me.parentNode)if(Me.nodeName=="LI"&&(gt=/-(\d+)$/.exec(Me.id))&&+gt[1]<P.length){ia(r,P[+gt[1]]),Ae.preventDefault();return}}),this.dom.addEventListener("focusout",Ae=>{let Me=r.state.field(this.stateField,!1);Me&&Me.tooltip&&r.state.facet(ho).closeOnBlur&&Ae.relatedTarget!=r.contentDOM&&r.dispatch({effects:Ko.of(null)})}),this.list=this.dom.appendChild(this.createListBox(P,S.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}mount(){this.updateSel()}update(r){var p,S,P;let B=r.state.field(this.stateField),ae=r.startState.field(this.stateField);this.updateTooltipClass(r.state),B!=ae&&(this.updateSel(),((p=B.open)===null||p===void 0?void 0:p.disabled)!=((S=ae.open)===null||S===void 0?void 0:S.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(!((P=B.open)===null||P===void 0)&&P.disabled)))}updateTooltipClass(r){let p=this.tooltipClass(r);if(p!=this.currentClass){for(let S of this.currentClass.split(" "))S&&this.dom.classList.remove(S);for(let S of p.split(" "))S&&this.dom.classList.add(S);this.currentClass=p}}positioned(r){this.space=r,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let r=this.view.state.field(this.stateField),p=r.open;if((p.selected>-1&&p.selected<this.range.from||p.selected>=this.range.to)&&(this.range=Gs(p.options.length,p.selected,this.view.state.facet(ho).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(p.options,r.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})),this.updateSelectedOption(p.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:S}=p.options[p.selected],{info:P}=S;if(!P)return;let B=typeof P=="string"?document.createTextNode(P):P(S);if(!B)return;"then"in B?B.then(ae=>{ae&&this.view.state.field(this.stateField,!1)==r&&this.addInfoPane(ae)}).catch(ae=>(0,_.OO)(this.view.state,ae,"completion info")):this.addInfoPane(B)}}addInfoPane(r){let p=this.info=document.createElement("div");p.className="cm-tooltip cm-completionInfo",p.appendChild(r),this.dom.appendChild(p),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(r){let p=null;for(let S=this.list.firstChild,P=this.range.from;S;S=S.nextSibling,P++)S.nodeName!="LI"||!S.id?P--:P==r?S.hasAttribute("aria-selected")||(S.setAttribute("aria-selected","true"),p=S):S.hasAttribute("aria-selected")&&S.removeAttribute("aria-selected");return p&&Ys(this.list,p),p}measureInfo(){let r=this.dom.querySelector("[aria-selected]");if(!r||!this.info)return null;let p=this.dom.getBoundingClientRect(),S=this.info.getBoundingClientRect(),P=r.getBoundingClientRect(),B=this.space;if(!B){let ae=this.dom.ownerDocument.defaultView||window;B={left:0,top:0,right:ae.innerWidth,bottom:ae.innerHeight}}return P.top>Math.min(B.bottom,p.bottom)-10||P.bottom<Math.max(B.top,p.top)+10?null:this.view.state.facet(ho).positionInfo(this.view,p,P,S,B)}placeInfo(r){this.info&&(r?(r.style&&(this.info.style.cssText=r.style),this.info.className="cm-tooltip cm-completionInfo "+(r.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(r,p,S){const P=document.createElement("ul");P.id=p,P.setAttribute("role","listbox"),P.setAttribute("aria-expanded","true"),P.setAttribute("aria-label",this.view.state.phrase("Completions"));let B=null;for(let ae=S.from;ae<S.to;ae++){let{completion:Ae,match:Me}=r[ae],{section:gt}=Ae;if(gt){let qr=typeof gt=="string"?gt:gt.name;if(qr!=B&&(ae>S.from||S.from==0))if(B=qr,typeof gt!="string"&&gt.header)P.appendChild(gt.header(gt));else{let In=P.appendChild(document.createElement("completion-section"));In.textContent=qr}}const Tt=P.appendChild(document.createElement("li"));Tt.id=p+"-"+ae,Tt.setAttribute("role","option");let rr=this.optionClass(Ae);rr&&(Tt.className=rr);for(let qr of this.optionContent){let In=qr(Ae,this.view.state,Me);In&&Tt.appendChild(In)}}return S.from&&P.classList.add("cm-completionListIncompleteTop"),S.to<r.length&&P.classList.add("cm-completionListIncompleteBottom"),P}}function Ns(f){return r=>new Eo(r,f)}function Ys(f,r){let p=f.getBoundingClientRect(),S=r.getBoundingClientRect();S.top<p.top?f.scrollTop-=p.top-S.top:S.bottom>p.bottom&&(f.scrollTop+=S.bottom-p.bottom)}function oa(f){return(f.boost||0)*100+(f.apply?10:0)+(f.info?5:0)+(f.type?1:0)}function zo(f,r){let p=[],S=null,P=Me=>{p.push(Me);let{section:gt}=Me.completion;if(gt){S||(S=[]);let Tt=typeof gt=="string"?gt:gt.name;S.some(rr=>rr.name==Tt)||S.push(typeof gt=="string"?{name:Tt}:gt)}};for(let Me of f)if(Me.hasResult())if(Me.result.filter===!1){let gt=Me.result.getMatch;for(let Tt of Me.result.options){let rr=[1e9-p.length];if(gt)for(let qr of gt(Tt))rr.push(qr);P(new ds(Tt,Me.source,rr,rr[0]))}}else{let gt=new fo(r.sliceDoc(Me.from,Me.to)),Tt;for(let rr of Me.result.options)(Tt=gt.match(rr.label))&&P(new ds(rr,Me.source,Tt,Tt[0]+(rr.boost||0)))}if(S){let Me=Object.create(null),gt=0,Tt=(rr,qr)=>{var In,Ki;return((In=rr.rank)!==null&&In!==void 0?In:1e9)-((Ki=qr.rank)!==null&&Ki!==void 0?Ki:1e9)||(rr.name<qr.name?-1:1)};for(let rr of S.sort(Tt))gt-=1e5,Me[rr.name]=gt;for(let rr of p){let{section:qr}=rr.completion;qr&&(rr.score+=Me[typeof qr=="string"?qr:qr.name])}}let B=[],ae=null,Ae=r.facet(ho).compareCompletions;for(let Me of p.sort((gt,Tt)=>Tt.score-gt.score||Ae(gt.completion,Tt.completion)))!ae||ae.label!=Me.completion.label||ae.detail!=Me.completion.detail||ae.type!=null&&Me.completion.type!=null&&ae.type!=Me.completion.type||ae.apply!=Me.completion.apply?B.push(Me):oa(Me.completion)>oa(ae)&&(B[B.length-1]=Me),ae=Me.completion;return B}class Ls{constructor(r,p,S,P,B,ae){this.options=r,this.attrs=p,this.tooltip=S,this.timestamp=P,this.selected=B,this.disabled=ae}setSelected(r,p){return r==this.selected||r>=this.options.length?this:new Ls(this.options,Da(p,r),this.tooltip,this.timestamp,r,this.disabled)}static build(r,p,S,P,B){let ae=zo(r,p);if(!ae.length)return P&&r.some(Me=>Me.state==1)?new Ls(P.options,P.attrs,P.tooltip,P.timestamp,P.selected,!0):null;let Ae=p.facet(ho).selectOnOpen?0:-1;if(P&&P.selected!=Ae&&P.selected!=-1){let Me=P.options[P.selected].completion;for(let gt=0;gt<ae.length;gt++)if(ae[gt].completion==Me){Ae=gt;break}}return new Ls(ae,Da(S,Ae),{pos:r.reduce((Me,gt)=>gt.hasResult()?Math.min(Me,gt.from):Me,1e8),create:Ns(Ui),above:B.aboveCursor},P?P.timestamp:Date.now(),Ae,!1)}map(r){return new Ls(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:r.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class Mo{constructor(r,p,S){this.active=r,this.id=p,this.open=S}static start(){return new Mo(ka,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(r){let{state:p}=r,S=p.facet(ho),B=(S.override||p.languageDataAt("autocomplete",Zn(p)).map(Ua)).map(Ae=>(this.active.find(gt=>gt.source==Ae)||new so(Ae,this.active.some(gt=>gt.state!=0)?1:0)).update(r,S));B.length==this.active.length&&B.every((Ae,Me)=>Ae==this.active[Me])&&(B=this.active);let ae=this.open;ae&&r.docChanged&&(ae=ae.map(r.changes)),r.selection||B.some(Ae=>Ae.hasResult()&&r.changes.touchesRange(Ae.from,Ae.to))||!sa(B,this.active)?ae=Ls.build(B,p,this.id,ae,S):ae&&ae.disabled&&!B.some(Ae=>Ae.state==1)&&(ae=null),!ae&&B.every(Ae=>Ae.state!=1)&&B.some(Ae=>Ae.hasResult())&&(B=B.map(Ae=>Ae.hasResult()?new so(Ae.source,0):Ae));for(let Ae of r.effects)Ae.is(ga)&&(ae=ae&&ae.setSelected(Ae.value,this.id));return B==this.active&&ae==this.open?this:new Mo(B,this.id,ae)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:_a}}function sa(f,r){if(f==r)return!0;for(let p=0,S=0;;){for(;p<f.length&&!f[p].hasResult;)p++;for(;S<r.length&&!r[S].hasResult;)S++;let P=p==f.length,B=S==r.length;if(P||B)return P==B;if(f[p++].result!=r[S++].result)return!1}}const _a={"aria-autocomplete":"list"};function Da(f,r){let p={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":f};return r>-1&&(p["aria-activedescendant"]=f+"-"+r),p}const ka=[];function is(f){return f.isUserEvent("input.type")?"input":f.isUserEvent("delete.backward")?"delete":null}class so{constructor(r,p,S=-1){this.source=r,this.state=p,this.explicitPos=S}hasResult(){return!1}update(r,p){let S=is(r),P=this;S?P=P.handleUserEvent(r,S,p):r.docChanged?P=P.handleChange(r):r.selection&&P.state!=0&&(P=new so(P.source,0));for(let B of r.effects)if(B.is(Pa))P=new so(P.source,1,B.value?Zn(r.state):-1);else if(B.is(Ko))P=new so(P.source,0);else if(B.is(aa))for(let ae of B.value)ae.source==P.source&&(P=ae);return P}handleUserEvent(r,p,S){return p=="delete"||!S.activateOnTyping?this.map(r.changes):new so(this.source,1)}handleChange(r){return r.changes.touchesRange(Zn(r.startState))?new so(this.source,0):this.map(r.changes)}map(r){return r.empty||this.explicitPos<0?this:new so(this.source,this.state,r.mapPos(this.explicitPos))}}class $o extends so{constructor(r,p,S,P,B){super(r,2,p),this.result=S,this.from=P,this.to=B}hasResult(){return!0}handleUserEvent(r,p,S){var P;let B=r.changes.mapPos(this.from),ae=r.changes.mapPos(this.to,1),Ae=Zn(r.state);if((this.explicitPos<0?Ae<=B:Ae<this.from)||Ae>ae||p=="delete"&&Zn(r.startState)==this.from)return new so(this.source,p=="input"&&S.activateOnTyping?1:0);let Me=this.explicitPos<0?-1:r.changes.mapPos(this.explicitPos),gt;return Qa(this.result.validFor,r.state,B,ae)?new $o(this.source,Me,this.result,B,ae):this.result.update&&(gt=this.result.update(this.result,B,ae,new zr(r.state,Ae,Me>=0)))?new $o(this.source,Me,gt,gt.from,(P=gt.to)!==null&&P!==void 0?P:Zn(r.state)):new so(this.source,1,Me)}handleChange(r){return r.changes.touchesRange(this.from,this.to)?new so(this.source,0):this.map(r.changes)}map(r){return r.empty?this:new $o(this.source,this.explicitPos<0?-1:r.mapPos(this.explicitPos),this.result,r.mapPos(this.from),r.mapPos(this.to,1))}}function Qa(f,r,p,S){if(!f)return!1;let P=r.sliceDoc(p,S);return typeof f=="function"?f(P,p,S,r):Nn(f,!0).test(P)}const aa=O.Py.define({map(f,r){return f.map(p=>p.map(r))}}),ga=O.Py.define(),Ui=O.QQ.define({create(){return Mo.start()},update(f,r){return f.update(r)},provide:f=>[_.hJ.from(f,r=>r.tooltip),_.tk.contentAttributes.from(f,r=>r.attrs)]}),ya=_.tk.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:`${400}px`,boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:`${30}px`},".cm-completionInfo.cm-completionInfo-right-narrow":{left:`${30}px`},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class mo{constructor(r,p,S,P){this.field=r,this.line=p,this.from=S,this.to=P}}class Xs{constructor(r,p,S){this.field=r,this.from=p,this.to=S}map(r){let p=r.mapPos(this.from,-1,MapMode.TrackDel),S=r.mapPos(this.to,1,MapMode.TrackDel);return p==null||S==null?null:new Xs(this.field,p,S)}}class vo{constructor(r,p){this.lines=r,this.fieldPositions=p}instantiate(r,p){let S=[],P=[p],B=r.doc.lineAt(p),ae=/^\s*/.exec(B.text)[0];for(let Me of this.lines){if(S.length){let gt=ae,Tt=/^\t*/.exec(Me)[0].length;for(let rr=0;rr<Tt;rr++)gt+=r.facet(indentUnit);P.push(p+gt.length-Tt),Me=gt+Me.slice(Tt)}S.push(Me),p+=Me.length+1}let Ae=this.fieldPositions.map(Me=>new Xs(Me.field,P[Me.line]+Me.from,P[Me.line]+Me.to));return{text:S,ranges:Ae}}static parse(r){let p=[],S=[],P=[],B;for(let ae of r.split(/\r\n?|\n/)){for(;B=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(ae);){let Ae=B[1]?+B[1]:null,Me=B[2]||B[3]||"",gt=-1;for(let Tt=0;Tt<p.length;Tt++)(Ae!=null?p[Tt].seq==Ae:Me&&p[Tt].name==Me)&&(gt=Tt);if(gt<0){let Tt=0;for(;Tt<p.length&&(Ae==null||p[Tt].seq!=null&&p[Tt].seq<Ae);)Tt++;p.splice(Tt,0,{seq:Ae,name:Me}),gt=Tt;for(let rr of P)rr.field>=gt&&rr.field++}P.push(new mo(gt,S.length,B.index,B.index+Me.length)),ae=ae.slice(0,B.index)+Me+ae.slice(B.index+B[0].length)}for(let Ae;Ae=/\\([{}])/.exec(ae);){ae=ae.slice(0,Ae.index)+Ae[1]+ae.slice(Ae.index+Ae[0].length);for(let Me of P)Me.line==S.length&&Me.from>Ae.index&&(Me.from--,Me.to--)}S.push(ae)}return new vo(S,P)}}let la=_.p.widget({widget:new class extends _.l9{toDOM(){let f=document.createElement("span");return f.className="cm-snippetFieldPosition",f}ignoreEvent(){return!1}}}),ms=_.p.mark({class:"cm-snippetField"});class ps{constructor(r,p){this.ranges=r,this.active=p,this.deco=_.p.set(r.map(S=>(S.from==S.to?la:ms).range(S.from,S.to)))}map(r){let p=[];for(let S of this.ranges){let P=S.map(r);if(!P)return null;p.push(P)}return new ps(p,this.active)}selectionInsideField(r){return r.ranges.every(p=>this.ranges.some(S=>S.field==this.active&&S.from<=p.from&&S.to>=p.to))}}const Ho=O.Py.define({map(f,r){return f&&f.map(r)}}),va=O.Py.define(),Io=O.QQ.define({create(){return null},update(f,r){for(let p of r.effects){if(p.is(Ho))return p.value;if(p.is(va)&&f)return new ps(f.ranges,p.value)}return f&&r.docChanged&&(f=f.map(r.changes)),f&&r.selection&&!f.selectionInsideField(r.selection)&&(f=null),f},provide:f=>_.tk.decorations.from(f,r=>r?r.deco:_.p.none)});function Yi(f,r){return O.jT.create(f.filter(p=>p.field==r).map(p=>O.jT.range(p.from,p.to)))}function Cs(f){let r=vo.parse(f);return(p,S,P,B)=>{let{text:ae,ranges:Ae}=r.instantiate(p.state,P),Me={changes:{from:P,to:B,insert:Text.of(ae)},scrollIntoView:!0,annotations:S?Aa.of(S):void 0};if(Ae.length&&(Me.selection=Yi(Ae,0)),Ae.length>1){let gt=new ps(Ae,0),Tt=Me.effects=[Ho.of(gt)];p.state.field(Io,!1)===void 0&&Tt.push(StateEffect.appendConfig.of([Io,ys,vs,ya]))}p.dispatch(p.state.update(Me))}}function Jo(f){return({state:r,dispatch:p})=>{let S=r.field(Io,!1);if(!S||f<0&&S.active==0)return!1;let P=S.active+f,B=f>0&&!S.ranges.some(ae=>ae.field==P+f);return p(r.update({selection:Yi(S.ranges,P),effects:Ho.of(B?null:new ps(S.ranges,P))})),!0}}const Ma=({state:f,dispatch:r})=>f.field(Io,!1)?(r(f.update({effects:Ho.of(null)})),!0):!1,gs=Jo(1),ba=Jo(-1);function Ka(f){let r=f.field(Io,!1);return!!(r&&r.ranges.some(p=>p.field==r.active+1))}function As(f){let r=f.field(Io,!1);return!!(r&&r.active>0)}const za=[{key:"Tab",run:gs,shift:ba},{key:"Escape",run:Ma}],Ai=O.r$.define({combine(f){return f.length?f[0]:za}}),ys=O.Wl.highest(_.$f.compute([Ai],f=>f.facet(Ai)));function Ps(f,r){return Object.assign(Object.assign({},r),{apply:Cs(f)})}const vs=_.tk.domEventHandlers({mousedown(f,r){let p=r.state.field(Io,!1),S;if(!p||(S=r.posAtCoords({x:f.clientX,y:f.clientY}))==null)return!1;let P=p.ranges.find(B=>B.from<=S&&B.to>=S);return!P||P.field==p.active?!1:(r.dispatch({selection:Yi(p.ranges,P.field),effects:Ho.of(p.ranges.some(B=>B.field>P.field)?new ps(p.ranges,P.field):null)}),!0)}});function $a(f){let r=f.replace(/[\\[.+*?(){|^$]/g,"\\$&");try{return new RegExp(`[\\p{Alphabetic}\\p{Number}_${r}]+`,"ug")}catch{return new RegExp(`[w${r}]`,"g")}}function Ts(f,r){return new RegExp(r(f.source),f.unicode?"u":"")}const Bs=null;function ua(f){return Bs[f]||(Bs[f]=new WeakMap)}function Ws(f,r,p,S,P){for(let B=f.iterLines(),ae=0;!B.next().done;){let{value:Ae}=B,Me;for(r.lastIndex=0;Me=r.exec(Ae);)if(!S[Me[0]]&&ae+Me.index!=P&&(p.push({type:"text",label:Me[0]}),S[Me[0]]=!0,p.length>=2e3))return;ae+=Ae.length+1}}function Qs(f,r,p,S,P){let B=f.length>=1e3,ae=B&&r.get(f);if(ae)return ae;let Ae=[],Me=Object.create(null);if(f.children){let gt=0;for(let Tt of f.children){if(Tt.length>=1e3)for(let rr of Qs(Tt,r,p,S-gt,P-gt))Me[rr.label]||(Me[rr.label]=!0,Ae.push(rr));else Ws(Tt,p,Ae,Me,P-gt);gt+=Tt.length+1}}else Ws(f,p,Ae,Me,P);return B&&Ae.length<2e3&&r.set(f,Ae),Ae}const Ia=f=>{let r=f.state.languageDataAt("wordChars",f.pos).join(""),p=$a(r),S=f.matchBefore(Ts(p,ae=>ae+"$"));if(!S&&!f.explicit)return null;let P=S?S.from:f.pos,B=Qs(f.state.doc,ua(r),p,5e4,P);return{from:P,options:B,validFor:Ts(p,ae=>"^"+ae)}},Ro={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Go=O.Py.define({map(f,r){let p=r.mapPos(f,-1,O.gc.TrackAfter);return p==null?void 0:p}}),_s=new class extends O.uU{};_s.startSide=1,_s.endSide=-1;const Ra=O.QQ.define({create(){return O.Xs.empty},update(f,r){if(r.selection){let p=r.state.doc.lineAt(r.selection.main.head).from,S=r.startState.doc.lineAt(r.startState.selection.main.head).from;p!=r.changes.mapPos(S,-1)&&(f=O.Xs.empty)}f=f.map(r.changes);for(let p of r.effects)p.is(Go)&&(f=f.update({add:[_s.range(p.value,p.value+1)]}));return f}});function Zs(){return[we,Ra]}const Ds="()[]{}<>";function C(f){for(let r=0;r<Ds.length;r+=2)if(Ds.charCodeAt(r)==f)return Ds.charAt(r+1);return(0,O.bg)(f<128?f:f+1)}function U(f,r){return f.languageDataAt("closeBrackets",r)[0]||Ro}const ne=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),we=_.tk.inputHandler.of((f,r,p,S)=>{if((ne?f.composing:f.compositionStarted)||f.state.readOnly)return!1;let P=f.state.selection.main;if(S.length>2||S.length==2&&(0,O.nZ)((0,O.gm)(S,0))==1||r!=P.from||p!=P.to)return!1;let B=at(f.state,S);return B?(f.dispatch(B),!0):!1}),Fe=[{key:"Backspace",run:({state:f,dispatch:r})=>{if(f.readOnly)return!1;let S=U(f,f.selection.main.head).brackets||Ro.brackets,P=null,B=f.changeByRange(ae=>{if(ae.empty){let Ae=ar(f.doc,ae.head);for(let Me of S)if(Me==Ae&&Pt(f.doc,ae.head)==C((0,O.gm)(Me,0)))return{changes:{from:ae.head-Me.length,to:ae.head+Me.length},range:O.jT.cursor(ae.head-Me.length)}}return{range:P=ae}});return P||r(f.update(B,{scrollIntoView:!0,userEvent:"delete.backward"})),!P}}];function at(f,r){let p=U(f,f.selection.main.head),S=p.brackets||Ro.brackets;for(let P of S){let B=C((0,O.gm)(P,0));if(r==P)return B==P?Wr(f,P,S.indexOf(P+P+P)>-1,p):vr(f,P,B,p.before||Ro.before);if(r==B&&Rt(f,f.selection.main.from))return Ar(f,P,B)}return null}function Rt(f,r){let p=!1;return f.field(Ra).between(0,f.doc.length,S=>{S==r&&(p=!0)}),p}function Pt(f,r){let p=f.sliceString(r,r+2);return p.slice(0,(0,O.nZ)((0,O.gm)(p,0)))}function ar(f,r){let p=f.sliceString(r-2,r);return(0,O.nZ)((0,O.gm)(p,0))==p.length?p:p.slice(1)}function vr(f,r,p,S){let P=null,B=f.changeByRange(ae=>{if(!ae.empty)return{changes:[{insert:r,from:ae.from},{insert:p,from:ae.to}],effects:Go.of(ae.to+r.length),range:O.jT.range(ae.anchor+r.length,ae.head+r.length)};let Ae=Pt(f.doc,ae.head);return!Ae||/\s/.test(Ae)||S.indexOf(Ae)>-1?{changes:{insert:r+p,from:ae.head},effects:Go.of(ae.head+r.length),range:O.jT.cursor(ae.head+r.length)}:{range:P=ae}});return P?null:f.update(B,{scrollIntoView:!0,userEvent:"input.type"})}function Ar(f,r,p){let S=null,P=f.changeByRange(B=>B.empty&&Pt(f.doc,B.head)==p?{changes:{from:B.head,to:B.head+p.length,insert:p},range:O.jT.cursor(B.head+p.length)}:S={range:B});return S?null:f.update(P,{scrollIntoView:!0,userEvent:"input.type"})}function Wr(f,r,p,S){let P=S.stringPrefixes||Ro.stringPrefixes,B=null,ae=f.changeByRange(Ae=>{if(!Ae.empty)return{changes:[{insert:r,from:Ae.from},{insert:r,from:Ae.to}],effects:Go.of(Ae.to+r.length),range:O.jT.range(Ae.anchor+r.length,Ae.head+r.length)};let Me=Ae.head,gt=Pt(f.doc,Me),Tt;if(gt==r){if(xn(f,Me))return{changes:{insert:r+r,from:Me},effects:Go.of(Me+r.length),range:O.jT.cursor(Me+r.length)};if(Rt(f,Me)){let qr=p&&f.sliceDoc(Me,Me+r.length*3)==r+r+r?r+r+r:r;return{changes:{from:Me,to:Me+qr.length,insert:qr},range:O.jT.cursor(Me+qr.length)}}}else{if(p&&f.sliceDoc(Me-2*r.length,Me)==r+r&&(Tt=$n(f,Me-2*r.length,P))>-1&&xn(f,Tt))return{changes:{insert:r+r+r+r,from:Me},effects:Go.of(Me+r.length),range:O.jT.cursor(Me+r.length)};if(f.charCategorizer(Me)(gt)!=O.D0.Word&&$n(f,Me,P)>-1&&!Un(f,Me,r,P))return{changes:{insert:r+r,from:Me},effects:Go.of(Me+r.length),range:O.jT.cursor(Me+r.length)}}return{range:B=Ae}});return B?null:f.update(ae,{scrollIntoView:!0,userEvent:"input.type"})}function xn(f,r){let p=(0,D.qz)(f).resolveInner(r+1);return p.parent&&p.from==r}function Un(f,r,p,S){let P=(0,D.qz)(f).resolveInner(r,-1),B=S.reduce((ae,Ae)=>Math.max(ae,Ae.length),0);for(let ae=0;ae<5;ae++){let Ae=f.sliceDoc(P.from,Math.min(P.to,P.from+p.length+B)),Me=Ae.indexOf(p);if(!Me||Me>-1&&S.indexOf(Ae.slice(0,Me))>-1){let Tt=P.firstChild;for(;Tt&&Tt.from==P.from&&Tt.to-Tt.from>p.length+Me;){if(f.sliceDoc(Tt.to-p.length,Tt.to)==p)return!1;Tt=Tt.firstChild}return!0}let gt=P.to==r&&P.parent;if(!gt)break;P=gt}return!1}function $n(f,r,p){let S=f.charCategorizer(r);if(S(f.sliceDoc(r-1,r))!=O.D0.Word)return r;for(let P of p){let B=r-P.length;if(f.sliceDoc(B,r)==P&&S(f.sliceDoc(B-1,B))!=O.D0.Word)return B}return-1}function Pn(f={}){return[Ui,ho.of(f),pa,Si,ya]}const di=[{key:"Ctrl-Space",run:ns},{key:"Escape",run:Hs},{key:"ArrowDown",run:na(!0)},{key:"ArrowUp",run:na(!1)},{key:"PageDown",run:na(!0,"page")},{key:"PageUp",run:na(!1,"page")},{key:"Enter",run:Va}],Si=O.Wl.highest(_.$f.computeN([ho],f=>f.facet(ho).defaultKeymap?[di]:[]));function wo(f){let r=f.field(Ui,!1);return r&&r.active.some(p=>p.state==1)?"pending":r&&r.active.some(p=>p.state!=0)?"active":null}const Vi=new WeakMap;function Oo(f){var r;let p=(r=f.field(Ui,!1))===null||r===void 0?void 0:r.open;if(!p||p.disabled)return[];let S=Vi.get(p.options);return S||Vi.set(p.options,S=p.options.map(P=>P.completion)),S}function Vn(f){var r;let p=(r=f.field(Ui,!1))===null||r===void 0?void 0:r.open;return p&&!p.disabled&&p.selected>=0?p.options[p.selected].completion:null}function Ei(f){var r;let p=(r=f.field(Ui,!1))===null||r===void 0?void 0:r.open;return p&&!p.disabled&&p.selected>=0?p.selected:null}function os(f){return ga.of(f)}class Fa{constructor(r,p,S){this.from=r,this.to=p,this.diagnostic=S}}class On{constructor(r,p,S){this.diagnostics=r,this.panel=p,this.selected=S}static init(r,p,S){let P=r,B=S.facet(g).markerFilter;B&&(P=B(P));let ae=_.p.set(P.map(Ae=>Ae.from==Ae.to||Ae.from==Ae.to-1&&S.doc.lineAt(Ae.from).to==Ae.from?_.p.widget({widget:new ut(Ae),diagnostic:Ae}).range(Ae.from):_.p.mark({attributes:{class:"cm-lintRange cm-lintRange-"+Ae.severity},diagnostic:Ae}).range(Ae.from,Ae.to)),!0);return new On(ae,p,qs(ae))}}function qs(f,r=null,p=0){let S=null;return f.between(p,1e9,(P,B,{spec:ae})=>{if(!(r&&ae.diagnostic!=r))return S=new Fa(P,B,ae.diagnostic),!1}),S}function ss(f,r){return!!(f.effects.some(p=>p.is(as))||f.changes.touchesRange(r.pos))}function Ha(f,r){return f.field(po,!1)?r:r.concat(O.Py.appendConfig.of(me))}function ol(f,r){return{effects:Ha(f,[as.of(r)])}}const as=O.Py.define(),Sa=O.Py.define(),ja=O.Py.define(),po=O.QQ.define({create(){return new On(_.p.none,null,null)},update(f,r){if(r.docChanged){let p=f.diagnostics.map(r.changes),S=null;if(f.selected){let P=r.changes.mapPos(f.selected.from,1);S=qs(p,f.selected.diagnostic,P)||qs(p,null,P)}f=new On(p,f.panel,S)}for(let p of r.effects)p.is(as)?f=On.init(p.value,f.panel,r.state):p.is(Sa)?f=new On(f.diagnostics,p.value?At.open:null,f.selected):p.is(ja)&&(f=new On(f.diagnostics,f.panel,p.value));return f},provide:f=>[_.mH.from(f,r=>r.panel),_.tk.decorations.from(f,r=>r.diagnostics)]});function Qr(f){let r=f.field(po,!1);return r?r.diagnostics.size:0}const Na=_.p.mark({class:"cm-lintRange cm-lintRange-active"});function qa(f,r,p){let{diagnostics:S}=f.state.field(po),P=[],B=2e8,ae=0;S.between(r-(p<0?1:0),r+(p>0?1:0),(Me,gt,{spec:Tt})=>{r>=Me&&r<=gt&&(Me==gt||(r>Me||p>0)&&(r<gt||p<0))&&(P.push(Tt.diagnostic),B=Math.min(Me,B),ae=Math.max(gt,ae))});let Ae=f.state.facet(g).tooltipFilter;return Ae&&(P=Ae(P)),P.length?{pos:B,end:ae,above:f.state.doc.lineAt(B).to<ae,create(){return{dom:Xi(f,P)}}}:null}function Xi(f,r){return fn("ul",{class:"cm-tooltip-lint"},r.map(p=>tt(f,p,!1)))}const el=f=>{let r=f.state.field(po,!1);(!r||!r.panel)&&f.dispatch({effects:Ha(f.state,[Sa.of(!0)])});let p=(0,_.Sd)(f,At.open);return p&&p.dom.querySelector(".cm-panel-lint ul").focus(),!0},La=f=>{let r=f.state.field(po,!1);return!r||!r.panel?!1:(f.dispatch({effects:Sa.of(!1)}),!0)},h=[{key:"Mod-Shift-m",run:el,preventDefault:!0},{key:"F8",run:f=>{let r=f.state.field(po,!1);if(!r)return!1;let p=f.state.selection.main,S=r.diagnostics.iter(p.to+1);return!S.value&&(S=r.diagnostics.iter(0),!S.value||S.from==p.from&&S.to==p.to)?!1:(f.dispatch({selection:{anchor:S.from,head:S.to},scrollIntoView:!0}),!0)}}],x=null,g=O.r$.define({combine(f){return Object.assign({sources:f.map(r=>r.source)},(0,O.BO)(f.map(r=>r.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(r,p)=>r?p?S=>r(S)||p(S):r:p}))}});function L(f,r={}){return[g.of({source:f,config:r}),x,me]}function he(f){let r=f.plugin(x);r&&r.force()}function qe(f){let r=[];if(f)e:for(let{name:p}of f){for(let S=0;S<p.length;S++){let P=p[S];if(/[a-zA-Z]/.test(P)&&!r.some(B=>B.toLowerCase()==P.toLowerCase())){r.push(P);continue e}}r.push("")}return r}function tt(f,r,p){var S;let P=p?qe(r.actions):[];return fn("li",{class:"cm-diagnostic cm-diagnostic-"+r.severity},fn("span",{class:"cm-diagnosticText"},r.renderMessage?r.renderMessage():r.message),(S=r.actions)===null||S===void 0?void 0:S.map((B,ae)=>{let Ae=!1,Me=qr=>{if(qr.preventDefault(),Ae)return;Ae=!0;let In=qs(f.state.field(po).diagnostics,r);In&&B.apply(f,In.from,In.to)},{name:gt}=B,Tt=P[ae]?gt.indexOf(P[ae]):-1,rr=Tt<0?gt:[gt.slice(0,Tt),fn("u",gt.slice(Tt,Tt+1)),gt.slice(Tt+1)];return fn("button",{type:"button",class:"cm-diagnosticAction",onclick:Me,onmousedown:Me,"aria-label":` Action: ${gt}${Tt<0?"":` (access key "${P[ae]})"`}.`},rr)}),r.source&&fn("div",{class:"cm-diagnosticSource"},r.source))}class ut extends _.l9{constructor(r){super(),this.diagnostic=r}eq(r){return r.diagnostic==this.diagnostic}toDOM(){return fn("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class Et{constructor(r,p){this.diagnostic=p,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=tt(r,p,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class At{constructor(r){this.view=r,this.items=[];let p=P=>{if(P.keyCode==27)La(this.view),this.view.focus();else if(P.keyCode==38||P.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(P.keyCode==40||P.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(P.keyCode==36)this.moveSelection(0);else if(P.keyCode==35)this.moveSelection(this.items.length-1);else if(P.keyCode==13)this.view.focus();else if(P.keyCode>=65&&P.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:B}=this.items[this.selectedIndex],ae=qe(B.actions);for(let Ae=0;Ae<ae.length;Ae++)if(ae[Ae].toUpperCase().charCodeAt(0)==P.keyCode){let Me=qs(this.view.state.field(po).diagnostics,B);Me&&B.actions[Ae].apply(r,Me.from,Me.to)}}else return;P.preventDefault()},S=P=>{for(let B=0;B<this.items.length;B++)this.items[B].dom.contains(P.target)&&this.moveSelection(B)};this.list=fn("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:p,onclick:S}),this.dom=fn("div",{class:"cm-panel-lint"},this.list,fn("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>La(this.view)},"\xD7")),this.update()}get selectedIndex(){let r=this.view.state.field(po).selected;if(!r)return-1;for(let p=0;p<this.items.length;p++)if(this.items[p].diagnostic==r.diagnostic)return p;return-1}update(){let{diagnostics:r,selected:p}=this.view.state.field(po),S=0,P=!1,B=null;for(r.between(0,this.view.state.doc.length,(ae,Ae,{spec:Me})=>{let gt=-1,Tt;for(let rr=S;rr<this.items.length;rr++)if(this.items[rr].diagnostic==Me.diagnostic){gt=rr;break}gt<0?(Tt=new Et(this.view,Me.diagnostic),this.items.splice(S,0,Tt),P=!0):(Tt=this.items[gt],gt>S&&(this.items.splice(S,gt-S),P=!0)),p&&Tt.diagnostic==p.diagnostic?Tt.dom.hasAttribute("aria-selected")||(Tt.dom.setAttribute("aria-selected","true"),B=Tt):Tt.dom.hasAttribute("aria-selected")&&Tt.dom.removeAttribute("aria-selected"),S++});S<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)P=!0,this.items.pop();this.items.length==0&&(this.items.push(new Et(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),P=!0),B?(this.list.setAttribute("aria-activedescendant",B.id),this.view.requestMeasure({key:this,read:()=>({sel:B.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:ae,panel:Ae})=>{ae.top<Ae.top?this.list.scrollTop-=Ae.top-ae.top:ae.bottom>Ae.bottom&&(this.list.scrollTop+=ae.bottom-Ae.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),P&&this.sync()}sync(){let r=this.list.firstChild;function p(){let S=r;r=S.nextSibling,S.remove()}for(let S of this.items)if(S.dom.parentNode==this.list){for(;r!=S.dom;)p();r=S.dom.nextSibling}else this.list.insertBefore(S.dom,r);for(;r;)p()}moveSelection(r){if(this.selectedIndex<0)return;let p=this.view.state.field(po),S=qs(p.diagnostics,this.items[r].diagnostic);S&&this.view.dispatch({selection:{anchor:S.from,head:S.to},scrollIntoView:!0,effects:ja.of(S)})}static open(r){return new At(r)}}function Mt(f,r='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${r}>${encodeURIComponent(f)}</svg>')`}function er(f){return Mt(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${f}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const ir=_.tk.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:er("#d11")},".cm-lintRange-warning":{backgroundImage:er("orange")},".cm-lintRange-info":{backgroundImage:er("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});class l extends _.SJ{constructor(r){super(),this.diagnostics=r,this.severity=r.reduce((p,S)=>{let P=S.severity;return P=="error"||P=="warning"&&p=="info"?P:p},"info")}toDOM(r){let p=document.createElement("div");p.className="cm-lint-marker cm-lint-marker-"+this.severity;let S=this.diagnostics,P=r.state.facet(ue).tooltipFilter;return P&&(S=P(S)),S.length&&(p.onmouseover=()=>t(r,p,S)),p}}function e(f,r){let p=S=>{let P=r.getBoundingClientRect();if(!(S.clientX>P.left-10&&S.clientX<P.right+10&&S.clientY>P.top-10&&S.clientY<P.bottom+10)){for(let B=S.target;B;B=B.parentNode)if(B.nodeType==1&&B.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",p),f.state.field(W)&&f.dispatch({effects:A.of(null)})}};window.addEventListener("mousemove",p)}function t(f,r,p){function S(){let ae=f.elementAtHeight(r.getBoundingClientRect().top+5-f.documentTop);f.coordsAtPos(ae.from)&&f.dispatch({effects:A.of({pos:ae.from,above:!1,create(){return{dom:Xi(f,p),getCoords:()=>r.getBoundingClientRect()}}})}),r.onmouseout=r.onmousemove=null,e(f,r)}let{hoverTime:P}=f.state.facet(ue),B=setTimeout(S,P);r.onmouseout=()=>{clearTimeout(B),r.onmouseout=r.onmousemove=null},r.onmousemove=()=>{clearTimeout(B),B=setTimeout(S,P)}}function i(f,r){let p=Object.create(null);for(let P of r){let B=f.lineAt(P.from);(p[B.from]||(p[B.from]=[])).push(P)}let S=[];for(let P in p)S.push(new l(p[P]).range(+P));return O.Xs.of(S,!0)}const c=(0,_.v5)({class:"cm-gutter-lint",markers:f=>f.state.field(v)}),v=O.QQ.define({create(){return O.Xs.empty},update(f,r){f=f.map(r.changes);let p=r.state.facet(ue).markerFilter;for(let S of r.effects)if(S.is(as)){let P=S.value;p&&(P=p(P||[])),f=i(r.state.doc,P.slice(0))}return f}}),A=O.Py.define(),W=O.QQ.define({create(){return null},update(f,r){return f&&r.docChanged&&(f=ss(r,f)?null:Object.assign(Object.assign({},f),{pos:r.changes.mapPos(f.pos)})),r.effects.reduce((p,S)=>S.is(A)?S.value:p,f)},provide:f=>_.hJ.from(f)}),X=_.tk.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:Mt('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:Mt('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error":{content:Mt('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),me=[po,_.tk.decorations.compute([po],f=>{let{selected:r,panel:p}=f.field(po);return!r||!p||r.from==r.to?_.p.none:_.p.set([Na.range(r.from,r.to)])}),(0,_.bF)(qa,{hideOn:ss}),ir],ue=O.r$.define({combine(f){return(0,O.BO)(f,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});function je(f={}){return[ue.of(f),v,c,X,W]}function ct(f,r){let p=f.field(po,!1);if(p&&p.diagnostics.size)for(let S=RangeSet.iter([p.diagnostics]);S.value;S.next())r(S.value.spec.diagnostic,S.from,S.to)}var vt=function(r){r===void 0&&(r={});var p=[];r.closeBracketsKeymap!==!1&&(p=p.concat(Fe)),r.defaultKeymap!==!1&&(p=p.concat(nn)),r.searchKeymap!==!1&&(p=p.concat(xs)),r.historyKeymap!==!1&&(p=p.concat(Qe)),r.foldKeymap!==!1&&(p=p.concat(D.e7)),r.completionKeymap!==!1&&(p=p.concat(di)),r.lintKeymap!==!1&&(p=p.concat(h));var S=[];return r.lineNumbers!==!1&&S.push((0,_.Eu)()),r.highlightActiveLineGutter!==!1&&S.push((0,_.HQ)()),r.highlightSpecialChars!==!1&&S.push((0,_.AE)()),r.history!==!1&&S.push(dt()),r.foldGutter!==!1&&S.push((0,D.mi)()),r.drawSelection!==!1&&S.push((0,_.Uw)()),r.dropCursor!==!1&&S.push((0,_.qr)()),r.allowMultipleSelections!==!1&&S.push(O.yy.allowMultipleSelections.of(!0)),r.indentOnInput!==!1&&S.push((0,D.nY)()),r.syntaxHighlighting!==!1&&S.push((0,D.nF)(D.R_,{fallback:!0})),r.bracketMatching!==!1&&S.push((0,D.n$)()),r.closeBrackets!==!1&&S.push(Zs()),r.autocompletion!==!1&&S.push(Pn()),r.rectangularSelection!==!1&&S.push((0,_.Zs)()),r.crosshairCursor!==!1&&S.push((0,_.S2)()),r.highlightActiveLine!==!1&&S.push((0,_.ZO)()),r.highlightSelectionMatches!==!1&&S.push(Wo()),r.tabSize&&typeof r.tabSize=="number"&&S.push(D.c.of(" ".repeat(r.tabSize))),S.concat([_.$f.of(p.flat())]).filter(Boolean)},Ft=function(r){r===void 0&&(r={});var p=[];r.defaultKeymap!==!1&&(p=p.concat(defaultKeymap)),r.historyKeymap!==!1&&(p=p.concat(historyKeymap));var S=[];return r.highlightSpecialChars!==!1&&S.push(highlightSpecialChars()),r.history!==!1&&S.push(history()),r.drawSelection!==!1&&S.push(drawSelection()),r.syntaxHighlighting!==!1&&S.push(syntaxHighlighting(defaultHighlightStyle,{fallback:!0})),S.concat([keymap.of(p.flat())]).filter(Boolean)},Ot=a(86253);const Bt="#e5c07b",Qt="#e06c75",Hr="#56b6c2",Gr="#ffffff",un="#abb2bf",Tn="#7d8799",Ln="#61afef",Fi="#98c379",Fo="#d19a66",Yo="#c678dd",Ba="#21252b",Ja="#2c313a",Ga="#282c34",Ea="#353a42",wa="#3E4451",ea="#528bff",tl={chalky:Bt,coral:Qt,cyan:Hr,invalid:Gr,ivory:un,stone:Tn,malibu:Ln,sage:Fi,whiskey:Fo,violet:Yo,darkBackground:Ba,highlightBackground:Ja,background:Ga,tooltipBackground:Ea,selection:wa,cursor:ea},Wa=_.tk.theme({"&":{color:un,backgroundColor:Ga},".cm-content":{caretColor:ea},".cm-cursor, .cm-dropCursor":{borderLeftColor:ea},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:wa},".cm-panels":{backgroundColor:Ba,color:un},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Ga,color:Tn,border:"none"},".cm-activeLineGutter":{backgroundColor:Ja},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Ea},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Ea,borderBottomColor:Ea},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Ja,color:un}}},{dark:!0}),rl=D.Qf.define([{tag:Ot.pJ.keyword,color:Yo},{tag:[Ot.pJ.name,Ot.pJ.deleted,Ot.pJ.character,Ot.pJ.propertyName,Ot.pJ.macroName],color:Qt},{tag:[Ot.pJ.function(Ot.pJ.variableName),Ot.pJ.labelName],color:Ln},{tag:[Ot.pJ.color,Ot.pJ.constant(Ot.pJ.name),Ot.pJ.standard(Ot.pJ.name)],color:Fo},{tag:[Ot.pJ.definition(Ot.pJ.name),Ot.pJ.separator],color:un},{tag:[Ot.pJ.typeName,Ot.pJ.className,Ot.pJ.number,Ot.pJ.changed,Ot.pJ.annotation,Ot.pJ.modifier,Ot.pJ.self,Ot.pJ.namespace],color:Bt},{tag:[Ot.pJ.operator,Ot.pJ.operatorKeyword,Ot.pJ.url,Ot.pJ.escape,Ot.pJ.regexp,Ot.pJ.link,Ot.pJ.special(Ot.pJ.string)],color:Hr},{tag:[Ot.pJ.meta,Ot.pJ.comment],color:Tn},{tag:Ot.pJ.strong,fontWeight:"bold"},{tag:Ot.pJ.emphasis,fontStyle:"italic"},{tag:Ot.pJ.strikethrough,textDecoration:"line-through"},{tag:Ot.pJ.link,color:Tn,textDecoration:"underline"},{tag:Ot.pJ.heading,fontWeight:"bold",color:Qt},{tag:[Ot.pJ.atom,Ot.pJ.bool,Ot.pJ.special(Ot.pJ.variableName)],color:Fo},{tag:[Ot.pJ.processingInstruction,Ot.pJ.string,Ot.pJ.inserted],color:Fi},{tag:Ot.pJ.invalid,color:Gr}]),ca=[Wa,(0,D.nF)(rl)];var fa=function(r){r===void 0&&(r={});var{indentWithTab:p=!0,editable:S=!0,readOnly:P=!1,theme:B="light",placeholder:ae="",basicSetup:Ae=!0}=r,Me=[],gt=_.tk.theme({"&":{backgroundColor:"#fff"}},{dark:!1});switch(p&&Me.unshift(_.$f.of([Gn])),Ae&&(typeof Ae=="boolean"?Me.unshift(vt()):Me.unshift(vt(Ae))),ae&&Me.unshift((0,_.W$)(ae)),B){case"light":Me.push(gt);break;case"dark":Me.push(ca);break;case"none":break;default:Me.push(B);break}return S===!1&&Me.push(_.tk.editable.of(!1)),P&&Me.push(O.yy.readOnly.of(!0)),[...Me]},Ol=f=>({line:f.state.doc.lineAt(f.state.selection.main.from),lineCount:f.state.doc.lines,lineBreak:f.state.lineBreak,length:f.state.doc.length,readOnly:f.state.readOnly,tabSize:f.state.tabSize,selection:f.state.selection,selectionAsSingle:f.state.selection.asSingle().main,ranges:f.state.selection.ranges,selectionCode:f.state.sliceDoc(f.state.selection.main.from,f.state.selection.main.to),selections:f.state.selection.ranges.map(r=>f.state.sliceDoc(r.from,r.to)),selectedText:f.state.selection.ranges.some(r=>!r.empty)}),vl=O.q6.define();function xl(f){var{value:r,selection:p,onChange:S,onStatistics:P,onCreateEditor:B,onUpdate:ae,extensions:Ae=[],autoFocus:Me,theme:gt="light",height:Tt="",minHeight:rr="",maxHeight:qr="",placeholder:In="",width:Ki="",minWidth:ta="",maxWidth:sl="",editable:Ya=!0,readOnly:ao=!1,indentWithTab:Us=!0,basicSetup:ks=!0,root:xo,initialState:Oa}=f,[xa,hl]=(0,I.useState)(),[jo,Za]=(0,I.useState)(),[al,ll]=(0,I.useState)(),gl=_.tk.theme({"&":{height:Tt,minHeight:rr,maxHeight:qr,width:Ki,minWidth:ta,maxWidth:sl}}),yl=_.tk.updateListener.of(ra=>{if(ra.docChanged&&typeof S=="function"&&!ra.transactions.some(Tl=>Tl.annotation(vl))){var cl=ra.state.doc,fl=cl.toString();S(fl,ra)}P&&P(Ol(ra))}),ml=fa({theme:gt,editable:Ya,readOnly:ao,placeholder:In,indentWithTab:Us,basicSetup:ks}),Ca=[yl,gl,...ml];return ae&&typeof ae=="function"&&Ca.push(_.tk.updateListener.of(ae)),Ca=Ca.concat(Ae),(0,I.useEffect)(()=>{if(xa&&!al){var ra={doc:r,selection:p,extensions:Ca},cl=Oa?O.yy.fromJSON(Oa.json,ra,Oa.fields):O.yy.create(ra);if(ll(cl),!jo){var fl=new _.tk({state:cl,parent:xa,root:xo});Za(fl),B&&B(fl,cl)}}return()=>{jo&&(ll(void 0),Za(void 0))}},[xa,al]),(0,I.useEffect)(()=>hl(f.container),[f.container]),(0,I.useEffect)(()=>()=>{jo&&(jo.destroy(),Za(void 0))},[jo]),(0,I.useEffect)(()=>{Me&&jo&&jo.focus()},[Me,jo]),(0,I.useEffect)(()=>{jo&&jo.dispatch({effects:O.Py.reconfigure.of(Ca)})},[gt,Ae,Tt,rr,qr,Ki,ta,sl,In,Ya,ao,Us,ks,S,ae]),(0,I.useEffect)(()=>{if(r!==void 0){var ra=jo?jo.state.doc.toString():"";jo&&r!==ra&&jo.dispatch({changes:{from:0,to:ra.length,insert:r||""},annotations:[vl.of(!0)]})}},[r,jo]),{state:al,setState:ll,view:jo,setView:Za,container:xa,setContainer:hl}}var Cl=a(52322),Al=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],bl=(0,I.forwardRef)((f,r)=>{var{className:p,value:S="",selection:P,extensions:B=[],onChange:ae,onStatistics:Ae,onCreateEditor:Me,onUpdate:gt,autoFocus:Tt,theme:rr="light",height:qr,minHeight:In,maxHeight:Ki,width:ta,minWidth:sl,maxWidth:Ya,basicSetup:ao,placeholder:Us,indentWithTab:ks,editable:xo,readOnly:Oa,root:xa,initialState:hl}=f,jo=(0,m.Z)(f,Al),Za=(0,I.useRef)(null),{state:al,view:ll,container:gl}=xl({container:Za.current,root:xa,value:S,autoFocus:Tt,theme:rr,height:qr,minHeight:In,maxHeight:Ki,width:ta,minWidth:sl,maxWidth:Ya,basicSetup:ao,placeholder:Us,indentWithTab:ks,editable:xo,readOnly:Oa,selection:P,onChange:ae,onStatistics:Ae,onCreateEditor:Me,onUpdate:gt,extensions:B,initialState:hl});if((0,I.useImperativeHandle)(r,()=>({editor:Za.current,state:al,view:ll}),[Za,gl,al,ll]),typeof S!="string")throw new Error("value must be typeof string but got "+typeof S);var yl=typeof rr=="string"?"cm-theme-"+rr:"cm-theme";return(0,Cl.jsx)("div",(0,o.Z)({ref:Za,className:""+yl+(p?" "+p:"")},jo))});bl.displayName="CodeMirror";var Pl=bl},93948:function(Te,b,a){"use strict";var o=a(87245),m=a(63772),I=a(8615),O=Math.pow(2,31)-1;function _(R,$){var z=1,J;if(R===0)return $;if($===0)return R;for(;R%2===0&&$%2===0;)R=R/2,$=$/2,z=z*2;for(;R%2===0;)R=R/2;for(;$;){for(;$%2===0;)$=$/2;R>$&&(J=$,$=R,R=J),$=$-R}return z*R}function D(R,$){var z=0,J;if(R===0)return $;if($===0)return R;for(;!(R&1)&&!($&1);)R>>>=1,$>>>=1,z++;for(;!(R&1);)R>>>=1;for(;$;){for(;!($&1);)$>>>=1;R>$&&(J=$,$=R,R=J),$=$-R}return R<<z}function N(){var R=arguments.length,$,z,J,ee,re,oe,ye;for($=new Array(R),ye=0;ye<R;ye++)$[ye]=arguments[ye];if(m($)){if(R===2)return re=$[0],oe=$[1],re<0&&(re=-re),oe<0&&(oe=-oe),re<=O&&oe<=O?D(re,oe):_(re,oe);J=$}else if(o($[0]))if(R>1){if(J=$[0],z=$[1],!I(z))throw new TypeError("gcd()::invalid input argument. Accessor must be a function. Value: `"+z+"`.")}else J=$[0];else throw new TypeError("gcd()::invalid input argument. Must provide an array of integers. Value: `"+$[0]+"`.");if(ee=J.length,ee<2)return null;if(z){for(re=new Array(ee),ye=0;ye<ee;ye++)re[ye]=z(J[ye],ye);J=re}if(R<3&&!m(J))throw new TypeError("gcd()::invalid input argument. Accessed array values must be integers. Value: `"+J+"`.");for(ye=0;ye<ee;ye++)re=J[ye],re<0&&(J[ye]=-re);for(re=J[0],ye=1;ye<ee;ye++)oe=J[ye],oe<=O&&re<=O?re=D(re,oe):re=_(re,oe);return re}Te.exports=N},73198:function(Te,b,a){"use strict";var o=a(93948),m=a(87245),I=a(63772),O=a(8615);function _(){var D=arguments.length,N,R,$,z,J,ee,re;for(N=new Array(D),re=0;re<D;re++)N[re]=arguments[re];if(I(N)){if(D===2)return J=N[0],ee=N[1],J<0&&(J=-J),ee<0&&(ee=-ee),J===0||ee===0?0:J/o(J,ee)*ee;$=N}else if(m(N[0]))if(D>1){if($=N[0],R=N[1],!O(R))throw new TypeError("lcm()::invalid input argument. Accessor must be a function. Value: `"+R+"`.")}else $=N[0];else throw new TypeError("lcm()::invalid input argument. Must provide an array of integers. Value: `"+N[0]+"`.");if(z=$.length,z<2)return null;if(R){for(J=new Array(z),re=0;re<z;re++)J[re]=R($[re],re);$=J}if(D<3&&!I($))throw new TypeError("lcm()::invalid input argument. Accessed array values must be integers. Value: `"+$+"`.");for(re=0;re<z;re++)J=$[re],J<0&&($[re]=-J);for(J=$[0],re=1;re<z;re++){if(ee=$[re],J===0||ee===0)return 0;J=J/o(J,ee)*ee}return J}Te.exports=_},16455:function(Te,b,a){var o=a(6200);Te.exports=o},35558:function(Te,b,a){a(21710);var o=a(47923);Te.exports=o("Array","fill")},5594:function(Te,b,a){a(70024);var o=a(47923);Te.exports=o("Array","includes")},29320:function(Te,b,a){var o=a(16455);Te.exports=o},47923:function(Te,b,a){var o=a(10150);Te.exports=o},6200:function(Te,b,a){var o=a(35558);Te.exports=o},44091:function(Te,b,a){"use strict";var o;o={value:!0};const m=a(73961);var I;(function(O){O.RULES=[{name:"Grammar",bnf:[["RULE_S*","%Atomic*","EOF"]]},{name:"%Atomic",bnf:[["Production","RULE_S*"]],fragment:!0},{name:"Production",bnf:[["NCName","RULE_S*",'"::="',"RULE_WHITESPACE*","Choice","RULE_WHITESPACE*","RULE_EOL+","RULE_S*"]]},{name:"NCName",bnf:[[/[a-zA-Z][a-zA-Z_0-9]*/]]},{name:"Choice",bnf:[["SequenceOrDifference","%_Choice_1*"]],fragment:!0},{name:"%_Choice_1",bnf:[["RULE_WHITESPACE*",'"|"',"RULE_WHITESPACE*","SequenceOrDifference"]],fragment:!0},{name:"SequenceOrDifference",bnf:[["Item","RULE_WHITESPACE*","%_Item_1?"]]},{name:"%_Item_1",bnf:[["Minus","Item"],["Item*"]],fragment:!0},{name:"Minus",bnf:[['"-"']]},{name:"Item",bnf:[["RULE_WHITESPACE*","%Primary","PrimaryDecoration?"]],fragment:!0},{name:"PrimaryDecoration",bnf:[['"?"'],['"*"'],['"+"']]},{name:"DecorationName",bnf:[['"ebnf://"',/[^\x5D#]+/]]},{name:"%Primary",bnf:[["NCName"],["StringLiteral"],["CharCode"],["CharClass"],["SubItem"]],fragment:!0},{name:"SubItem",bnf:[['"("',"RULE_WHITESPACE*","Choice","RULE_WHITESPACE*",'")"']]},{name:"StringLiteral",bnf:[[`'"'`,/[^"]*/,`'"'`],[`"'"`,/[^']*/,`"'"`]],pinned:1},{name:"CharCode",bnf:[['"#x"',/[0-9a-zA-Z]+/]]},{name:"CharClass",bnf:[["'['","'^'?","%RULE_CharClass_1+",'"]"']]},{name:"%RULE_CharClass_1",bnf:[["CharCodeRange"],["CharRange"],["CharCode"],["RULE_Char"]],fragment:!0},{name:"RULE_Char",bnf:[[/\x09/],[/\x0A/],[/\x0D/],[/[\x20-\x5c]/],[/[\x5e-\uD7FF]/],[/[\uE000-\uFFFD]/]]},{name:"CharRange",bnf:[["RULE_Char",'"-"',"RULE_Char"]]},{name:"CharCodeRange",bnf:[["CharCode",'"-"',"CharCode"]]},{name:"RULE_WHITESPACE",bnf:[["%RULE_WHITESPACE_CHAR*"],["Comment","RULE_WHITESPACE*"]]},{name:"RULE_S",bnf:[["RULE_WHITESPACE","RULE_S*"],["RULE_EOL","RULE_S*"]]},{name:"%RULE_WHITESPACE_CHAR",bnf:[[/\x09/],[/\x20/]],fragment:!0},{name:"Comment",bnf:[['"/*"',"%RULE_Comment_Body*",'"*/"']]},{name:"%RULE_Comment_Body",bnf:[['!"*/"',/[^*]/]],fragment:!0},{name:"RULE_EOL",bnf:[[/\x0D/,/\x0A/],[/\x0A/],[/\x0D/]]},{name:"Link",bnf:[["'['","Url","']'"]]},{name:"Url",bnf:[[/[^\x5D:/?#]/,'"://"',/[^\x5D#]+/,"%Url1?"]]},{name:"%Url1",bnf:[['"#"',"NCName"]],fragment:!0}],O.defaultParser=new m.Parser(O.RULES,{debug:!1});const _=/^(!|&)/,D=/(\?|\+|\*)$/,N=/^%/;function R(be,te){if(typeof be=="string"){if(_.test(be))return"";if(N.test(be)){let xe=D.exec(be),Le=xe?xe[0]+" ":"";return $(be,te)?J(be,te)+Le:"("+J(be,te)+")"+Le}return be}else return be.source.replace(/\\(?:x|u)([a-zA-Z0-9]+)/g,"#x$1").replace(/\[\\(?:x|u)([a-zA-Z0-9]+)-\\(?:x|u)([a-zA-Z0-9]+)\]/g,"[#x$1-#x$2]")}function $(be,te){let M=m.findRuleByName(be,te);return M&&M.bnf.length==1&&M.bnf[0].length==1&&(M.bnf[0][0]instanceof RegExp||M.bnf[0][0][0]=='"'||M.bnf[0][0][0]=="'")}function z(be,te){return be.map(M=>R(M,te)).join(" ")}function J(be,te){let M=m.findRuleByName(be,te);return M?M.bnf.map(xe=>z(xe,te)).join(" | "):"RULE_NOT_FOUND {"+be+"}"}function ee(be){let te=[];return be.grammarRules.forEach(M=>{if(!/^%/.test(M.name)){let xe=M.recover?" /* { recoverUntil="+M.recover+" } */":"";te.push(M.name+" ::= "+J(M.name,be)+xe)}}),te.join(`
`)}O.emit=ee;let re=0;function oe(be,te){throw console.log("reberia restar "+te+" a "+be),new Error("Difference not supported yet")}function ye(be){return new RegExp(be.replace(/#x([a-zA-Z0-9]{4})/g,"\\u$1").replace(/#x([a-zA-Z0-9]{3})/g,"\\u0$1").replace(/#x([a-zA-Z0-9]{2})/g,"\\x$1").replace(/#x([a-zA-Z0-9]{1})/g,"\\x0$1"))}function F(be,te,M){let xe=null,Le=[];return te.children.forEach((Ce,Ke)=>{Ce.type=="Minus"&&oe(xe,Ce);let Xe=te.children[Ke+1];Xe=Xe&&Xe.type=="PrimaryDecoration"&&Xe.text||"";let dt="";switch(Ce.type){case"SubItem":let st="%"+(M+re++);G(be,Ce,st),Le.push(dt+st+Xe);break;case"NCName":case"StringLiteral":Le.push(dt+Ce.text+Xe);break;case"CharCode":case"CharClass":if(Xe||dt){let Ge={name:"%"+(M+re++),bnf:[[ye(Ce.text)]]};be.push(Ge),Le.push(dt+Ge.name+Xe)}else Le.push(ye(Ce.text));break;case"PrimaryDecoration":break;default:throw new Error(" HOW SHOULD I PARSE THIS? "+Ce.type+" -> "+JSON.stringify(Ce.text))}xe=Ce}),Le}function G(be,te,M){let xe=te.children.filter(Ke=>Ke.type=="SequenceOrDifference").map(Ke=>F(be,Ke,M)),Le={name:M,bnf:xe},Ce=null;xe.forEach(Ke=>{Ce=Ce||Ke.recover,delete Ke.recover}),M.indexOf("%")==0&&(Le.fragment=!0),Ce&&(Le.recover=Ce),be.push(Le)}function Se(be,te=O.defaultParser){let M=te.getAST(be);if(!M)throw new Error("Could not parse "+be);if(M.errors&&M.errors.length)throw M.errors[0];let xe=[];return M.children.filter(Le=>Le.type=="Production").map(Le=>{let Ce=Le.children.filter(Ke=>Ke.type=="NCName")[0].text;G(xe,Le,Ce)}),xe}O.getRules=Se;function se(be,te=O.defaultParser){return Se(be.join(""),te)}O.Transform=se;class fe extends m.Parser{constructor(te,M){const xe=M&&M.debugRulesParser===!0?new m.Parser(O.RULES,{debug:!0}):O.defaultParser;super(Se(te,xe),M)}emitSource(){return ee(this)}}O.Parser=fe})(I||(I={})),b.Z=I},73961:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Parser=exports.findRuleByName=exports.parseRuleName=exports.escapeRegExp=exports.readToken=void 0;const UPPER_SNAKE_RE=/^[A-Z0-9_]+$/,decorationRE=/(\?|\+|\*)$/,preDecorationRE=/^(@|&|!)/,WS_RULE="WS",TokenError_1=__webpack_require__(80707);function readToken(Te,b){let a=b.exec(Te);return a&&a.index==0?a[0].length==0&&b.source.length>0?null:{type:null,text:a[0],rest:Te.substr(a[0].length),start:0,end:a[0].length-1,fullText:a[0],errors:[],children:[],parent:null}:null}exports.readToken=readToken;function escapeRegExp(Te){return Te.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}exports.escapeRegExp=escapeRegExp;function fixRest(Te){Te.rest="",Te.children&&Te.children.forEach(b=>fixRest(b))}function fixPositions(Te,b){Te.start+=b,Te.end+=b,Te.children&&Te.children.forEach(a=>fixPositions(a,Te.start))}function agregateErrors(Te,b){b.errors&&b.errors.length&&b.errors.forEach(a=>Te.push(a)),b.children&&b.children.forEach(a=>agregateErrors(Te,a))}function parseRuleName(Te){let b=decorationRE.exec(Te),a=preDecorationRE.exec(Te),o=b&&b[0]||"",m=a&&a[0]||"",I={raw:Te,name:Te.replace(decorationRE,"").replace(preDecorationRE,""),isOptional:o=="?"||o=="*",allowRepetition:o=="+"||o=="*",atLeastOne:o=="+",lookupPositive:m=="&",lookupNegative:m=="!",pinned:m=="@",lookup:!1,isLiteral:!1};return I.isLiteral=I.name[0]=="'"||I.name[0]=='"',I.lookup=I.lookupNegative||I.lookupPositive,I}exports.parseRuleName=parseRuleName;function findRuleByName(Te,b){let a=parseRuleName(Te);return b.cachedRules[a.name]||null}exports.findRuleByName=findRuleByName;function stripRules(Te,b){if(Te.children){let a=Te.children.filter(o=>o.type&&b.test(o.type));for(let o=0;o<a.length;o++){let m=Te.children.indexOf(a[o]);m!=-1&&Te.children.splice(m,1)}Te.children.forEach(o=>stripRules(o,b))}}const ignoreMissingRules=["EOF"];class Parser{constructor(Te,b){this.grammarRules=Te,this.options=b,this.cachedRules={},this.debug=b?b.debug===!0:!1;let a=[],o=[];if(Te.forEach(m=>{let I=parseRuleName(m.name);if(I.name in this.cachedRules){a.push("Duplicated rule "+I.name);return}else this.cachedRules[I.name]=m;if(!m.bnf||!m.bnf.length){let O="Missing rule content, rule: "+m.name;a.indexOf(O)==-1&&a.push(O)}else m.bnf.forEach(O=>{if(typeof O[0]=="string"&&parseRuleName(O[0]).name==m.name){let D="Left recursion is not allowed, rule: "+m.name;a.indexOf(D)==-1&&a.push(D)}O.forEach(_=>{if(typeof _=="string"){let D=parseRuleName(_);!D.isLiteral&&o.indexOf(D.name)==-1&&ignoreMissingRules.indexOf(D.name)==-1&&o.push(D.name)}})});WS_RULE==m.name&&(m.implicitWs=!1),m.implicitWs&&o.indexOf(WS_RULE)==-1&&o.push(WS_RULE),m.recover&&o.indexOf(m.recover)==-1&&o.push(m.recover)}),o.forEach(m=>{m in this.cachedRules||a.push("Missing rule "+m)}),a.length)throw new Error(a.join(`
`))}getAST(Te,b){b||(b=this.grammarRules.filter(o=>!o.fragment&&o.name.indexOf("%")!=0)[0].name);let a=this.parse(Te,b);if(a){agregateErrors(a.errors,a),fixPositions(a,0),stripRules(a,/^%/),(!this.options||!this.options.keepUpperRules)&&stripRules(a,UPPER_SNAKE_RE);let o=a.rest;o&&new TokenError_1.TokenError(`Unexpected end of input: 
`+o,a),fixRest(a),a.rest=o}return a}emitSource(){return"CANNOT EMIT SOURCE FROM BASE Parser"}parse(txt,target,recursion=0){let out=null,type=parseRuleName(target),expr,printable=this.debug&&!UPPER_SNAKE_RE.test(type.name);printable&&console.log(new Array(recursion).join("\u2502  ")+"Trying to get "+target+" from "+JSON.stringify(txt.split(`
`)[0]));let realType=type.name,targetLex=findRuleByName(type.name,this);if(type.name=="EOF"){if(txt.length)return null;if(txt.length==0)return{type:"EOF",text:"",rest:"",start:0,end:0,fullText:"",errors:[],children:[],parent:null}}try{if(!targetLex&&type.isLiteral){let src=eval(type.name);if(src==="")return{type:"%%EMPTY%%",text:"",rest:txt,start:0,end:0,fullText:"",errors:[],children:[],parent:null};expr=new RegExp(escapeRegExp(src)),realType=null}}catch(Te){return Te instanceof ReferenceError&&console.error(Te),null}if(expr){let Te=readToken(txt,expr);if(Te)return Te.type=realType,Te}else{let Te=targetLex.bnf;Te instanceof Array&&Te.forEach(b=>{if(out)return;let a=null,o={type:type.name,text:"",children:[],end:0,errors:[],fullText:"",parent:null,start:0,rest:txt};targetLex.fragment&&(o.fragment=!0);let m=txt,I=0,O=b.length>0,_=!1;for(let D=0;D<b.length;D++)if(typeof b[D]=="string"){let N=parseRuleName(b[D]);O=O&&N.isOptional;let R,$=!1;do{if(R=null,targetLex.implicitWs&&(R=this.parse(m,N.name,recursion+1),!R)){let z;do if(z=this.parse(m,WS_RULE,recursion+1),z)o.text=o.text+z.text,o.end=o.text.length,z.parent=o,o.children.push(z),m=m.substr(z.text.length),I+=z.text.length;else break;while(z&&z.text.length)}if(R=R||this.parse(m,N.name,recursion+1),N.lookupNegative){if(R)return;break}if(N.lookupPositive&&!R)return;if(!R&&(N.isOptional||N.atLeastOne&&$))break;if(R&&targetLex.pinned==D+1&&(a=R,printable&&console.log(new Array(recursion+1).join("\u2502  ")+"\u2514\u2500 "+R.type+" PINNED")),R||(R=this.parseRecovery(targetLex,m,recursion+1)),!R)if(a)out=o,R={type:"SyntaxError",text:m,children:[],end:m.length,errors:[],fullText:"",parent:null,start:0,rest:""},m.length?new TokenError_1.TokenError(`Unexpected end of input. Expecting ${N.name} Got: ${m}`,R):new TokenError_1.TokenError(`Unexpected end of input. Missing ${N.name}`,R),printable&&console.log(new Array(recursion+1).join("\u2502  ")+"\u2514\u2500 "+R.type+" "+JSON.stringify(R.text));else return;if($=!0,_=!0,R.type=="%%EMPTY%%")break;R.start+=I,R.end+=I,!N.lookupPositive&&R.type&&(R.fragment?R.children&&R.children.forEach(z=>{z.start+=I,z.end+=I,z.parent=o,o.children.push(z)}):(R.parent=o,o.children.push(R))),N.lookup&&(R.lookup=!0),printable&&console.log(new Array(recursion+1).join("\u2502  ")+"\u2514\u2500 "+R.type+" "+JSON.stringify(R.text)),!N.lookup&&!R.lookup&&(o.text=o.text+R.text,o.end=o.text.length,m=m.substr(R.text.length),I+=R.text.length),o.rest=m}while(R&&N.allowRepetition&&m.length&&!R.lookup)}else{let N=readToken(m,b[D]);if(!N)return;printable&&console.log(new Array(recursion+1).join("\u2502  ")+"\u2514> "+JSON.stringify(N.text)+b[D].source),_=!0,N.start+=I,N.end+=I,o.text=o.text+N.text,o.end=o.text.length,m=m.substr(N.text.length),I+=N.text.length,o.rest=m}_&&(out=o,printable&&console.log(new Array(recursion).join("\u2502  ")+"\u251C<\u2500\u2534< PUSHING "+out.type+" "+JSON.stringify(out.text)))}),out&&targetLex.simplifyWhenOneChildren&&out.children.length==1&&(out=out.children[0])}return out||printable&&console.log(target+" NOT RESOLVED FROM "+txt),out}parseRecovery(Te,b,a){if(Te.recover&&b.length){let o=this.debug;o&&console.log(new Array(a+1).join("\u2502  ")+"Trying to recover until token "+Te.recover+" from "+JSON.stringify(b.split(`
`)[0]+b.split(`
`)[1]));let m={type:"SyntaxError",text:"",children:[],end:0,errors:[],fullText:"",parent:null,start:0,rest:""},I;do if(I=this.parse(b,Te.recover,a+1),I){new TokenError_1.TokenError('Unexpected input: "'+m.text+`" Expecting: ${Te.name}`,m);break}else m.text=m.text+b[0],m.end=m.text.length,b=b.substr(1);while(!I&&b.length>0);if(m.text.length>0&&I)return o&&console.log(new Array(a+1).join("\u2502  ")+"Recovered text: "+JSON.stringify(m.text)),m}return null}}exports.Parser=Parser,exports.default=Parser},80707:function(Te,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TokenError=void 0;class a extends Error{constructor(m,I){if(super(m),this.message=m,this.token=I,I&&I.errors)I.errors.push(this);else throw this}inspect(){return"SyntaxError: "+this.message}}b.TokenError=a},93503:function(Te,b,a){var o=a(18149),m=a(829),I=a(75652),O=a(39642),_=a(84573),D=a(74186),N=a(97030),R=a(4335),$=st=>Array.isArray(st)?st:[st],z=st=>st===void 0,J=st=>N(st)||Array.isArray(st)?Object.keys(st):[],ee=(st,Ge)=>st.hasOwnProperty(Ge),re=st=>m(I(st)),oe=st=>z(st)||Array.isArray(st)&&st.length===0,ye=(st,Ge,_t,or)=>Ge&&ee(Ge,_t)&&st&&ee(st,_t)&&or(st[_t],Ge[_t]),F=(st,Ge)=>z(st)&&Ge===0||z(Ge)&&st===0||o(st,Ge),G=(st,Ge)=>z(st)&&Ge===!1||z(Ge)&&st===!1||o(st,Ge),Se=st=>z(st)||o(st,{})||st===!0,se=st=>z(st)||o(st,{}),fe=st=>z(st)||N(st)||st===!0||st===!1;function be(st,Ge){return oe(st)&&oe(Ge)?!0:o(re(st),re(Ge))}function te(st,Ge){return st=$(st),Ge=$(Ge),o(re(st),re(Ge))}function M(st,Ge,_t,or){var St=I(J(st).concat(J(Ge)));return se(st)&&se(Ge)?!0:se(st)&&J(Ge).length||se(Ge)&&J(st).length?!1:St.every(function(xt){var mt=st[xt],Re=Ge[xt];return Array.isArray(mt)&&Array.isArray(Re)?o(re(st),re(Ge)):Array.isArray(mt)&&!Array.isArray(Re)||Array.isArray(Re)&&!Array.isArray(mt)?!1:ye(st,Ge,xt,or)})}function xe(st,Ge,_t,or){return N(st)&&N(Ge)?or(st,Ge):Array.isArray(st)&&Array.isArray(Ge)?M(st,Ge,_t,or):o(st,Ge)}function Le(st,Ge,_t,or){var St=O(st,or),xt=O(Ge,or),mt=D(St,xt,or);return mt.length===Math.max(St.length,xt.length)}var Ce={title:o,uniqueItems:G,minLength:F,minItems:F,minProperties:F,required:be,enum:be,type:te,items:xe,anyOf:Le,allOf:Le,oneOf:Le,properties:M,patternProperties:M,dependencies:M},Ke=["properties","patternProperties","dependencies","uniqueItems","minLength","minItems","minProperties","required"],Xe=["additionalProperties","additionalItems","contains","propertyNames","not"];function dt(st,Ge,_t){if(_t=_(_t,{ignore:[]}),Se(st)&&Se(Ge))return!0;if(!fe(st)||!fe(Ge))throw new Error("Either of the values are not a JSON schema.");if(st===Ge)return!0;if(R(st)&&R(Ge))return st===Ge;if(st===void 0&&Ge===!1||Ge===void 0&&st===!1||z(st)&&!z(Ge)||!z(st)&&z(Ge))return!1;var or=I(Object.keys(st).concat(Object.keys(Ge)));if(_t.ignore.length&&(or=or.filter(xt=>_t.ignore.indexOf(xt)===-1)),!or.length)return!0;function St(xt,mt){return dt(xt,mt,_t)}return or.every(function(xt){var mt=st[xt],Re=Ge[xt];if(Xe.indexOf(xt)!==-1)return dt(mt,Re,_t);var yt=Ce[xt];if(yt||(yt=o),o(mt,Re))return!0;if(Ke.indexOf(xt)===-1&&(!ee(st,xt)&&ee(Ge,xt)||ee(st,xt)&&!ee(Ge,xt)))return mt===Re;var ot=yt(mt,Re,xt,St);if(!R(ot))throw new Error("Comparer must return true or false");return ot})}Te.exports=dt},81995:function(Te,b,a){const o=a(35676),m=a(68632),I=a(97030),O=a(75652),_=a(39642),D=a(67304);function N(F){for(const G in F)z(F,G)&&oe(F[G])&&delete F[G];return F}const R=F=>O(m(F.map(J))),$=(F,G)=>F.map(Se=>Se&&Se[G]),z=(F,G)=>Object.prototype.hasOwnProperty.call(F,G),J=F=>I(F)||Array.isArray(F)?Object.keys(F):[],ee=F=>F!==void 0,re=F=>I(F)||F===!0||F===!1,oe=F=>!J(F).length&&F!==!1&&F!==!0,ye=(F,...G)=>D.apply(null,[F].concat(o(G)));Te.exports={allUniqueKeys:R,deleteUndefinedProps:N,getValues:$,has:z,isEmptySchema:oe,isSchema:re,keys:J,notUndefined:ee,uniqWith:_,withoutArr:ye}},16430:function(Te,b,a){const o=a(93503),m=a(59756),{allUniqueKeys:I,deleteUndefinedProps:O,has:_,isSchema:D,notUndefined:N,uniqWith:R}=a(81995);function $(re){m(re,function(oe,ye){oe===!1&&re.splice(ye,1)})}function z(re,oe){return re.map(function(ye){if(ye)if(Array.isArray(ye.items)){const F=ye.items[oe];if(D(F))return F;if(_(ye,"additionalItems"))return ye.additionalItems}else return ye.items})}function J(re){return re.map(function(oe){if(oe)return Array.isArray(oe.items)?oe.additionalItems:oe.items})}function ee(re,oe,ye){return I(ye).reduce(function(G,Se){const se=z(re,Se),fe=R(se.filter(N),o);return G[Se]=oe(fe,Se),G},[])}Te.exports={keywords:["items","additionalItems"],resolver(re,oe,ye){const F=re.map(fe=>fe.items),G=F.filter(N),Se={};G.every(D)?Se.items=ye.items(F):Se.items=ee(re,ye.items,F);let se;return G.every(Array.isArray)?se=re.map(fe=>fe.additionalItems):G.some(Array.isArray)&&(se=J(re)),se&&(Se.additionalItems=ye.additionalItems(se)),Se.additionalItems===!1&&Array.isArray(Se.items)&&$(Se.items),O(Se)}}},67953:function(Te,b,a){const o=a(93503),m=a(59756),{allUniqueKeys:I,deleteUndefinedProps:O,getValues:_,keys:D,notUndefined:N,uniqWith:R,withoutArr:$}=a(81995);function z(ee){m(ee,function(re,oe){re===!1&&delete ee[oe]})}function J(ee,re){return I(ee).reduce(function(ye,F){const G=_(ee,F),Se=R(G.filter(N),o);return ye[F]=re(Se,F),ye},{})}Te.exports={keywords:["properties","patternProperties","additionalProperties"],resolver(ee,re,oe,ye){ye.ignoreAdditionalProperties||(ee.forEach(function(G){const Se=ee.filter(te=>te!==G),se=D(G.properties),be=D(G.patternProperties).map(te=>new RegExp(te));Se.forEach(function(te){const M=D(te.properties),xe=M.filter(Ce=>be.some(Ke=>Ke.test(Ce)));$(M,se,xe).forEach(function(Ce){te.properties[Ce]=oe.properties([te.properties[Ce],G.additionalProperties],Ce)})})}),ee.forEach(function(G){const Se=ee.filter(fe=>fe!==G),se=D(G.patternProperties);G.additionalProperties===!1&&Se.forEach(function(fe){const be=D(fe.patternProperties);$(be,se).forEach(M=>delete fe.patternProperties[M])})}));const F={additionalProperties:oe.additionalProperties(ee.map(G=>G.additionalProperties)),patternProperties:J(ee.map(G=>G.patternProperties),oe.patternProperties),properties:J(ee.map(G=>G.properties),oe.properties)};return F.additionalProperties===!1&&z(F.properties),O(F)}}},33372:function(Te,b,a){const o=a(9850),m=a(93503),I=a(73198),O=a(19003),_=a(35676),D=a(68632),N=a(30898),R=a(74186),$=a(18149),z=a(97030),J=a(78911),ee=a(829),re=a(75652),oe=a(39642),ye=a(67953),F=a(16430),G=(Ze,K)=>Ze.indexOf(K)!==-1,Se=Ze=>z(Ze)||Ze===!0||Ze===!1,se=Ze=>Ze===!1,fe=Ze=>Ze===!0,be=(Ze,K,Z)=>Z(Ze),te=Ze=>ee(re(D(Ze))),M=Ze=>Ze!==void 0,xe=Ze=>re(D(Ze.map(xt))),Le=Ze=>Ze[0],Ce=Ze=>te(Ze),Ke=Ze=>Math.max.apply(Math,Ze),Xe=Ze=>Math.min.apply(Math,Ze),dt=Ze=>Ze.some(fe),st=Ze=>oe(_(Ze),$);function Ge(Ze){return function(K,Z){return m({[Ze]:K},{[Ze]:Z})}}function _t(Ze){let{allOf:K=[],...Z}=Ze;return Z=z(Ze)?Z:Ze,[Z,...K.map(_t)]}function or(Ze,K){return Ze.map(Z=>Z&&Z[K])}function St(Ze,K){return Ze.map(function(Z,Q){try{return K(Z,Q)}catch{return}}).filter(M)}function xt(Ze){return z(Ze)||Array.isArray(Ze)?Object.keys(Ze):[]}function mt(Ze,K){if(K=K||[],!Ze.length)return K;const Z=Ze.slice(0).shift(),Q=Ze.slice(1);return K.length?mt(Q,_(K.map(ge=>Z.map(De=>[De].concat(ge))))):mt(Q,Z.map(ge=>ge))}function Re(Ze,K){let Z;try{Z=Ze.map(function(Q){return JSON.stringify(Q,null,2)}).join(`
`)}catch{Z=Ze.join(", ")}throw new Error('Could not resolve values for path:"'+K.join(".")+`". They are probably incompatible. Values: 
`+Z)}function yt(Ze,K,Z,Q,ge,De){if(Ze.length){const Qe=ge.complexResolvers[K];if(!Qe||!Qe.resolver)throw new Error("No resolver found for "+K);const Ue=Z.map(Yt=>Ze.reduce((Ht,rt)=>(Yt[rt]!==void 0&&(Ht[rt]=Yt[rt]),Ht),{})),Lt=oe(Ue,m),tr=Qe.keywords.reduce((Yt,Ht)=>({...Yt,[Ht]:(rt,Ct=[])=>Q(rt,null,De.concat(Ht,Ct))}),{}),Kt=Qe.resolver(Lt,De.concat(K),tr,ge);return z(Kt)||Re(Lt,De.concat(K)),Kt}}function ot(Ze){return{required:Ze}}const de=["properties","patternProperties","definitions","dependencies"],$e=["anyOf","oneOf"],lt=["additionalProperties","additionalItems","contains","propertyNames","not","items"],Dt={type(Ze){if(Ze.some(Array.isArray)){const K=Ze.map(function(Q){return Array.isArray(Q)?Q:[Q]}),Z=N.apply(null,K);if(Z.length===1)return Z[0];if(Z.length>1)return re(Z)}},dependencies(Ze,K,Z){return xe(Ze).reduce(function(ge,De){const Qe=or(Ze,De);let Ue=oe(Qe.filter(M),$);const Lt=Ue.filter(Array.isArray);if(Lt.length){if(Lt.length===Ue.length)ge[De]=te(Ue);else{const tr=Ue.filter(Se),Kt=Lt.map(ot);ge[De]=Z(tr.concat(Kt),De)}return ge}return Ue=oe(Ue,m),ge[De]=Z(Ue,De),ge},{})},oneOf(Ze,K,Z){const Q=mt(o(Ze)),ge=St(Q,Z),De=oe(ge,m);if(De.length)return De},not(Ze){return{anyOf:Ze}},pattern(Ze){return Ze.map(K=>"(?="+K+")").join("")},multipleOf(Ze){let K=Ze.slice(0),Z=1;for(;K.some(Q=>!Number.isInteger(Q));)K=K.map(Q=>Q*10),Z=Z*10;return I(K)/Z},enum(Ze){const K=R.apply(null,Ze.concat($));if(K.length)return ee(K)}};Dt.$id=Le,Dt.$ref=Le,Dt.$schema=Le,Dt.additionalItems=be,Dt.additionalProperties=be,Dt.anyOf=Dt.oneOf,Dt.contains=be,Dt.default=Le,Dt.definitions=Dt.dependencies,Dt.description=Le,Dt.examples=st,Dt.exclusiveMaximum=Xe,Dt.exclusiveMinimum=Ke,Dt.items=F,Dt.maximum=Xe,Dt.maxItems=Xe,Dt.maxLength=Xe,Dt.maxProperties=Xe,Dt.minimum=Ke,Dt.minItems=Ke,Dt.minLength=Ke,Dt.minProperties=Ke,Dt.properties=ye,Dt.propertyNames=be,Dt.required=Ce,Dt.title=Le,Dt.uniqueItems=dt;const Gt={properties:ye,items:F};function Pr(Ze,K,Z){Z=Z||[],K=O(K,{ignoreAdditionalProperties:!1,resolvers:Dt,complexResolvers:Gt,deep:!0});const Q=Object.entries(K.complexResolvers);function ge(Ue,Lt,tr){Ue=o(Ue.filter(M)),tr=tr||[];const Kt=z(Lt)?Lt:{};if(!Ue.length)return;if(Ue.some(se))return!1;if(Ue.every(fe))return!0;Ue=Ue.filter(z);const Yt=xe(Ue);if(K.deep&&G(Yt,"allOf"))return Pr({allOf:Ue},K,Z);const Ht=Q.map(([rt,Ct])=>Yt.filter(Vt=>Ct.keywords.includes(Vt)));return Ht.forEach(rt=>J(Yt,rt)),Yt.forEach(function(rt){const Ct=or(Ue,rt),Vt=oe(Ct.filter(M),Ge(rt));if(Vt.length===1&&G($e,rt))Kt[rt]=Vt[0].map(hr=>ge([hr],hr));else if(Vt.length===1&&!G(de,rt)&&!G(lt,rt))Kt[rt]=Vt[0];else{const hr=K.resolvers[rt]||K.resolvers.defaultResolver;if(!hr)throw new Error("No resolver found for key "+rt+". You can provide a resolver for this keyword in the options, or provide a default resolver.");const xr=(Sr,cr=[])=>ge(Sr,null,tr.concat(rt,cr));Kt[rt]=hr(Vt,tr.concat(rt),xr,K),Kt[rt]===void 0?Re(Vt,tr.concat(rt)):Kt[rt]===void 0&&delete Kt[rt]}}),Q.reduce((rt,[Ct,Vt],hr)=>({...rt,...yt(Ht[hr],Ct,Ue,ge,K,tr)}),Kt)}const De=D(_t(Ze));return ge(De)}Pr.options={resolvers:Dt},Te.exports=Pr},404:function(Te,b){var a=/~/,o=/~[01]/g;function m($){switch($){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+$)}function I($){return a.test($)?$.replace(o,m):$}function O($,z,J){for(var ee,re,oe=1,ye=z.length;oe<ye;){if(z[oe]==="constructor"||z[oe]==="prototype"||z[oe]==="__proto__")return $;if(ee=I(z[oe++]),re=ye>oe,typeof $[ee]=="undefined"&&(Array.isArray($)&&ee==="-"&&(ee=$.length),re&&(z[oe]!==""&&z[oe]<1/0||z[oe]==="-"?$[ee]=[]:$[ee]={})),!re)break;$=$[ee]}var F=$[ee];return J===void 0?delete $[ee]:$[ee]=J,F}function _($){if(typeof $=="string"){if($=$.split("/"),$[0]==="")return $;throw new Error("Invalid JSON pointer.")}else if(Array.isArray($)){for(const z of $)if(typeof z!="string"&&typeof z!="number")throw new Error("Invalid JSON pointer. Must be of type string or number.");return $}throw new Error("Invalid JSON pointer.")}function D($,z){if(typeof $!="object")throw new Error("Invalid input object.");z=_(z);var J=z.length;if(J===1)return $;for(var ee=1;ee<J;){if($=$[I(z[ee++])],J===ee)return $;if(typeof $!="object"||$===null)return}}function N($,z,J){if(typeof $!="object")throw new Error("Invalid input object.");if(z=_(z),z.length===0)throw new Error("Invalid JSON pointer for set.");return O($,z,J)}function R($){var z=_($);return{get:function(J){return D(J,z)},set:function(J,ee){return N(J,z,ee)}}}b.get=D,b.set=N,b.compile=R},85246:function(Te,b,a){var o=a(45386),m=a(38333),I=a(34893),O=a(50343),_=a(47826),D=a(59950),N=200;function R($,z,J,ee){var re=-1,oe=m,ye=!0,F=$.length,G=[],Se=z.length;if(!F)return G;J&&(z=O(z,_(J))),ee?(oe=I,ye=!1):z.length>=N&&(oe=D,ye=!1,z=new o(z));e:for(;++re<F;){var se=$[re],fe=J==null?se:J(se);if(se=ee||se!==0?se:0,ye&&fe===fe){for(var be=Se;be--;)if(z[be]===fe)continue e;G.push(se)}else oe(z,fe,ee)||G.push(se)}return G}Te.exports=R},84190:function(Te){function b(a,o,m,I){for(var O=m-1,_=a.length;++O<_;)if(I(a[O],o))return O;return-1}Te.exports=b},88390:function(Te,b,a){var o=a(45386),m=a(38333),I=a(34893),O=a(50343),_=a(47826),D=a(59950),N=Math.min;function R($,z,J){for(var ee=J?I:m,re=$[0].length,oe=$.length,ye=oe,F=Array(oe),G=1/0,Se=[];ye--;){var se=$[ye];ye&&z&&(se=O(se,_(z))),G=N(se.length,G),F[ye]=!J&&(z||re>=120&&se.length>=120)?new o(ye&&se):void 0}se=$[0];var fe=-1,be=F[0];e:for(;++fe<re&&Se.length<G;){var te=se[fe],M=z?z(te):te;if(te=J||te!==0?te:0,!(be?D(be,M):ee(Se,M,J))){for(ye=oe;--ye;){var xe=F[ye];if(!(xe?D(xe,M):ee($[ye],M,J)))continue e}be&&be.push(M),Se.push(te)}}return Se}Te.exports=R},45169:function(Te,b,a){var o=a(50343),m=a(77832),I=a(84190),O=a(47826),_=a(51522),D=Array.prototype,N=D.splice;function R($,z,J,ee){var re=ee?I:m,oe=-1,ye=z.length,F=$;for($===z&&(z=_(z)),J&&(F=o($,O(J)));++oe<ye;)for(var G=0,Se=z[oe],se=J?J(Se):Se;(G=re(F,se,G,ee))>-1;)F!==$&&N.call(F,G,1),N.call($,G,1);return $}Te.exports=R},5642:function(Te,b,a){var o=a(93746);function m(I){return o(I)?I:[]}Te.exports=m},88302:function(Te,b,a){var o=a(84565),m=a(29259);function I(O,_,D,N,R,$){return m(O)&&m(_)&&($.set(_,O),o(O,_,void 0,I,$),$.delete(_)),O}Te.exports=I},19003:function(Te,b,a){var o=a(49432),m=a(36060),I=a(88302),O=a(12782),_=m(function(D){return D.push(void 0,I),o(O,void 0,D)});Te.exports=_},68632:function(Te,b,a){var o=a(62034),m=1/0;function I(O){var _=O==null?0:O.length;return _?o(O,m):[]}Te.exports=I},30898:function(Te,b,a){var o=a(50343),m=a(88390),I=a(36060),O=a(5642),_=I(function(D){var N=o(D,O);return N.length&&N[0]===D[0]?m(N):[]});Te.exports=_},74186:function(Te,b,a){var o=a(50343),m=a(88390),I=a(36060),O=a(5642),_=a(56974),D=I(function(N){var R=_(N),$=o(N,O);return R=typeof R=="function"?R:void 0,R&&$.pop(),$.length&&$[0]===N[0]?m($,void 0,R):[]});Te.exports=D},4335:function(Te,b,a){var o=a(53366),m=a(15125),I="[object Boolean]";function O(_){return _===!0||_===!1||m(_)&&o(_)==I}Te.exports=O},78911:function(Te,b,a){var o=a(45169);function m(I,O){return I&&I.length&&O&&O.length?o(I,O):I}Te.exports=m},25497:function(Te,b,a){var o=a(50343),m=a(51522),I=a(86152),O=a(4795),_=a(54452),D=a(33812),N=a(66188);function R($){return I($)?o($,D):O($)?[$]:m(_(N($)))}Te.exports=R},75652:function(Te,b,a){var o=a(67326);function m(I){return I&&I.length?o(I):[]}Te.exports=m},39642:function(Te,b,a){var o=a(67326);function m(I,O){return O=typeof O=="function"?O:void 0,I&&I.length?o(I,void 0,O):[]}Te.exports=m},67304:function(Te,b,a){var o=a(85246),m=a(36060),I=a(93746),O=m(function(_,D){return I(_)?o(_,D):[]});Te.exports=O},1170:function(Te,b,a){Te=a.nmd(Te),function(o){"use strict";o.exports.is_uri=I,o.exports.is_http_uri=O,o.exports.is_https_uri=_,o.exports.is_web_uri=D,o.exports.isUri=I,o.exports.isHttpUri=O,o.exports.isHttpsUri=_,o.exports.isWebUri=D;var m=function(N){var R=N.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return R};function I(N){if(N&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(N)&&!/%[^0-9a-f]/i.test(N)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(N)){var R=[],$="",z="",J="",ee="",re="",oe="";if(R=m(N),$=R[1],z=R[2],J=R[3],ee=R[4],re=R[5],!!($&&$.length&&J.length>=0)){if(z&&z.length){if(!(J.length===0||/^\//.test(J)))return}else if(/^\/\//.test(J))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test($.toLowerCase()))return oe+=$+":",z&&z.length&&(oe+="//"+z),oe+=J,ee&&ee.length&&(oe+="?"+ee),re&&re.length&&(oe+="#"+re),oe}}}function O(N,R){if(I(N)){var $=[],z="",J="",ee="",re="",oe="",ye="",F="";if($=m(N),z=$[1],J=$[2],ee=$[3],oe=$[4],ye=$[5],!!z){if(R){if(z.toLowerCase()!="https")return}else if(z.toLowerCase()!="http")return;if(J)return/:(\d+)$/.test(J)&&(re=J.match(/:(\d+)$/)[0],J=J.replace(/:\d+$/,"")),F+=z+":",F+="//"+J,re&&(F+=re),F+=ee,oe&&oe.length&&(F+="?"+oe),ye&&ye.length&&(F+="#"+ye),F}}}function _(N){return O(N,!0)}function D(N){return O(N)||_(N)}}(Te)},87245:function(Te){"use strict";function b(a){return Object.prototype.toString.call(a)==="[object Array]"}Te.exports=Array.isArray||b},8615:function(Te){"use strict";function b(a){return typeof a=="function"}Te.exports=b},63772:function(Te,b,a){"use strict";var o=a(87245),m=a(45002);function I(O){var _;if(!o(O)||(_=O.length,!_))return!1;for(var D=0;D<_;D++)if(!m(O[D]))return!1;return!0}Te.exports=I},45002:function(Te,b,a){"use strict";var o=a(87040);function m(I){return o(I)&&I%1===0}Te.exports=m},87040:function(Te){"use strict";function b(a){return(typeof a=="number"||Object.prototype.toString.call(a)==="[object Number]")&&a.valueOf()===a.valueOf()}Te.exports=b},77120:function(Te,b,a){"use strict";a.d(b,{Gn:function(){return xt},K0:function(){return or},Qf:function(){return _r},R_:function(){return yn},SS:function(){return _t},Um:function(){return V},c:function(){return st},e7:function(){return fr},il:function(){return $t},mi:function(){return wr},n$:function(){return Ri},nF:function(){return Nr},nY:function(){return ge},qz:function(){return re},y1:function(){return Ge}});var o=a(21649),m=a(1727),I=a(65329),O=a(86253),_=a(37207),D;const N=new o.md;function R(pe){return m.r$.define({combine:pe?j=>j.concat(pe):void 0})}const $=new o.md;class z{constructor(j,Y,ke=[],Ne=""){this.data=j,this.name=Ne,m.yy.prototype.hasOwnProperty("tree")||Object.defineProperty(m.yy.prototype,"tree",{get(){return re(this)}}),this.parser=Y,this.extension=[Ce.of(this),m.yy.languageData.of((nt,ft,Ut)=>{let Wt=J(nt,ft,Ut),Br=Wt.type.prop(N);if(!Br)return[];let Kr=nt.facet(Br),Mn=Wt.type.prop($);if(Mn){let Oi=Wt.resolve(ft-Wt.from,Ut);for(let Pi of Mn)if(Pi.test(Oi,nt)){let ai=nt.facet(Pi.facet);return Pi.type=="replace"?ai:ai.concat(Kr)}}return Kr})].concat(ke)}isActiveAt(j,Y,ke=-1){return J(j,Y,ke).type.prop(N)==this.data}findRegions(j){let Y=j.facet(Ce);if((Y==null?void 0:Y.data)==this.data)return[{from:0,to:j.doc.length}];if(!Y||!Y.allowsNesting)return[];let ke=[],Ne=(nt,ft)=>{if(nt.prop(N)==this.data){ke.push({from:ft,to:ft+nt.length});return}let Ut=nt.prop(o.md.mounted);if(Ut){if(Ut.tree.prop(N)==this.data){if(Ut.overlay)for(let Wt of Ut.overlay)ke.push({from:Wt.from+ft,to:Wt.to+ft});else ke.push({from:ft,to:ft+nt.length});return}else if(Ut.overlay){let Wt=ke.length;if(Ne(Ut.tree,Ut.overlay[0].from+ft),ke.length>Wt)return}}for(let Wt=0;Wt<nt.children.length;Wt++){let Br=nt.children[Wt];Br instanceof o.mp&&Ne(Br,nt.positions[Wt]+ft)}};return Ne(re(j),0),ke}get allowsNesting(){return!0}}z.setState=m.Py.define();function J(pe,j,Y){let ke=pe.facet(Ce),Ne=re(pe).topNode;if(!ke||ke.allowsNesting)for(let nt=Ne;nt;nt=nt.enter(j,Y,o.vj.ExcludeBuffers))nt.type.isTop&&(Ne=nt);return Ne}class ee extends null{constructor(j,Y,ke){super(j,Y,[],ke),this.parser=Y}static define(j){let Y=R(j.languageData);return new ee(Y,j.parser.configure({props:[N.add(ke=>ke.isTop?Y:void 0)]}),j.name)}configure(j,Y){return new ee(this.data,this.parser.configure(j),Y||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function re(pe){let j=pe.field(z.state,!1);return j?j.tree:o.mp.empty}function oe(pe,j,Y=50){var ke;let Ne=(ke=pe.field(z.state,!1))===null||ke===void 0?void 0:ke.context;if(!Ne)return null;let nt=Ne.viewport;Ne.updateViewport({from:0,to:j});let ft=Ne.isDone(j)||Ne.work(Y,j)?Ne.tree:null;return Ne.updateViewport(nt),ft}function ye(pe,j=pe.doc.length){var Y;return((Y=pe.field(z.state,!1))===null||Y===void 0?void 0:Y.context.isDone(j))||!1}function F(pe,j=pe.viewport.to,Y=100){let ke=oe(pe.state,j,Y);return ke!=re(pe.state)&&pe.dispatch({}),!!ke}function G(pe){var j;return((j=pe.plugin(Le))===null||j===void 0?void 0:j.isWorking())||!1}class Se{constructor(j){this.doc=j,this.cursorPos=0,this.string="",this.cursor=j.iter()}get length(){return this.doc.length}syncTo(j){return this.string=this.cursor.next(j-this.cursorPos).value,this.cursorPos=j+this.string.length,this.cursorPos-this.string.length}chunk(j){return this.syncTo(j),this.string}get lineChunks(){return!0}read(j,Y){let ke=this.cursorPos-this.string.length;return j<ke||Y>=this.cursorPos?this.doc.sliceString(j,Y):this.string.slice(j-ke,Y-ke)}}let se=null;class fe{constructor(j,Y,ke=[],Ne,nt,ft,Ut,Wt){this.parser=j,this.state=Y,this.fragments=ke,this.tree=Ne,this.treeLen=nt,this.viewport=ft,this.skipped=Ut,this.scheduleOn=Wt,this.parse=null,this.tempSkipped=[]}static create(j,Y,ke){return new fe(j,Y,[],o.mp.empty,0,ke,[],null)}startParse(){return this.parser.startParse(new Se(this.state.doc),this.fragments)}work(j,Y){return Y!=null&&Y>=this.state.doc.length&&(Y=void 0),this.tree!=o.mp.empty&&this.isDone(Y!=null?Y:this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var ke;if(typeof j=="number"){let Ne=Date.now()+j;j=()=>Date.now()>Ne}for(this.parse||(this.parse=this.startParse()),Y!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>Y)&&Y<this.state.doc.length&&this.parse.stopAt(Y);;){let Ne=this.parse.advance();if(Ne)if(this.fragments=this.withoutTempSkipped(o.i9.addTree(Ne,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(ke=this.parse.stoppedAt)!==null&&ke!==void 0?ke:this.state.doc.length,this.tree=Ne,this.parse=null,this.treeLen<(Y!=null?Y:this.state.doc.length))this.parse=this.startParse();else return!0;if(j())return!1}})}takeTree(){let j,Y;this.parse&&(j=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>j)&&this.parse.stopAt(j),this.withContext(()=>{for(;!(Y=this.parse.advance()););}),this.treeLen=j,this.tree=Y,this.fragments=this.withoutTempSkipped(o.i9.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(j){let Y=se;se=this;try{return j()}finally{se=Y}}withoutTempSkipped(j){for(let Y;Y=this.tempSkipped.pop();)j=be(j,Y.from,Y.to);return j}changes(j,Y){let{fragments:ke,tree:Ne,treeLen:nt,viewport:ft,skipped:Ut}=this;if(this.takeTree(),!j.empty){let Wt=[];if(j.iterChangedRanges((Br,Kr,Mn,Oi)=>Wt.push({fromA:Br,toA:Kr,fromB:Mn,toB:Oi})),ke=o.i9.applyChanges(ke,Wt),Ne=o.mp.empty,nt=0,ft={from:j.mapPos(ft.from,-1),to:j.mapPos(ft.to,1)},this.skipped.length){Ut=[];for(let Br of this.skipped){let Kr=j.mapPos(Br.from,1),Mn=j.mapPos(Br.to,-1);Kr<Mn&&Ut.push({from:Kr,to:Mn})}}}return new fe(this.parser,Y,ke,Ne,nt,ft,Ut,this.scheduleOn)}updateViewport(j){if(this.viewport.from==j.from&&this.viewport.to==j.to)return!1;this.viewport=j;let Y=this.skipped.length;for(let ke=0;ke<this.skipped.length;ke++){let{from:Ne,to:nt}=this.skipped[ke];Ne<j.to&&nt>j.from&&(this.fragments=be(this.fragments,Ne,nt),this.skipped.splice(ke--,1))}return this.skipped.length>=Y?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(j,Y){this.skipped.push({from:j,to:Y})}static getSkippingParser(j){return new class extends o._b{createParse(Y,ke,Ne){let nt=Ne[0].from,ft=Ne[Ne.length-1].to;return{parsedPos:nt,advance(){let Wt=se;if(Wt){for(let Br of Ne)Wt.tempSkipped.push(Br);j&&(Wt.scheduleOn=Wt.scheduleOn?Promise.all([Wt.scheduleOn,j]):j)}return this.parsedPos=ft,new o.mp(o.Jq.none,[],[],ft-nt)},stoppedAt:null,stopAt(){}}}}}isDone(j){j=Math.min(j,this.state.doc.length);let Y=this.fragments;return this.treeLen>=j&&Y.length&&Y[0].from==0&&Y[0].to>=j}static get(){return se}}function be(pe,j,Y){return o.i9.applyChanges(pe,[{fromA:j,toA:Y,fromB:j,toB:Y}])}class te{constructor(j){this.context=j,this.tree=j.tree}apply(j){if(!j.docChanged&&this.tree==this.context.tree)return this;let Y=this.context.changes(j.changes,j.state),ke=this.context.treeLen==j.startState.doc.length?void 0:Math.max(j.changes.mapPos(this.context.treeLen),Y.viewport.to);return Y.work(20,ke)||Y.takeTree(),new te(Y)}static init(j){let Y=Math.min(3e3,j.doc.length),ke=fe.create(j.facet(Ce).parser,j,{from:0,to:Y});return ke.work(20,Y)||ke.takeTree(),new te(ke)}}z.state=m.QQ.define({create:te.init,update(pe,j){for(let Y of j.effects)if(Y.is(z.setState))return Y.value;return j.startState.facet(Ce)!=j.state.facet(Ce)?te.init(j.state):pe.apply(j)}});let M=pe=>{let j=setTimeout(()=>pe(),500);return()=>clearTimeout(j)};typeof requestIdleCallback!="undefined"&&(M=pe=>{let j=-1,Y=setTimeout(()=>{j=requestIdleCallback(pe,{timeout:500-100})},100);return()=>j<0?clearTimeout(Y):cancelIdleCallback(j)});const xe=typeof navigator!="undefined"&&(!((D=navigator.scheduling)===null||D===void 0)&&D.isInputPending)?()=>navigator.scheduling.isInputPending():null,Le=I.lg.fromClass(class{constructor(j){this.view=j,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(j){let Y=this.view.state.field(z.state).context;(Y.updateViewport(j.view.viewport)||this.view.viewport.to>Y.treeLen)&&this.scheduleWork(),j.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(Y)}scheduleWork(){if(this.working)return;let{state:j}=this.view,Y=j.field(z.state);(Y.tree!=Y.context.tree||!Y.context.isDone(j.doc.length))&&(this.working=M(this.work))}work(j){this.working=null;let Y=Date.now();if(this.chunkEnd<Y&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=Y+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:ke,viewport:{to:Ne}}=this.view,nt=ke.field(z.state);if(nt.tree==nt.context.tree&&nt.context.isDone(Ne+1e5))return;let ft=Date.now()+Math.min(this.chunkBudget,100,j&&!xe?Math.max(25,j.timeRemaining()-5):1e9),Ut=nt.context.treeLen<Ne&&ke.doc.length>Ne+1e3,Wt=nt.context.work(()=>xe&&xe()||Date.now()>ft,Ne+(Ut?0:1e5));this.chunkBudget-=Date.now()-Y,(Wt||this.chunkBudget<=0)&&(nt.context.takeTree(),this.view.dispatch({effects:z.setState.of(new te(nt.context))})),this.chunkBudget>0&&!(Wt&&!Ut)&&this.scheduleWork(),this.checkAsyncSchedule(nt.context)}checkAsyncSchedule(j){j.scheduleOn&&(this.workScheduled++,j.scheduleOn.then(()=>this.scheduleWork()).catch(Y=>(0,I.OO)(this.view.state,Y)).then(()=>this.workScheduled--),j.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Ce=m.r$.define({combine(pe){return pe.length?pe[0]:null},enables:pe=>[z.state,Le,I.tk.contentAttributes.compute([pe],j=>{let Y=j.facet(pe);return Y&&Y.name?{"data-language":Y.name}:{}})]});class Ke{constructor(j,Y=[]){this.language=j,this.support=Y,this.extension=[j,Y]}}class Xe{constructor(j,Y,ke,Ne,nt,ft=void 0){this.name=j,this.alias=Y,this.extensions=ke,this.filename=Ne,this.loadFunc=nt,this.support=ft,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(j=>this.support=j,j=>{throw this.loading=null,j}))}static of(j){let{load:Y,support:ke}=j;if(!Y){if(!ke)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");Y=()=>Promise.resolve(ke)}return new Xe(j.name,(j.alias||[]).concat(j.name).map(Ne=>Ne.toLowerCase()),j.extensions||[],j.filename,Y,ke)}static matchFilename(j,Y){for(let Ne of j)if(Ne.filename&&Ne.filename.test(Y))return Ne;let ke=/\.([^.]+)$/.exec(Y);if(ke){for(let Ne of j)if(Ne.extensions.indexOf(ke[1])>-1)return Ne}return null}static matchLanguageName(j,Y,ke=!0){Y=Y.toLowerCase();for(let Ne of j)if(Ne.alias.some(nt=>nt==Y))return Ne;if(ke)for(let Ne of j)for(let nt of Ne.alias){let ft=Y.indexOf(nt);if(ft>-1&&(nt.length>2||!/\w/.test(Y[ft-1])&&!/\w/.test(Y[ft+nt.length])))return Ne}return null}}const dt=m.r$.define(),st=m.r$.define({combine:pe=>{if(!pe.length)return"  ";let j=pe[0];if(!j||/\S/.test(j)||Array.from(j).some(Y=>Y!=j[0]))throw new Error("Invalid indent unit: "+JSON.stringify(pe[0]));return j}});function Ge(pe){let j=pe.facet(st);return j.charCodeAt(0)==9?pe.tabSize*j.length:j.length}function _t(pe,j){let Y="",ke=pe.tabSize,Ne=pe.facet(st)[0];if(Ne=="	"){for(;j>=ke;)Y+="	",j-=ke;Ne=" "}for(let nt=0;nt<j;nt++)Y+=Ne;return Y}function or(pe,j){pe instanceof m.yy&&(pe=new xt(pe));for(let ke of pe.state.facet(dt)){let Ne=ke(pe,j);if(Ne!==void 0)return Ne}let Y=re(pe.state);return Y?Re(pe,Y,j):null}function St(pe,j,Y){let ke=Object.create(null),Ne=new xt(pe,{overrideIndentation:ft=>{var Ut;return(Ut=ke[ft])!==null&&Ut!==void 0?Ut:-1}}),nt=[];for(let ft=j;ft<=Y;){let Ut=pe.doc.lineAt(ft);ft=Ut.to+1;let Wt=or(Ne,Ut.from);if(Wt==null)continue;/\S/.test(Ut.text)||(Wt=0);let Br=/^\s*/.exec(Ut.text)[0],Kr=_t(pe,Wt);Br!=Kr&&(ke[Ut.from]=Wt,nt.push({from:Ut.from,to:Ut.from+Br.length,insert:Kr}))}return pe.changes(nt)}class xt{constructor(j,Y={}){this.state=j,this.options=Y,this.unit=Ge(j)}lineAt(j,Y=1){let ke=this.state.doc.lineAt(j),{simulateBreak:Ne,simulateDoubleBreak:nt}=this.options;return Ne!=null&&Ne>=ke.from&&Ne<=ke.to?nt&&Ne==j?{text:"",from:j}:(Y<0?Ne<j:Ne<=j)?{text:ke.text.slice(Ne-ke.from),from:Ne}:{text:ke.text.slice(0,Ne-ke.from),from:ke.from}:ke}textAfterPos(j,Y=1){if(this.options.simulateDoubleBreak&&j==this.options.simulateBreak)return"";let{text:ke,from:Ne}=this.lineAt(j,Y);return ke.slice(j-Ne,Math.min(ke.length,j+100-Ne))}column(j,Y=1){let{text:ke,from:Ne}=this.lineAt(j,Y),nt=this.countColumn(ke,j-Ne),ft=this.options.overrideIndentation?this.options.overrideIndentation(Ne):-1;return ft>-1&&(nt+=ft-this.countColumn(ke,ke.search(/\S|$/))),nt}countColumn(j,Y=j.length){return(0,m.IS)(j,this.state.tabSize,Y)}lineIndent(j,Y=1){let{text:ke,from:Ne}=this.lineAt(j,Y),nt=this.options.overrideIndentation;if(nt){let ft=nt(Ne);if(ft>-1)return ft}return this.countColumn(ke,ke.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const mt=new o.md;function Re(pe,j,Y){return de(j.resolveInner(Y).enterUnfinishedNodesBefore(Y),Y,pe)}function yt(pe){return pe.pos==pe.options.simulateBreak&&pe.options.simulateDoubleBreak}function ot(pe){let j=pe.type.prop(mt);if(j)return j;let Y=pe.firstChild,ke;if(Y&&(ke=Y.type.prop(o.md.closedBy))){let Ne=pe.lastChild,nt=Ne&&ke.indexOf(Ne.name)>-1;return ft=>Ze(ft,!0,1,void 0,nt&&!yt(ft)?Ne.from:void 0)}return pe.parent==null?$e:null}function de(pe,j,Y){for(;pe;pe=pe.parent){let ke=ot(pe);if(ke)return ke(lt.create(Y,j,pe))}return null}function $e(){return 0}class lt extends xt{constructor(j,Y,ke){super(j.state,j.options),this.base=j,this.pos=Y,this.node=ke}static create(j,Y,ke){return new lt(j,Y,ke)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let j=this.state.doc.lineAt(this.node.from);for(;;){let Y=this.node.resolve(j.from);for(;Y.parent&&Y.parent.from==Y.from;)Y=Y.parent;if(Dt(Y,this.node))break;j=this.state.doc.lineAt(Y.from)}return this.lineIndent(j.from)}continue(){let j=this.node.parent;return j?de(j,this.pos,this.base):0}}function Dt(pe,j){for(let Y=j;Y;Y=Y.parent)if(pe==Y)return!0;return!1}function Gt(pe){let j=pe.node,Y=j.childAfter(j.from),ke=j.lastChild;if(!Y)return null;let Ne=pe.options.simulateBreak,nt=pe.state.doc.lineAt(Y.from),ft=Ne==null||Ne<=nt.from?nt.to:Math.min(nt.to,Ne);for(let Ut=Y.to;;){let Wt=j.childAfter(Ut);if(!Wt||Wt==ke)return null;if(!Wt.type.isSkipped)return Wt.from<ft?Y:null;Ut=Wt.to}}function Pr({closing:pe,align:j=!0,units:Y=1}){return ke=>Ze(ke,j,Y,pe)}function Ze(pe,j,Y,ke,Ne){let nt=pe.textAfter,ft=nt.match(/^\s*/)[0].length,Ut=ke&&nt.slice(ft,ft+ke.length)==ke||Ne==pe.pos+ft,Wt=j?Gt(pe):null;return Wt?Ut?pe.column(Wt.from):pe.column(Wt.to):pe.baseIndent+(Ut?0:pe.unit*Y)}const K=pe=>pe.baseIndent;function Z({except:pe,units:j=1}={}){return Y=>{let ke=pe&&pe.test(Y.textAfter);return Y.baseIndent+(ke?0:j*Y.unit)}}const Q=200;function ge(){return m.yy.transactionFilter.of(pe=>{if(!pe.docChanged||!pe.isUserEvent("input.type")&&!pe.isUserEvent("input.complete"))return pe;let j=pe.startState.languageDataAt("indentOnInput",pe.startState.selection.main.head);if(!j.length)return pe;let Y=pe.newDoc,{head:ke}=pe.newSelection.main,Ne=Y.lineAt(ke);if(ke>Ne.from+Q)return pe;let nt=Y.sliceString(Ne.from,ke);if(!j.some(Br=>Br.test(nt)))return pe;let{state:ft}=pe,Ut=-1,Wt=[];for(let{head:Br}of ft.selection.ranges){let Kr=ft.doc.lineAt(Br);if(Kr.from==Ut)continue;Ut=Kr.from;let Mn=or(ft,Kr.from);if(Mn==null)continue;let Oi=/^\s*/.exec(Kr.text)[0],Pi=_t(ft,Mn);Oi!=Pi&&Wt.push({from:Kr.from,to:Kr.from+Oi.length,insert:Pi})}return Wt.length?[pe,{changes:Wt,sequential:!0}]:pe})}const De=m.r$.define(),Qe=new o.md;function Ue(pe){let j=pe.firstChild,Y=pe.lastChild;return j&&j.to<Y.from?{from:j.to,to:Y.type.isError?pe.to:Y.from}:null}function Lt(pe,j,Y){let ke=re(pe);if(ke.length<Y)return null;let Ne=ke.resolveInner(Y,1),nt=null;for(let ft=Ne;ft;ft=ft.parent){if(ft.to<=Y||ft.from>Y)continue;if(nt&&ft.from<j)break;let Ut=ft.type.prop(Qe);if(Ut&&(ft.to<ke.length-50||ke.length==pe.doc.length||!tr(ft))){let Wt=Ut(ft,pe);Wt&&Wt.from<=Y&&Wt.from>=j&&Wt.to>Y&&(nt=Wt)}}return nt}function tr(pe){let j=pe.lastChild;return j&&j.to==pe.to&&j.type.isError}function Kt(pe,j,Y){for(let ke of pe.facet(De)){let Ne=ke(pe,j,Y);if(Ne)return Ne}return Lt(pe,j,Y)}function Yt(pe,j){let Y=j.mapPos(pe.from,1),ke=j.mapPos(pe.to,-1);return Y>=ke?void 0:{from:Y,to:ke}}const Ht=m.Py.define({map:Yt}),rt=m.Py.define({map:Yt});function Ct(pe){let j=[];for(let{head:Y}of pe.state.selection.ranges)j.some(ke=>ke.from<=Y&&ke.to>=Y)||j.push(pe.lineBlockAt(Y));return j}const Vt=m.QQ.define({create(){return I.p.none},update(pe,j){pe=pe.map(j.changes);for(let Y of j.effects)Y.is(Ht)&&!Sr(pe,Y.value.from,Y.value.to)?pe=pe.update({add:[ur.range(Y.value.from,Y.value.to)]}):Y.is(rt)&&(pe=pe.update({filter:(ke,Ne)=>Y.value.from!=ke||Y.value.to!=Ne,filterFrom:Y.value.from,filterTo:Y.value.to}));if(j.selection){let Y=!1,{head:ke}=j.selection.main;pe.between(ke,ke,(Ne,nt)=>{Ne<ke&&nt>ke&&(Y=!0)}),Y&&(pe=pe.update({filterFrom:ke,filterTo:ke,filter:(Ne,nt)=>nt<=ke||Ne>=ke}))}return pe},provide:pe=>I.tk.decorations.from(pe),toJSON(pe,j){let Y=[];return pe.between(0,j.doc.length,(ke,Ne)=>{Y.push(ke,Ne)}),Y},fromJSON(pe){if(!Array.isArray(pe)||pe.length%2)throw new RangeError("Invalid JSON for fold state");let j=[];for(let Y=0;Y<pe.length;){let ke=pe[Y++],Ne=pe[Y++];if(typeof ke!="number"||typeof Ne!="number")throw new RangeError("Invalid JSON for fold state");j.push(ur.range(ke,Ne))}return I.p.set(j,!0)}});function hr(pe){return pe.field(Vt,!1)||RangeSet.empty}function xr(pe,j,Y){var ke;let Ne=null;return(ke=pe.field(Vt,!1))===null||ke===void 0||ke.between(j,Y,(nt,ft)=>{(!Ne||Ne.from>nt)&&(Ne={from:nt,to:ft})}),Ne}function Sr(pe,j,Y){let ke=!1;return pe.between(j,j,(Ne,nt)=>{Ne==j&&nt==Y&&(ke=!0)}),ke}function cr(pe,j){return pe.field(Vt,!1)?j:j.concat(m.Py.appendConfig.of(sr()))}const Nt=pe=>{for(let j of Ct(pe)){let Y=Kt(pe.state,j.from,j.to);if(Y)return pe.dispatch({effects:cr(pe.state,[Ht.of(Y),Er(pe,Y)])}),!0}return!1},Lr=pe=>{if(!pe.state.field(Vt,!1))return!1;let j=[];for(let Y of Ct(pe)){let ke=xr(pe.state,Y.from,Y.to);ke&&j.push(rt.of(ke),Er(pe,ke,!1))}return j.length&&pe.dispatch({effects:j}),j.length>0};function Er(pe,j,Y=!0){let ke=pe.state.doc.lineAt(j.from).number,Ne=pe.state.doc.lineAt(j.to).number;return I.tk.announce.of(`${pe.state.phrase(Y?"Folded lines":"Unfolded lines")} ${ke} ${pe.state.phrase("to")} ${Ne}.`)}const yr=pe=>{let{state:j}=pe,Y=[];for(let ke=0;ke<j.doc.length;){let Ne=pe.lineBlockAt(ke),nt=Kt(j,Ne.from,Ne.to);nt&&Y.push(Ht.of(nt)),ke=(nt?pe.lineBlockAt(nt.to):Ne).to+1}return Y.length&&pe.dispatch({effects:cr(pe.state,Y)}),!!Y.length},Zr=pe=>{let j=pe.state.field(Vt,!1);if(!j||!j.size)return!1;let Y=[];return j.between(0,pe.state.doc.length,(ke,Ne)=>{Y.push(rt.of({from:ke,to:Ne}))}),pe.dispatch({effects:Y}),!0};function Vr(pe,j){for(let Y=j;;){let ke=Kt(pe.state,Y.from,Y.to);if(ke&&ke.to>j.from)return ke;if(!Y.from)return null;Y=pe.lineBlockAt(Y.from-1)}}const Rr=pe=>{let j=[];for(let Y of Ct(pe)){let ke=xr(pe.state,Y.from,Y.to);if(ke)j.push(rt.of(ke),Er(pe,ke,!1));else{let Ne=Vr(pe,Y);Ne&&j.push(Ht.of(Ne),Er(pe,Ne))}}return j.length>0&&pe.dispatch({effects:cr(pe.state,j)}),!!j.length},fr=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Nt},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Lr},{key:"Ctrl-Alt-[",run:yr},{key:"Ctrl-Alt-]",run:Zr}],Ie={placeholderDOM:null,placeholderText:"\u2026"},Xt=m.r$.define({combine(pe){return(0,m.BO)(pe,Ie)}});function sr(pe){let j=[Vt,Tr];return pe&&j.push(Xt.of(pe)),j}const ur=I.p.replace({widget:new class extends I.l9{toDOM(pe){let{state:j}=pe,Y=j.facet(Xt),ke=nt=>{let ft=pe.lineBlockAt(pe.posAtDOM(nt.target)),Ut=xr(pe.state,ft.from,ft.to);Ut&&pe.dispatch({effects:rt.of(Ut)}),nt.preventDefault()};if(Y.placeholderDOM)return Y.placeholderDOM(pe,ke);let Ne=document.createElement("span");return Ne.textContent=Y.placeholderText,Ne.setAttribute("aria-label",j.phrase("folded code")),Ne.title=j.phrase("unfold"),Ne.className="cm-foldPlaceholder",Ne.onclick=ke,Ne}}}),Fr={openText:"\u2304",closedText:"\u203A",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class jr extends I.SJ{constructor(j,Y){super(),this.config=j,this.open=Y}eq(j){return this.config==j.config&&this.open==j.open}toDOM(j){if(this.config.markerDOM)return this.config.markerDOM(this.open);let Y=document.createElement("span");return Y.textContent=this.open?this.config.openText:this.config.closedText,Y.title=j.state.phrase(this.open?"Fold line":"Unfold line"),Y}}function wr(pe={}){let j=Object.assign(Object.assign({},Fr),pe),Y=new jr(j,!0),ke=new jr(j,!1),Ne=I.lg.fromClass(class{constructor(ft){this.from=ft.viewport.from,this.markers=this.buildMarkers(ft)}update(ft){(ft.docChanged||ft.viewportChanged||ft.startState.facet(Ce)!=ft.state.facet(Ce)||ft.startState.field(Vt,!1)!=ft.state.field(Vt,!1)||re(ft.startState)!=re(ft.state)||j.foldingChanged(ft))&&(this.markers=this.buildMarkers(ft.view))}buildMarkers(ft){let Ut=new m.f_;for(let Wt of ft.viewportLineBlocks){let Br=xr(ft.state,Wt.from,Wt.to)?ke:Kt(ft.state,Wt.from,Wt.to)?Y:null;Br&&Ut.add(Wt.from,Wt.from,Br)}return Ut.finish()}}),{domEventHandlers:nt}=j;return[Ne,(0,I.v5)({class:"cm-foldGutter",markers(ft){var Ut;return((Ut=ft.plugin(Ne))===null||Ut===void 0?void 0:Ut.markers)||m.Xs.empty},initialSpacer(){return new jr(j,!1)},domEventHandlers:Object.assign(Object.assign({},nt),{click:(ft,Ut,Wt)=>{if(nt.click&&nt.click(ft,Ut,Wt))return!0;let Br=xr(ft.state,Ut.from,Ut.to);if(Br)return ft.dispatch({effects:rt.of(Br)}),!0;let Kr=Kt(ft.state,Ut.from,Ut.to);return Kr?(ft.dispatch({effects:Ht.of(Kr)}),!0):!1}})}),sr()]}const Tr=I.tk.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class _r{constructor(j,Y){this.specs=j;let ke;function Ne(Ut){let Wt=_.V.newName();return(ke||(ke=Object.create(null)))["."+Wt]=Ut,Wt}const nt=typeof Y.all=="string"?Y.all:Y.all?Ne(Y.all):void 0,ft=Y.scope;this.scope=ft instanceof z?Ut=>Ut.prop(N)==ft.data:ft?Ut=>Ut==ft:void 0,this.style=(0,O.QR)(j.map(Ut=>({tag:Ut.tag,class:Ut.class||Ne(Object.assign({},Ut,{tag:null}))})),{all:nt}).style,this.module=ke?new _.V(ke):null,this.themeType=Y.themeType}static define(j,Y){return new _r(j,Y||{})}}const $r=m.r$.define(),en=m.r$.define({combine(pe){return pe.length?[pe[0]]:null}});function hn(pe){let j=pe.facet($r);return j.length?j:pe.facet(en)}function Nr(pe,j){let Y=[Sn],ke;return pe instanceof _r&&(pe.module&&Y.push(I.tk.styleModule.of(pe.module)),ke=pe.themeType),j!=null&&j.fallback?Y.push(en.of(pe)):ke?Y.push($r.computeN([I.tk.darkTheme],Ne=>Ne.facet(I.tk.darkTheme)==(ke=="dark")?[pe]:[])):Y.push($r.of(pe)),Y}function cn(pe,j,Y){let ke=hn(pe),Ne=null;if(ke){for(let nt of ke)if(!nt.scope||Y&&nt.scope(Y)){let ft=nt.style(j);ft&&(Ne=Ne?Ne+" "+ft:ft)}}return Ne}class gn{constructor(j){this.markCache=Object.create(null),this.tree=re(j.state),this.decorations=this.buildDeco(j,hn(j.state))}update(j){let Y=re(j.state),ke=hn(j.state),Ne=ke!=hn(j.startState);Y.length<j.view.viewport.to&&!Ne&&Y.type==this.tree.type?this.decorations=this.decorations.map(j.changes):(Y!=this.tree||j.viewportChanged||Ne)&&(this.tree=Y,this.decorations=this.buildDeco(j.view,ke))}buildDeco(j,Y){if(!Y||!this.tree.length)return I.p.none;let ke=new m.f_;for(let{from:Ne,to:nt}of j.visibleRanges)(0,O.bW)(this.tree,Y,(ft,Ut,Wt)=>{ke.add(ft,Ut,this.markCache[Wt]||(this.markCache[Wt]=I.p.mark({class:Wt})))},Ne,nt);return ke.finish()}}const Sn=m.Wl.high(I.lg.fromClass(gn,{decorations:pe=>pe.decorations})),yn=_r.define([{tag:O.pJ.meta,color:"#404740"},{tag:O.pJ.link,textDecoration:"underline"},{tag:O.pJ.heading,textDecoration:"underline",fontWeight:"bold"},{tag:O.pJ.emphasis,fontStyle:"italic"},{tag:O.pJ.strong,fontWeight:"bold"},{tag:O.pJ.strikethrough,textDecoration:"line-through"},{tag:O.pJ.keyword,color:"#708"},{tag:[O.pJ.atom,O.pJ.bool,O.pJ.url,O.pJ.contentSeparator,O.pJ.labelName],color:"#219"},{tag:[O.pJ.literal,O.pJ.inserted],color:"#164"},{tag:[O.pJ.string,O.pJ.deleted],color:"#a11"},{tag:[O.pJ.regexp,O.pJ.escape,O.pJ.special(O.pJ.string)],color:"#e40"},{tag:O.pJ.definition(O.pJ.variableName),color:"#00f"},{tag:O.pJ.local(O.pJ.variableName),color:"#30a"},{tag:[O.pJ.typeName,O.pJ.namespace],color:"#085"},{tag:O.pJ.className,color:"#167"},{tag:[O.pJ.special(O.pJ.variableName),O.pJ.macroName],color:"#256"},{tag:O.pJ.definition(O.pJ.propertyName),color:"#00c"},{tag:O.pJ.comment,color:"#940"},{tag:O.pJ.invalid,color:"#f00"}]),dn=I.tk.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),vn=1e4,tn="()[]{}",_n=m.r$.define({combine(pe){return(0,m.BO)(pe,{afterCursor:!0,brackets:tn,maxScanDistance:vn,renderMatch:mn})}}),an=I.p.mark({class:"cm-matchingBracket"}),rn=I.p.mark({class:"cm-nonmatchingBracket"});function mn(pe){let j=[],Y=pe.matched?an:rn;return j.push(Y.range(pe.start.from,pe.start.to)),pe.end&&j.push(Y.range(pe.end.from,pe.end.to)),j}const hi=[m.QQ.define({create(){return I.p.none},update(pe,j){if(!j.docChanged&&!j.selection)return pe;let Y=[],ke=j.state.facet(_n);for(let Ne of j.state.selection.ranges){if(!Ne.empty)continue;let nt=V(j.state,Ne.head,-1,ke)||Ne.head>0&&V(j.state,Ne.head-1,1,ke)||ke.afterCursor&&(V(j.state,Ne.head,1,ke)||Ne.head<j.state.doc.length&&V(j.state,Ne.head+1,-1,ke));nt&&(Y=Y.concat(ke.renderMatch(nt,j.state)))}return I.p.set(Y,!0)},provide:pe=>I.tk.decorations.from(pe)}),dn];function Ri(pe={}){return[_n.of(pe),hi]}const Pe=new o.md;function y(pe,j,Y){let ke=pe.prop(j<0?o.md.openedBy:o.md.closedBy);if(ke)return ke;if(pe.name.length==1){let Ne=Y.indexOf(pe.name);if(Ne>-1&&Ne%2==(j<0?1:0))return[Y[Ne+j]]}return null}function T(pe){let j=pe.type.prop(Pe);return j?j(pe.node):pe}function V(pe,j,Y,ke={}){let Ne=ke.maxScanDistance||vn,nt=ke.brackets||tn,ft=re(pe),Ut=ft.resolveInner(j,Y);for(let Wt=Ut;Wt;Wt=Wt.parent){let Br=y(Wt.type,Y,nt);if(Br&&Wt.from<Wt.to){let Kr=T(Wt);if(Kr&&(Y>0?j>=Kr.from&&j<Kr.to:j>Kr.from&&j<=Kr.to))return q(pe,j,Y,Wt,Kr,Br,nt)}}return Oe(pe,j,Y,ft,Ut.type,Ne,nt)}function q(pe,j,Y,ke,Ne,nt,ft){let Ut=ke.parent,Wt={from:Ne.from,to:Ne.to},Br=0,Kr=Ut==null?void 0:Ut.cursor();if(Kr&&(Y<0?Kr.childBefore(ke.from):Kr.childAfter(ke.to)))do if(Y<0?Kr.to<=ke.from:Kr.from>=ke.to){if(Br==0&&nt.indexOf(Kr.type.name)>-1&&Kr.from<Kr.to){let Mn=T(Kr);return{start:Wt,end:Mn?{from:Mn.from,to:Mn.to}:void 0,matched:!0}}else if(y(Kr.type,Y,ft))Br++;else if(y(Kr.type,-Y,ft)){if(Br==0){let Mn=T(Kr);return{start:Wt,end:Mn&&Mn.from<Mn.to?{from:Mn.from,to:Mn.to}:void 0,matched:!1}}Br--}}while(Y<0?Kr.prevSibling():Kr.nextSibling());return{start:Wt,matched:!1}}function Oe(pe,j,Y,ke,Ne,nt,ft){let Ut=Y<0?pe.sliceDoc(j-1,j):pe.sliceDoc(j,j+1),Wt=ft.indexOf(Ut);if(Wt<0||Wt%2==0!=Y>0)return null;let Br={from:Y<0?j-1:j,to:Y>0?j+1:j},Kr=pe.doc.iterRange(j,Y>0?pe.doc.length:0),Mn=0;for(let Oi=0;!Kr.next().done&&Oi<=nt;){let Pi=Kr.value;Y<0&&(Oi+=Pi.length);let ai=j+Oi*Y;for(let Ti=Y>0?0:Pi.length-1,to=Y>0?Pi.length:-1;Ti!=to;Ti+=Y){let Ms=ft.indexOf(Pi[Ti]);if(!(Ms<0||ke.resolveInner(ai+Ti,1).type!=Ne))if(Ms%2==0==Y>0)Mn++;else{if(Mn==1)return{start:Br,end:{from:ai+Ti,to:ai+Ti+1},matched:Ms>>1==Wt>>1};Mn--}}Y>0&&(Oi+=Pi.length)}return Kr.done?{start:Br,matched:!1}:null}function Ee(pe,j,Y,ke=0,Ne=0){j==null&&(j=pe.search(/[^\s\u00a0]/),j==-1&&(j=pe.length));let nt=Ne;for(let ft=ke;ft<j;ft++)pe.charCodeAt(ft)==9?nt+=Y-nt%Y:nt++;return nt}class ze{constructor(j,Y,ke,Ne){this.string=j,this.tabSize=Y,this.indentUnit=ke,this.overrideIndent=Ne,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(j){let Y=this.string.charAt(this.pos),ke;if(typeof j=="string"?ke=Y==j:ke=Y&&(j instanceof RegExp?j.test(Y):j(Y)),ke)return++this.pos,Y}eatWhile(j){let Y=this.pos;for(;this.eat(j););return this.pos>Y}eatSpace(){let j=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>j}skipToEnd(){this.pos=this.string.length}skipTo(j){let Y=this.string.indexOf(j,this.pos);if(Y>-1)return this.pos=Y,!0}backUp(j){this.pos-=j}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ee(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var j;return(j=this.overrideIndent)!==null&&j!==void 0?j:Ee(this.string,null,this.tabSize)}match(j,Y,ke){if(typeof j=="string"){let Ne=ft=>ke?ft.toLowerCase():ft,nt=this.string.substr(this.pos,j.length);return Ne(nt)==Ne(j)?(Y!==!1&&(this.pos+=j.length),!0):null}else{let Ne=this.string.slice(this.pos).match(j);return Ne&&Ne.index>0?null:(Ne&&Y!==!1&&(this.pos+=Ne[0].length),Ne)}}current(){return this.string.slice(this.start,this.pos)}}function He(pe){return{name:pe.name||"",token:pe.token,blankLine:pe.blankLine||(()=>{}),startState:pe.startState||(()=>!0),copyState:pe.copyState||wt,indent:pe.indent||(()=>null),languageData:pe.languageData||{},tokenTable:pe.tokenTable||wi}}function wt(pe){if(typeof pe!="object")return pe;let j={};for(let Y in pe){let ke=pe[Y];j[Y]=ke instanceof Array?ke.slice():ke}return j}const jt=new WeakMap;class $t extends z{constructor(j){let Y=R(j.languageData),ke=He(j),Ne,nt=new class extends o._b{createParse(ft,Ut,Wt){return new Xn(Ne,ft,Ut,Wt)}};super(Y,nt,[dt.of((ft,Ut)=>this.getIndent(ft,Ut))],j.name),this.topNode=qt(Y),Ne=this,this.streamParser=ke,this.stateAfter=new o.md({perNode:!0}),this.tokenTable=j.tokenTable?new Hn(ke.tokenTable):kn}static define(j){return new $t(j)}getIndent(j,Y){let ke=re(j.state),Ne=ke.resolve(Y);for(;Ne&&Ne.type!=this.topNode;)Ne=Ne.parent;if(!Ne)return null;let nt,{overrideIndentation:ft}=j.options;ft&&(nt=jt.get(j.state),nt!=null&&nt<Y-1e4&&(nt=void 0));let Ut=Cr(this,ke,0,Ne.from,nt!=null?nt:Y),Wt,Br;if(Ut?(Br=Ut.state,Wt=Ut.pos+1):(Br=this.streamParser.startState(j.unit),Wt=0),Y-Wt>1e4)return null;for(;Wt<Y;){let Mn=j.state.doc.lineAt(Wt),Oi=Math.min(Y,Mn.to);if(Mn.length){let Pi=ft?ft(Mn.from):-1,ai=new ze(Mn.text,j.state.tabSize,j.unit,Pi<0?void 0:Pi);for(;ai.pos<Oi-Mn.from;)zn(this.streamParser.token,ai,Br)}else this.streamParser.blankLine(Br,j.unit);if(Oi==Y)break;Wt=Mn.to+1}let Kr=j.lineAt(Y);return ft&&nt==null&&jt.set(j.state,Kr.from),this.streamParser.indent(Br,/^\s*(.*)/.exec(Kr.text)[1],j)}get allowsNesting(){return!1}}function Cr(pe,j,Y,ke,Ne){let nt=Y>=ke&&Y+j.length<=Ne&&j.prop(pe.stateAfter);if(nt)return{state:pe.streamParser.copyState(nt),pos:Y+j.length};for(let ft=j.children.length-1;ft>=0;ft--){let Ut=j.children[ft],Wt=Y+j.positions[ft],Br=Ut instanceof o.mp&&Wt<Ne&&Cr(pe,Ut,Wt,ke,Ne);if(Br)return Br}return null}function pr(pe,j,Y,ke,Ne){if(Ne&&Y<=0&&ke>=j.length)return j;!Ne&&j.type==pe.topNode&&(Ne=!0);for(let nt=j.children.length-1;nt>=0;nt--){let ft=j.positions[nt],Ut=j.children[nt],Wt;if(ft<ke&&Ut instanceof o.mp){if(!(Wt=pr(pe,Ut,Y-ft,ke-ft,Ne)))break;return Ne?new o.mp(j.type,j.children.slice(0,nt).concat(Wt),j.positions.slice(0,nt+1),ft+Wt.length):Wt}}return null}function Cn(pe,j,Y,ke){for(let Ne of j){let nt=Ne.from+(Ne.openStart?25:0),ft=Ne.to-(Ne.openEnd?25:0),Ut=nt<=Y&&ft>Y&&Cr(pe,Ne.tree,0-Ne.offset,Y,ft),Wt;if(Ut&&(Wt=pr(pe,Ne.tree,Y+Ne.offset,Ut.pos+Ne.offset,!1)))return{state:Ut.state,tree:Wt}}return{state:pe.streamParser.startState(ke?Ge(ke):4),tree:o.mp.empty}}class Xn{constructor(j,Y,ke,Ne){this.lang=j,this.input=Y,this.fragments=ke,this.ranges=Ne,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=Ne[Ne.length-1].to;let nt=fe.get(),ft=Ne[0].from,{state:Ut,tree:Wt}=Cn(j,ke,ft,nt==null?void 0:nt.state);this.state=Ut,this.parsedPos=this.chunkStart=ft+Wt.length;for(let Br=0;Br<Wt.children.length;Br++)this.chunks.push(Wt.children[Br]),this.chunkPos.push(Wt.positions[Br]);nt&&this.parsedPos<nt.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(Ge(nt.state)),nt.skipUntilInView(this.parsedPos,nt.viewport.from),this.parsedPos=nt.viewport.from),this.moveRangeIndex()}advance(){let j=fe.get(),Y=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),ke=Math.min(Y,this.chunkStart+2048);for(j&&(ke=Math.min(ke,j.viewport.to));this.parsedPos<ke;)this.parseLine(j);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=Y?this.finish():j&&this.parsedPos>=j.viewport.to?(j.skipUntilInView(this.parsedPos,Y),this.finish()):null}stopAt(j){this.stoppedAt=j}lineAfter(j){let Y=this.input.chunk(j);if(this.input.lineChunks)Y==`
`&&(Y="");else{let ke=Y.indexOf(`
`);ke>-1&&(Y=Y.slice(0,ke))}return j+Y.length<=this.to?Y:Y.slice(0,this.to-j)}nextLine(){let j=this.parsedPos,Y=this.lineAfter(j),ke=j+Y.length;for(let Ne=this.rangeIndex;;){let nt=this.ranges[Ne].to;if(nt>=ke||(Y=Y.slice(0,nt-(ke-Y.length)),Ne++,Ne==this.ranges.length))break;let ft=this.ranges[Ne].from,Ut=this.lineAfter(ft);Y+=Ut,ke=ft+Ut.length}return{line:Y,end:ke}}skipGapsTo(j,Y,ke){for(;;){let Ne=this.ranges[this.rangeIndex].to,nt=j+Y;if(ke>0?Ne>nt:Ne>=nt)break;let ft=this.ranges[++this.rangeIndex].from;Y+=ft-Ne}return Y}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(j,Y,ke,Ne,nt){if(this.ranges.length>1){nt=this.skipGapsTo(Y,nt,1),Y+=nt;let ft=this.chunk.length;nt=this.skipGapsTo(ke,nt,-1),ke+=nt,Ne+=this.chunk.length-ft}return this.chunk.push(j,Y,ke,Ne),nt}parseLine(j){let{line:Y,end:ke}=this.nextLine(),Ne=0,{streamParser:nt}=this.lang,ft=new ze(Y,j?j.state.tabSize:4,j?Ge(j.state):2);if(ft.eol())nt.blankLine(this.state,ft.indentUnit);else for(;!ft.eol();){let Ut=zn(nt.token,ft,this.state);if(Ut&&(Ne=this.emitToken(this.lang.tokenTable.resolve(Ut),this.parsedPos+ft.start,this.parsedPos+ft.pos,4,Ne)),ft.start>1e4)break}this.parsedPos=ke,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let j=o.mp.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:ji,topID:0,maxBufferLength:2048,reused:this.chunkReused});j=new o.mp(j.type,j.children,j.positions,j.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(j),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new o.mp(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function zn(pe,j,Y){j.start=j.pos;for(let ke=0;ke<10;ke++){let Ne=pe(j,Y);if(j.pos>j.start)return Ne}throw new Error("Stream parser failed to advance stream.")}const wi=Object.create(null),yi=[o.Jq.none],ji=new o.Lj(yi),us=[],qi=Object.create(null);for(let[pe,j]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])qi[pe]=Bo(wi,j);class Hn{constructor(j){this.extra=j,this.table=Object.assign(Object.create(null),qi)}resolve(j){return j?this.table[j]||(this.table[j]=Bo(this.extra,j)):0}}const kn=new Hn(wi);function eo(pe,j){us.indexOf(pe)>-1||(us.push(pe),console.warn(j))}function Bo(pe,j){let Y=null;for(let nt of j.split(".")){let ft=pe[nt]||O.pJ[nt];ft?typeof ft=="function"?Y?Y=ft(Y):eo(nt,`Modifier ${nt} used at start of tag`):Y?eo(nt,`Tag ${nt} used as modifier`):Y=ft:eo(nt,`Unknown highlighting tag ${nt}`)}if(!Y)return 0;let ke=j.replace(/ /g,"_"),Ne=o.Jq.define({id:yi.length,name:ke,props:[(0,O.Gv)({[ke]:Y})]});return yi.push(Ne),Ne.id}function qt(pe){let j=o.Jq.define({id:yi.length,name:"Document",props:[N.add(()=>pe)]});return yi.push(j),j}},42123:function(Te,b,a){"use strict";a.d(b,{r:function(){return I}});var o=["true","false","on","off","yes","no"],m=new RegExp("\\b(("+o.join(")|(")+"))$","i");const I={name:"yaml",token:function(O,_){var D=O.peek(),N=_.escaped;if(_.escaped=!1,D=="#"&&(O.pos==0||/\s/.test(O.string.charAt(O.pos-1))))return O.skipToEnd(),"comment";if(O.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(_.literal&&O.indentation()>_.keyCol)return O.skipToEnd(),"string";if(_.literal&&(_.literal=!1),O.sol()){if(_.keyCol=0,_.pair=!1,_.pairStart=!1,O.match("---")||O.match("..."))return"def";if(O.match(/^\s*-\s+/))return"meta"}if(O.match(/^(\{|\}|\[|\])/))return D=="{"?_.inlinePairs++:D=="}"?_.inlinePairs--:D=="["?_.inlineList++:_.inlineList--,"meta";if(_.inlineList>0&&!N&&D==",")return O.next(),"meta";if(_.inlinePairs>0&&!N&&D==",")return _.keyCol=0,_.pair=!1,_.pairStart=!1,O.next(),"meta";if(_.pairStart){if(O.match(/^\s*(\||\>)\s*/))return _.literal=!0,"meta";if(O.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable";if(_.inlinePairs==0&&O.match(/^\s*-?[0-9\.\,]+\s?$/)||_.inlinePairs>0&&O.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(O.match(m))return"keyword"}return!_.pair&&O.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(_.pair=!0,_.keyCol=O.indentation(),"atom"):_.pair&&O.match(/^:\s*/)?(_.pairStart=!0,"meta"):(_.pairStart=!1,_.escaped=D=="\\",O.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},languageData:{commentTokens:{line:"#"}}}},1727:function(Te,b,a){"use strict";a.d(b,{BO:function(){return Tr},D0:function(){return Xt},Gz:function(){return Ri},IS:function(){return hi},Py:function(){return cr},QQ:function(){return Gt},Wl:function(){return K},Xs:function(){return Nr},YW:function(){return Nt},as:function(){return Ce},bg:function(){return be},cp:function(){return ye},f_:function(){return gn},gc:function(){return xe},gm:function(){return fe},jT:function(){return St},n0:function(){return Le},nZ:function(){return te},q6:function(){return hr},r$:function(){return Re},uU:function(){return _r},xv:function(){return o},yy:function(){return wr}});class o{lineAt(y){if(y<0||y>this.length)throw new RangeError(`Invalid position ${y} in document of length ${this.length}`);return this.lineInner(y,!1,1,0)}line(y){if(y<1||y>this.lines)throw new RangeError(`Invalid line number ${y} in ${this.lines}-line document`);return this.lineInner(y,!0,1,0)}replace(y,T,V){let q=[];return this.decompose(0,y,q,2),V.length&&V.decompose(0,V.length,q,3),this.decompose(T,this.length,q,1),I.from(q,this.length-(T-y)+V.length)}append(y){return this.replace(this.length,this.length,y)}slice(y,T=this.length){let V=[];return this.decompose(y,T,V,0),I.from(V,T-y)}eq(y){if(y==this)return!0;if(y.length!=this.length||y.lines!=this.lines)return!1;let T=this.scanIdentical(y,1),V=this.length-this.scanIdentical(y,-1),q=new N(this),Oe=new N(y);for(let Ee=T,ze=T;;){if(q.next(Ee),Oe.next(Ee),Ee=0,q.lineBreak!=Oe.lineBreak||q.done!=Oe.done||q.value!=Oe.value)return!1;if(ze+=q.value.length,q.done||ze>=V)return!0}}iter(y=1){return new N(this,y)}iterRange(y,T=this.length){return new R(this,y,T)}iterLines(y,T){let V;if(y==null)V=this.iter();else{T==null&&(T=this.lines+1);let q=this.line(y).from;V=this.iterRange(q,Math.max(q,T==this.lines+1?this.length:T<=1?0:this.line(T-1).to))}return new $(V)}toString(){return this.sliceString(0)}toJSON(){let y=[];return this.flatten(y),y}constructor(){}static of(y){if(y.length==0)throw new RangeError("A document must have at least one line");return y.length==1&&!y[0]?o.empty:y.length<=32?new m(y):I.from(m.split(y,[]))}}class m extends o{constructor(y,T=O(y)){super(),this.text=y,this.length=T}get lines(){return this.text.length}get children(){return null}lineInner(y,T,V,q){for(let Oe=0;;Oe++){let Ee=this.text[Oe],ze=q+Ee.length;if((T?V:ze)>=y)return new z(q,ze,V,Ee);q=ze+1,V++}}decompose(y,T,V,q){let Oe=y<=0&&T>=this.length?this:new m(D(this.text,y,T),Math.min(T,this.length)-Math.max(0,y));if(q&1){let Ee=V.pop(),ze=_(Oe.text,Ee.text.slice(),0,Oe.length);if(ze.length<=32)V.push(new m(ze,Ee.length+Oe.length));else{let He=ze.length>>1;V.push(new m(ze.slice(0,He)),new m(ze.slice(He)))}}else V.push(Oe)}replace(y,T,V){if(!(V instanceof m))return super.replace(y,T,V);let q=_(this.text,_(V.text,D(this.text,0,y)),T),Oe=this.length+V.length-(T-y);return q.length<=32?new m(q,Oe):I.from(m.split(q,[]),Oe)}sliceString(y,T=this.length,V=`
`){let q="";for(let Oe=0,Ee=0;Oe<=T&&Ee<this.text.length;Ee++){let ze=this.text[Ee],He=Oe+ze.length;Oe>y&&Ee&&(q+=V),y<He&&T>Oe&&(q+=ze.slice(Math.max(0,y-Oe),T-Oe)),Oe=He+1}return q}flatten(y){for(let T of this.text)y.push(T)}scanIdentical(){return 0}static split(y,T){let V=[],q=-1;for(let Oe of y)V.push(Oe),q+=Oe.length+1,V.length==32&&(T.push(new m(V,q)),V=[],q=-1);return q>-1&&T.push(new m(V,q)),T}}class I extends o{constructor(y,T){super(),this.children=y,this.length=T,this.lines=0;for(let V of y)this.lines+=V.lines}lineInner(y,T,V,q){for(let Oe=0;;Oe++){let Ee=this.children[Oe],ze=q+Ee.length,He=V+Ee.lines-1;if((T?He:ze)>=y)return Ee.lineInner(y,T,V,q);q=ze+1,V=He+1}}decompose(y,T,V,q){for(let Oe=0,Ee=0;Ee<=T&&Oe<this.children.length;Oe++){let ze=this.children[Oe],He=Ee+ze.length;if(y<=He&&T>=Ee){let wt=q&((Ee<=y?1:0)|(He>=T?2:0));Ee>=y&&He<=T&&!wt?V.push(ze):ze.decompose(y-Ee,T-Ee,V,wt)}Ee=He+1}}replace(y,T,V){if(V.lines<this.lines)for(let q=0,Oe=0;q<this.children.length;q++){let Ee=this.children[q],ze=Oe+Ee.length;if(y>=Oe&&T<=ze){let He=Ee.replace(y-Oe,T-Oe,V),wt=this.lines-Ee.lines+He.lines;if(He.lines<wt>>5-1&&He.lines>wt>>5+1){let jt=this.children.slice();return jt[q]=He,new I(jt,this.length-(T-y)+V.length)}return super.replace(Oe,ze,He)}Oe=ze+1}return super.replace(y,T,V)}sliceString(y,T=this.length,V=`
`){let q="";for(let Oe=0,Ee=0;Oe<this.children.length&&Ee<=T;Oe++){let ze=this.children[Oe],He=Ee+ze.length;Ee>y&&Oe&&(q+=V),y<He&&T>Ee&&(q+=ze.sliceString(y-Ee,T-Ee,V)),Ee=He+1}return q}flatten(y){for(let T of this.children)T.flatten(y)}scanIdentical(y,T){if(!(y instanceof I))return 0;let V=0,[q,Oe,Ee,ze]=T>0?[0,0,this.children.length,y.children.length]:[this.children.length-1,y.children.length-1,-1,-1];for(;;q+=T,Oe+=T){if(q==Ee||Oe==ze)return V;let He=this.children[q],wt=y.children[Oe];if(He!=wt)return V+He.scanIdentical(wt,T);V+=He.length+1}}static from(y,T=y.reduce((V,q)=>V+q.length+1,-1)){let V=0;for(let pr of y)V+=pr.lines;if(V<32){let pr=[];for(let Cn of y)Cn.flatten(pr);return new m(pr,T)}let q=Math.max(32,V>>5),Oe=q<<1,Ee=q>>1,ze=[],He=0,wt=-1,jt=[];function $t(pr){let Cn;if(pr.lines>Oe&&pr instanceof I)for(let Xn of pr.children)$t(Xn);else pr.lines>Ee&&(He>Ee||!He)?(Cr(),ze.push(pr)):pr instanceof m&&He&&(Cn=jt[jt.length-1])instanceof m&&pr.lines+Cn.lines<=32?(He+=pr.lines,wt+=pr.length+1,jt[jt.length-1]=new m(Cn.text.concat(pr.text),Cn.length+1+pr.length)):(He+pr.lines>q&&Cr(),He+=pr.lines,wt+=pr.length+1,jt.push(pr))}function Cr(){He!=0&&(ze.push(jt.length==1?jt[0]:I.from(jt,wt)),wt=-1,He=jt.length=0)}for(let pr of y)$t(pr);return Cr(),ze.length==1?ze[0]:new I(ze,T)}}o.empty=new m([""],0);function O(Pe){let y=-1;for(let T of Pe)y+=T.length+1;return y}function _(Pe,y,T=0,V=1e9){for(let q=0,Oe=0,Ee=!0;Oe<Pe.length&&q<=V;Oe++){let ze=Pe[Oe],He=q+ze.length;He>=T&&(He>V&&(ze=ze.slice(0,V-q)),q<T&&(ze=ze.slice(T-q)),Ee?(y[y.length-1]+=ze,Ee=!1):y.push(ze)),q=He+1}return y}function D(Pe,y,T){return _(Pe,[""],y,T)}class N{constructor(y,T=1){this.dir=T,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[y],this.offsets=[T>0?1:(y instanceof m?y.text.length:y.children.length)<<1]}nextInner(y,T){for(this.done=this.lineBreak=!1;;){let V=this.nodes.length-1,q=this.nodes[V],Oe=this.offsets[V],Ee=Oe>>1,ze=q instanceof m?q.text.length:q.children.length;if(Ee==(T>0?ze:0)){if(V==0)return this.done=!0,this.value="",this;T>0&&this.offsets[V-1]++,this.nodes.pop(),this.offsets.pop()}else if((Oe&1)==(T>0?0:1)){if(this.offsets[V]+=T,y==0)return this.lineBreak=!0,this.value=`
`,this;y--}else if(q instanceof m){let He=q.text[Ee+(T<0?-1:0)];if(this.offsets[V]+=T,He.length>Math.max(0,y))return this.value=y==0?He:T>0?He.slice(y):He.slice(0,He.length-y),this;y-=He.length}else{let He=q.children[Ee+(T<0?-1:0)];y>He.length?(y-=He.length,this.offsets[V]+=T):(T<0&&this.offsets[V]--,this.nodes.push(He),this.offsets.push(T>0?1:(He instanceof m?He.text.length:He.children.length)<<1))}}}next(y=0){return y<0&&(this.nextInner(-y,-this.dir),y=this.value.length),this.nextInner(y,this.dir)}}class R{constructor(y,T,V){this.value="",this.done=!1,this.cursor=new N(y,T>V?-1:1),this.pos=T>V?y.length:0,this.from=Math.min(T,V),this.to=Math.max(T,V)}nextInner(y,T){if(T<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;y+=Math.max(0,T<0?this.pos-this.to:this.from-this.pos);let V=T<0?this.pos-this.from:this.to-this.pos;y>V&&(y=V),V-=y;let{value:q}=this.cursor.next(y);return this.pos+=(q.length+y)*T,this.value=q.length<=V?q:T<0?q.slice(q.length-V):q.slice(0,V),this.done=!this.value,this}next(y=0){return y<0?y=Math.max(y,this.from-this.pos):y>0&&(y=Math.min(y,this.to-this.pos)),this.nextInner(y,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class ${constructor(y){this.inner=y,this.afterBreak=!0,this.value="",this.done=!1}next(y=0){let{done:T,lineBreak:V,value:q}=this.inner.next(y);return T?(this.done=!0,this.value=""):V?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=q,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol!="undefined"&&(o.prototype[Symbol.iterator]=function(){return this.iter()},N.prototype[Symbol.iterator]=R.prototype[Symbol.iterator]=$.prototype[Symbol.iterator]=function(){return this});class z{constructor(y,T,V,q){this.from=y,this.to=T,this.number=V,this.text=q}get length(){return this.to-this.from}}let J="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(Pe=>Pe?parseInt(Pe,36):1);for(let Pe=1;Pe<J.length;Pe++)J[Pe]+=J[Pe-1];function ee(Pe){for(let y=1;y<J.length;y+=2)if(J[y]>Pe)return J[y-1]<=Pe;return!1}function re(Pe){return Pe>=127462&&Pe<=127487}const oe=8205;function ye(Pe,y,T=!0,V=!0){return(T?F:G)(Pe,y,V)}function F(Pe,y,T){if(y==Pe.length)return y;y&&Se(Pe.charCodeAt(y))&&se(Pe.charCodeAt(y-1))&&y--;let V=fe(Pe,y);for(y+=te(V);y<Pe.length;){let q=fe(Pe,y);if(V==oe||q==oe||T&&ee(q))y+=te(q),V=q;else if(re(q)){let Oe=0,Ee=y-2;for(;Ee>=0&&re(fe(Pe,Ee));)Oe++,Ee-=2;if(Oe%2==0)break;y+=2}else break}return y}function G(Pe,y,T){for(;y>0;){let V=F(Pe,y-2,T);if(V<y)return V;y--}return 0}function Se(Pe){return Pe>=56320&&Pe<57344}function se(Pe){return Pe>=55296&&Pe<56320}function fe(Pe,y){let T=Pe.charCodeAt(y);if(!se(T)||y+1==Pe.length)return T;let V=Pe.charCodeAt(y+1);return Se(V)?(T-55296<<10)+(V-56320)+65536:T}function be(Pe){return Pe<=65535?String.fromCharCode(Pe):(Pe-=65536,String.fromCharCode((Pe>>10)+55296,(Pe&1023)+56320))}function te(Pe){return Pe<65536?1:2}const M=/\r\n?|\n/;var xe=function(Pe){return Pe[Pe.Simple=0]="Simple",Pe[Pe.TrackDel=1]="TrackDel",Pe[Pe.TrackBefore=2]="TrackBefore",Pe[Pe.TrackAfter=3]="TrackAfter",Pe}(xe||(xe={}));class Le{constructor(y){this.sections=y}get length(){let y=0;for(let T=0;T<this.sections.length;T+=2)y+=this.sections[T];return y}get newLength(){let y=0;for(let T=0;T<this.sections.length;T+=2){let V=this.sections[T+1];y+=V<0?this.sections[T]:V}return y}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(y){for(let T=0,V=0,q=0;T<this.sections.length;){let Oe=this.sections[T++],Ee=this.sections[T++];Ee<0?(y(V,q,Oe),q+=Oe):q+=Ee,V+=Oe}}iterChangedRanges(y,T=!1){dt(this,y,T)}get invertedDesc(){let y=[];for(let T=0;T<this.sections.length;){let V=this.sections[T++],q=this.sections[T++];q<0?y.push(V,q):y.push(q,V)}return new Le(y)}composeDesc(y){return this.empty?y:y.empty?this:Ge(this,y)}mapDesc(y,T=!1){return y.empty?this:st(this,y,T)}mapPos(y,T=-1,V=xe.Simple){let q=0,Oe=0;for(let Ee=0;Ee<this.sections.length;){let ze=this.sections[Ee++],He=this.sections[Ee++],wt=q+ze;if(He<0){if(wt>y)return Oe+(y-q);Oe+=ze}else{if(V!=xe.Simple&&wt>=y&&(V==xe.TrackDel&&q<y&&wt>y||V==xe.TrackBefore&&q<y||V==xe.TrackAfter&&wt>y))return null;if(wt>y||wt==y&&T<0&&!ze)return y==q||T<0?Oe:Oe+He;Oe+=He}q=wt}if(y>q)throw new RangeError(`Position ${y} is out of range for changeset of length ${q}`);return Oe}touchesRange(y,T=y){for(let V=0,q=0;V<this.sections.length&&q<=T;){let Oe=this.sections[V++],Ee=this.sections[V++],ze=q+Oe;if(Ee>=0&&q<=T&&ze>=y)return q<y&&ze>T?"cover":!0;q=ze}return!1}toString(){let y="";for(let T=0;T<this.sections.length;){let V=this.sections[T++],q=this.sections[T++];y+=(y?" ":"")+V+(q>=0?":"+q:"")}return y}toJSON(){return this.sections}static fromJSON(y){if(!Array.isArray(y)||y.length%2||y.some(T=>typeof T!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Le(y)}static create(y){return new Le(y)}}class Ce extends Le{constructor(y,T){super(y),this.inserted=T}apply(y){if(this.length!=y.length)throw new RangeError("Applying change set to a document with the wrong length");return dt(this,(T,V,q,Oe,Ee)=>y=y.replace(q,q+(V-T),Ee),!1),y}mapDesc(y,T=!1){return st(this,y,T,!0)}invert(y){let T=this.sections.slice(),V=[];for(let q=0,Oe=0;q<T.length;q+=2){let Ee=T[q],ze=T[q+1];if(ze>=0){T[q]=ze,T[q+1]=Ee;let He=q>>1;for(;V.length<He;)V.push(o.empty);V.push(Ee?y.slice(Oe,Oe+Ee):o.empty)}Oe+=Ee}return new Ce(T,V)}compose(y){return this.empty?y:y.empty?this:Ge(this,y,!0)}map(y,T=!1){return y.empty?this:st(this,y,T,!0)}iterChanges(y,T=!1){dt(this,y,T)}get desc(){return Le.create(this.sections)}filter(y){let T=[],V=[],q=[],Oe=new _t(this);e:for(let Ee=0,ze=0;;){let He=Ee==y.length?1e9:y[Ee++];for(;ze<He||ze==He&&Oe.len==0;){if(Oe.done)break e;let jt=Math.min(Oe.len,He-ze);Ke(q,jt,-1);let $t=Oe.ins==-1?-1:Oe.off==0?Oe.ins:0;Ke(T,jt,$t),$t>0&&Xe(V,T,Oe.text),Oe.forward(jt),ze+=jt}let wt=y[Ee++];for(;ze<wt;){if(Oe.done)break e;let jt=Math.min(Oe.len,wt-ze);Ke(T,jt,-1),Ke(q,jt,Oe.ins==-1?-1:Oe.off==0?Oe.ins:0),Oe.forward(jt),ze+=jt}}return{changes:new Ce(T,V),filtered:Le.create(q)}}toJSON(){let y=[];for(let T=0;T<this.sections.length;T+=2){let V=this.sections[T],q=this.sections[T+1];q<0?y.push(V):q==0?y.push([V]):y.push([V].concat(this.inserted[T>>1].toJSON()))}return y}static of(y,T,V){let q=[],Oe=[],Ee=0,ze=null;function He(jt=!1){if(!jt&&!q.length)return;Ee<T&&Ke(q,T-Ee,-1);let $t=new Ce(q,Oe);ze=ze?ze.compose($t.map(ze)):$t,q=[],Oe=[],Ee=0}function wt(jt){if(Array.isArray(jt))for(let $t of jt)wt($t);else if(jt instanceof Ce){if(jt.length!=T)throw new RangeError(`Mismatched change set length (got ${jt.length}, expected ${T})`);He(),ze=ze?ze.compose(jt.map(ze)):jt}else{let{from:$t,to:Cr=$t,insert:pr}=jt;if($t>Cr||$t<0||Cr>T)throw new RangeError(`Invalid change range ${$t} to ${Cr} (in doc of length ${T})`);let Cn=pr?typeof pr=="string"?o.of(pr.split(V||M)):pr:o.empty,Xn=Cn.length;if($t==Cr&&Xn==0)return;$t<Ee&&He(),$t>Ee&&Ke(q,$t-Ee,-1),Ke(q,Cr-$t,Xn),Xe(Oe,q,Cn),Ee=Cr}}return wt(y),He(!ze),ze}static empty(y){return new Ce(y?[y,-1]:[],[])}static fromJSON(y){if(!Array.isArray(y))throw new RangeError("Invalid JSON representation of ChangeSet");let T=[],V=[];for(let q=0;q<y.length;q++){let Oe=y[q];if(typeof Oe=="number")T.push(Oe,-1);else{if(!Array.isArray(Oe)||typeof Oe[0]!="number"||Oe.some((Ee,ze)=>ze&&typeof Ee!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(Oe.length==1)T.push(Oe[0],0);else{for(;V.length<q;)V.push(o.empty);V[q]=o.of(Oe.slice(1)),T.push(Oe[0],V[q].length)}}}return new Ce(T,V)}static createSet(y,T){return new Ce(y,T)}}function Ke(Pe,y,T,V=!1){if(y==0&&T<=0)return;let q=Pe.length-2;q>=0&&T<=0&&T==Pe[q+1]?Pe[q]+=y:y==0&&Pe[q]==0?Pe[q+1]+=T:V?(Pe[q]+=y,Pe[q+1]+=T):Pe.push(y,T)}function Xe(Pe,y,T){if(T.length==0)return;let V=y.length-2>>1;if(V<Pe.length)Pe[Pe.length-1]=Pe[Pe.length-1].append(T);else{for(;Pe.length<V;)Pe.push(o.empty);Pe.push(T)}}function dt(Pe,y,T){let V=Pe.inserted;for(let q=0,Oe=0,Ee=0;Ee<Pe.sections.length;){let ze=Pe.sections[Ee++],He=Pe.sections[Ee++];if(He<0)q+=ze,Oe+=ze;else{let wt=q,jt=Oe,$t=o.empty;for(;wt+=ze,jt+=He,He&&V&&($t=$t.append(V[Ee-2>>1])),!(T||Ee==Pe.sections.length||Pe.sections[Ee+1]<0);)ze=Pe.sections[Ee++],He=Pe.sections[Ee++];y(q,wt,Oe,jt,$t),q=wt,Oe=jt}}}function st(Pe,y,T,V=!1){let q=[],Oe=V?[]:null,Ee=new _t(Pe),ze=new _t(y);for(let He=-1;;)if(Ee.ins==-1&&ze.ins==-1){let wt=Math.min(Ee.len,ze.len);Ke(q,wt,-1),Ee.forward(wt),ze.forward(wt)}else if(ze.ins>=0&&(Ee.ins<0||He==Ee.i||Ee.off==0&&(ze.len<Ee.len||ze.len==Ee.len&&!T))){let wt=ze.len;for(Ke(q,ze.ins,-1);wt;){let jt=Math.min(Ee.len,wt);Ee.ins>=0&&He<Ee.i&&Ee.len<=jt&&(Ke(q,0,Ee.ins),Oe&&Xe(Oe,q,Ee.text),He=Ee.i),Ee.forward(jt),wt-=jt}ze.next()}else if(Ee.ins>=0){let wt=0,jt=Ee.len;for(;jt;)if(ze.ins==-1){let $t=Math.min(jt,ze.len);wt+=$t,jt-=$t,ze.forward($t)}else if(ze.ins==0&&ze.len<jt)jt-=ze.len,ze.next();else break;Ke(q,wt,He<Ee.i?Ee.ins:0),Oe&&He<Ee.i&&Xe(Oe,q,Ee.text),He=Ee.i,Ee.forward(Ee.len-jt)}else{if(Ee.done&&ze.done)return Oe?Ce.createSet(q,Oe):Le.create(q);throw new Error("Mismatched change set lengths")}}function Ge(Pe,y,T=!1){let V=[],q=T?[]:null,Oe=new _t(Pe),Ee=new _t(y);for(let ze=!1;;){if(Oe.done&&Ee.done)return q?Ce.createSet(V,q):Le.create(V);if(Oe.ins==0)Ke(V,Oe.len,0,ze),Oe.next();else if(Ee.len==0&&!Ee.done)Ke(V,0,Ee.ins,ze),q&&Xe(q,V,Ee.text),Ee.next();else{if(Oe.done||Ee.done)throw new Error("Mismatched change set lengths");{let He=Math.min(Oe.len2,Ee.len),wt=V.length;if(Oe.ins==-1){let jt=Ee.ins==-1?-1:Ee.off?0:Ee.ins;Ke(V,He,jt,ze),q&&jt&&Xe(q,V,Ee.text)}else Ee.ins==-1?(Ke(V,Oe.off?0:Oe.len,He,ze),q&&Xe(q,V,Oe.textBit(He))):(Ke(V,Oe.off?0:Oe.len,Ee.off?0:Ee.ins,ze),q&&!Ee.off&&Xe(q,V,Ee.text));ze=(Oe.ins>He||Ee.ins>=0&&Ee.len>He)&&(ze||V.length>wt),Oe.forward2(He),Ee.forward(He)}}}}class _t{constructor(y){this.set=y,this.i=0,this.next()}next(){let{sections:y}=this.set;this.i<y.length?(this.len=y[this.i++],this.ins=y[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:y}=this.set,T=this.i-2>>1;return T>=y.length?o.empty:y[T]}textBit(y){let{inserted:T}=this.set,V=this.i-2>>1;return V>=T.length&&!y?o.empty:T[V].slice(this.off,y==null?void 0:this.off+y)}forward(y){y==this.len?this.next():(this.len-=y,this.off+=y)}forward2(y){this.ins==-1?this.forward(y):y==this.ins?this.next():(this.ins-=y,this.off+=y)}}class or{constructor(y,T,V){this.from=y,this.to=T,this.flags=V}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let y=this.flags&3;return y==3?null:y}get goalColumn(){let y=this.flags>>5;return y==33554431?void 0:y}map(y,T=-1){let V,q;return this.empty?V=q=y.mapPos(this.from,T):(V=y.mapPos(this.from,1),q=y.mapPos(this.to,-1)),V==this.from&&q==this.to?this:new or(V,q,this.flags)}extend(y,T=y){if(y<=this.anchor&&T>=this.anchor)return St.range(y,T);let V=Math.abs(y-this.anchor)>Math.abs(T-this.anchor)?y:T;return St.range(this.anchor,V)}eq(y){return this.anchor==y.anchor&&this.head==y.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(y){if(!y||typeof y.anchor!="number"||typeof y.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return St.range(y.anchor,y.head)}static create(y,T,V){return new or(y,T,V)}}class St{constructor(y,T){this.ranges=y,this.mainIndex=T}map(y,T=-1){return y.empty?this:St.create(this.ranges.map(V=>V.map(y,T)),this.mainIndex)}eq(y){if(this.ranges.length!=y.ranges.length||this.mainIndex!=y.mainIndex)return!1;for(let T=0;T<this.ranges.length;T++)if(!this.ranges[T].eq(y.ranges[T]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new St([this.main],0)}addRange(y,T=!0){return St.create([y].concat(this.ranges),T?0:this.mainIndex+1)}replaceRange(y,T=this.mainIndex){let V=this.ranges.slice();return V[T]=y,St.create(V,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(y=>y.toJSON()),main:this.mainIndex}}static fromJSON(y){if(!y||!Array.isArray(y.ranges)||typeof y.main!="number"||y.main>=y.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new St(y.ranges.map(T=>or.fromJSON(T)),y.main)}static single(y,T=y){return new St([St.range(y,T)],0)}static create(y,T=0){if(y.length==0)throw new RangeError("A selection needs at least one range");for(let V=0,q=0;q<y.length;q++){let Oe=y[q];if(Oe.empty?Oe.from<=V:Oe.from<V)return St.normalized(y.slice(),T);V=Oe.to}return new St(y,T)}static cursor(y,T=0,V,q){return or.create(y,y,(T==0?0:T<0?4:8)|(V==null?3:Math.min(2,V))|(q!=null?q:33554431)<<5)}static range(y,T,V,q){let Oe=(V!=null?V:33554431)<<5|(q==null?3:Math.min(2,q));return T<y?or.create(T,y,24|Oe):or.create(y,T,(T>y?4:0)|Oe)}static normalized(y,T=0){let V=y[T];y.sort((q,Oe)=>q.from-Oe.from),T=y.indexOf(V);for(let q=1;q<y.length;q++){let Oe=y[q],Ee=y[q-1];if(Oe.empty?Oe.from<=Ee.to:Oe.from<Ee.to){let ze=Ee.from,He=Math.max(Oe.to,Ee.to);q<=T&&T--,y.splice(--q,2,Oe.anchor>Oe.head?St.range(He,ze):St.range(ze,He))}}return new St(y,T)}}function xt(Pe,y){for(let T of Pe.ranges)if(T.to>y)throw new RangeError("Selection points outside of document")}let mt=0;class Re{constructor(y,T,V,q,Oe){this.combine=y,this.compareInput=T,this.compare=V,this.isStatic=q,this.id=mt++,this.default=y([]),this.extensions=typeof Oe=="function"?Oe(this):Oe}static define(y={}){return new Re(y.combine||(T=>T),y.compareInput||((T,V)=>T===V),y.compare||(y.combine?(T,V)=>T===V:yt),!!y.static,y.enables)}of(y){return new ot([],this,0,y)}compute(y,T){if(this.isStatic)throw new Error("Can't compute a static facet");return new ot(y,this,1,T)}computeN(y,T){if(this.isStatic)throw new Error("Can't compute a static facet");return new ot(y,this,2,T)}from(y,T){return T||(T=V=>V),this.compute([y],V=>T(V.field(y)))}}function yt(Pe,y){return Pe==y||Pe.length==y.length&&Pe.every((T,V)=>T===y[V])}class ot{constructor(y,T,V,q){this.dependencies=y,this.facet=T,this.type=V,this.value=q,this.id=mt++}dynamicSlot(y){var T;let V=this.value,q=this.facet.compareInput,Oe=this.id,Ee=y[Oe]>>1,ze=this.type==2,He=!1,wt=!1,jt=[];for(let $t of this.dependencies)$t=="doc"?He=!0:$t=="selection"?wt=!0:((T=y[$t.id])!==null&&T!==void 0?T:1)&1||jt.push(y[$t.id]);return{create($t){return $t.values[Ee]=V($t),1},update($t,Cr){if(He&&Cr.docChanged||wt&&(Cr.docChanged||Cr.selection)||$e($t,jt)){let pr=V($t);if(ze?!de(pr,$t.values[Ee],q):!q(pr,$t.values[Ee]))return $t.values[Ee]=pr,1}return 0},reconfigure:($t,Cr)=>{let pr,Cn=Cr.config.address[Oe];if(Cn!=null){let Xn=Lt(Cr,Cn);if(this.dependencies.every(zn=>zn instanceof Re?Cr.facet(zn)===$t.facet(zn):zn instanceof Gt?Cr.field(zn,!1)==$t.field(zn,!1):!0)||(ze?de(pr=V($t),Xn,q):q(pr=V($t),Xn)))return $t.values[Ee]=Xn,0}else pr=V($t);return $t.values[Ee]=pr,1}}}}function de(Pe,y,T){if(Pe.length!=y.length)return!1;for(let V=0;V<Pe.length;V++)if(!T(Pe[V],y[V]))return!1;return!0}function $e(Pe,y){let T=!1;for(let V of y)Ue(Pe,V)&1&&(T=!0);return T}function lt(Pe,y,T){let V=T.map(He=>Pe[He.id]),q=T.map(He=>He.type),Oe=V.filter(He=>!(He&1)),Ee=Pe[y.id]>>1;function ze(He){let wt=[];for(let jt=0;jt<V.length;jt++){let $t=Lt(He,V[jt]);if(q[jt]==2)for(let Cr of $t)wt.push(Cr);else wt.push($t)}return y.combine(wt)}return{create(He){for(let wt of V)Ue(He,wt);return He.values[Ee]=ze(He),1},update(He,wt){if(!$e(He,Oe))return 0;let jt=ze(He);return y.compare(jt,He.values[Ee])?0:(He.values[Ee]=jt,1)},reconfigure(He,wt){let jt=$e(He,V),$t=wt.config.facets[y.id],Cr=wt.facet(y);if($t&&!jt&&yt(T,$t))return He.values[Ee]=Cr,0;let pr=ze(He);return y.compare(pr,Cr)?(He.values[Ee]=Cr,0):(He.values[Ee]=pr,1)}}}const Dt=Re.define({static:!0});class Gt{constructor(y,T,V,q,Oe){this.id=y,this.createF=T,this.updateF=V,this.compareF=q,this.spec=Oe,this.provides=void 0}static define(y){let T=new Gt(mt++,y.create,y.update,y.compare||((V,q)=>V===q),y);return y.provide&&(T.provides=y.provide(T)),T}create(y){let T=y.facet(Dt).find(V=>V.field==this);return((T==null?void 0:T.create)||this.createF)(y)}slot(y){let T=y[this.id]>>1;return{create:V=>(V.values[T]=this.create(V),1),update:(V,q)=>{let Oe=V.values[T],Ee=this.updateF(Oe,q);return this.compareF(Oe,Ee)?0:(V.values[T]=Ee,1)},reconfigure:(V,q)=>q.config.address[this.id]!=null?(V.values[T]=q.field(this),0):(V.values[T]=this.create(V),1)}}init(y){return[this,Dt.of({field:this,create:y})]}get extension(){return this}}const Pr={lowest:4,low:3,default:2,high:1,highest:0};function Ze(Pe){return y=>new Z(y,Pe)}const K={highest:Ze(Pr.highest),high:Ze(Pr.high),default:Ze(Pr.default),low:Ze(Pr.low),lowest:Ze(Pr.lowest)};class Z{constructor(y,T){this.inner=y,this.prec=T}}class Q{of(y){return new ge(this,y)}reconfigure(y){return Q.reconfigure.of({compartment:this,extension:y})}get(y){return y.config.compartments.get(this)}}class ge{constructor(y,T){this.compartment=y,this.inner=T}}class De{constructor(y,T,V,q,Oe,Ee){for(this.base=y,this.compartments=T,this.dynamicSlots=V,this.address=q,this.staticValues=Oe,this.facets=Ee,this.statusTemplate=[];this.statusTemplate.length<V.length;)this.statusTemplate.push(0)}staticFacet(y){let T=this.address[y.id];return T==null?y.default:this.staticValues[T>>1]}static resolve(y,T,V){let q=[],Oe=Object.create(null),Ee=new Map;for(let Cr of Qe(y,T,Ee))Cr instanceof Gt?q.push(Cr):(Oe[Cr.facet.id]||(Oe[Cr.facet.id]=[])).push(Cr);let ze=Object.create(null),He=[],wt=[];for(let Cr of q)ze[Cr.id]=wt.length<<1,wt.push(pr=>Cr.slot(pr));let jt=V==null?void 0:V.config.facets;for(let Cr in Oe){let pr=Oe[Cr],Cn=pr[0].facet,Xn=jt&&jt[Cr]||[];if(pr.every(zn=>zn.type==0))if(ze[Cn.id]=He.length<<1|1,yt(Xn,pr))He.push(V.facet(Cn));else{let zn=Cn.combine(pr.map(wi=>wi.value));He.push(V&&Cn.compare(zn,V.facet(Cn))?V.facet(Cn):zn)}else{for(let zn of pr)zn.type==0?(ze[zn.id]=He.length<<1|1,He.push(zn.value)):(ze[zn.id]=wt.length<<1,wt.push(wi=>zn.dynamicSlot(wi)));ze[Cn.id]=wt.length<<1,wt.push(zn=>lt(zn,Cn,pr))}}let $t=wt.map(Cr=>Cr(ze));return new De(y,Ee,$t,ze,He,Oe)}}function Qe(Pe,y,T){let V=[[],[],[],[],[]],q=new Map;function Oe(Ee,ze){let He=q.get(Ee);if(He!=null){if(He<=ze)return;let wt=V[He].indexOf(Ee);wt>-1&&V[He].splice(wt,1),Ee instanceof ge&&T.delete(Ee.compartment)}if(q.set(Ee,ze),Array.isArray(Ee))for(let wt of Ee)Oe(wt,ze);else if(Ee instanceof ge){if(T.has(Ee.compartment))throw new RangeError("Duplicate use of compartment in extensions");let wt=y.get(Ee.compartment)||Ee.inner;T.set(Ee.compartment,wt),Oe(wt,ze)}else if(Ee instanceof Z)Oe(Ee.inner,Ee.prec);else if(Ee instanceof Gt)V[ze].push(Ee),Ee.provides&&Oe(Ee.provides,ze);else if(Ee instanceof ot)V[ze].push(Ee),Ee.facet.extensions&&Oe(Ee.facet.extensions,Pr.default);else{let wt=Ee.extension;if(!wt)throw new Error(`Unrecognized extension value in extension set (${Ee}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);Oe(wt,ze)}}return Oe(Pe,Pr.default),V.reduce((Ee,ze)=>Ee.concat(ze))}function Ue(Pe,y){if(y&1)return 2;let T=y>>1,V=Pe.status[T];if(V==4)throw new Error("Cyclic dependency between fields and/or facets");if(V&2)return V;Pe.status[T]=4;let q=Pe.computeSlot(Pe,Pe.config.dynamicSlots[T]);return Pe.status[T]=2|q}function Lt(Pe,y){return y&1?Pe.config.staticValues[y>>1]:Pe.values[y>>1]}const tr=Re.define(),Kt=Re.define({combine:Pe=>Pe.some(y=>y),static:!0}),Yt=Re.define({combine:Pe=>Pe.length?Pe[0]:void 0,static:!0}),Ht=Re.define(),rt=Re.define(),Ct=Re.define(),Vt=Re.define({combine:Pe=>Pe.length?Pe[0]:!1});class hr{constructor(y,T){this.type=y,this.value=T}static define(){return new xr}}class xr{of(y){return new hr(this,y)}}class Sr{constructor(y){this.map=y}of(y){return new cr(this,y)}}class cr{constructor(y,T){this.type=y,this.value=T}map(y){let T=this.type.map(this.value,y);return T===void 0?void 0:T==this.value?this:new cr(this.type,T)}is(y){return this.type==y}static define(y={}){return new Sr(y.map||(T=>T))}static mapEffects(y,T){if(!y.length)return y;let V=[];for(let q of y){let Oe=q.map(T);Oe&&V.push(Oe)}return V}}cr.reconfigure=cr.define(),cr.appendConfig=cr.define();class Nt{constructor(y,T,V,q,Oe,Ee){this.startState=y,this.changes=T,this.selection=V,this.effects=q,this.annotations=Oe,this.scrollIntoView=Ee,this._doc=null,this._state=null,V&&xt(V,T.newLength),Oe.some(ze=>ze.type==Nt.time)||(this.annotations=Oe.concat(Nt.time.of(Date.now())))}static create(y,T,V,q,Oe,Ee){return new Nt(y,T,V,q,Oe,Ee)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(y){for(let T of this.annotations)if(T.type==y)return T.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(y){let T=this.annotation(Nt.userEvent);return!!(T&&(T==y||T.length>y.length&&T.slice(0,y.length)==y&&T[y.length]=="."))}}Nt.time=hr.define(),Nt.userEvent=hr.define(),Nt.addToHistory=hr.define(),Nt.remote=hr.define();function Lr(Pe,y){let T=[];for(let V=0,q=0;;){let Oe,Ee;if(V<Pe.length&&(q==y.length||y[q]>=Pe[V]))Oe=Pe[V++],Ee=Pe[V++];else if(q<y.length)Oe=y[q++],Ee=y[q++];else return T;!T.length||T[T.length-1]<Oe?T.push(Oe,Ee):T[T.length-1]<Ee&&(T[T.length-1]=Ee)}}function Er(Pe,y,T){var V;let q,Oe,Ee;return T?(q=y.changes,Oe=Ce.empty(y.changes.length),Ee=Pe.changes.compose(y.changes)):(q=y.changes.map(Pe.changes),Oe=Pe.changes.mapDesc(y.changes,!0),Ee=Pe.changes.compose(q)),{changes:Ee,selection:y.selection?y.selection.map(Oe):(V=Pe.selection)===null||V===void 0?void 0:V.map(q),effects:cr.mapEffects(Pe.effects,q).concat(cr.mapEffects(y.effects,Oe)),annotations:Pe.annotations.length?Pe.annotations.concat(y.annotations):y.annotations,scrollIntoView:Pe.scrollIntoView||y.scrollIntoView}}function yr(Pe,y,T){let V=y.selection,q=Ie(y.annotations);return y.userEvent&&(q=q.concat(Nt.userEvent.of(y.userEvent))),{changes:y.changes instanceof Ce?y.changes:Ce.of(y.changes||[],T,Pe.facet(Yt)),selection:V&&(V instanceof St?V:St.single(V.anchor,V.head)),effects:Ie(y.effects),annotations:q,scrollIntoView:!!y.scrollIntoView}}function Zr(Pe,y,T){let V=yr(Pe,y.length?y[0]:{},Pe.doc.length);y.length&&y[0].filter===!1&&(T=!1);for(let Oe=1;Oe<y.length;Oe++){y[Oe].filter===!1&&(T=!1);let Ee=!!y[Oe].sequential;V=Er(V,yr(Pe,y[Oe],Ee?V.changes.newLength:Pe.doc.length),Ee)}let q=Nt.create(Pe,V.changes,V.selection,V.effects,V.annotations,V.scrollIntoView);return Rr(T?Vr(q):q)}function Vr(Pe){let y=Pe.startState,T=!0;for(let q of y.facet(Ht)){let Oe=q(Pe);if(Oe===!1){T=!1;break}Array.isArray(Oe)&&(T=T===!0?Oe:Lr(T,Oe))}if(T!==!0){let q,Oe;if(T===!1)Oe=Pe.changes.invertedDesc,q=Ce.empty(y.doc.length);else{let Ee=Pe.changes.filter(T);q=Ee.changes,Oe=Ee.filtered.mapDesc(Ee.changes).invertedDesc}Pe=Nt.create(y,q,Pe.selection&&Pe.selection.map(Oe),cr.mapEffects(Pe.effects,Oe),Pe.annotations,Pe.scrollIntoView)}let V=y.facet(rt);for(let q=V.length-1;q>=0;q--){let Oe=V[q](Pe);Oe instanceof Nt?Pe=Oe:Array.isArray(Oe)&&Oe.length==1&&Oe[0]instanceof Nt?Pe=Oe[0]:Pe=Zr(y,Ie(Oe),!1)}return Pe}function Rr(Pe){let y=Pe.startState,T=y.facet(Ct),V=Pe;for(let q=T.length-1;q>=0;q--){let Oe=T[q](Pe);Oe&&Object.keys(Oe).length&&(V=Er(V,yr(y,Oe,Pe.changes.newLength),!0))}return V==Pe?Pe:Nt.create(y,Pe.changes,Pe.selection,V.effects,V.annotations,V.scrollIntoView)}const fr=[];function Ie(Pe){return Pe==null?fr:Array.isArray(Pe)?Pe:[Pe]}var Xt=function(Pe){return Pe[Pe.Word=0]="Word",Pe[Pe.Space=1]="Space",Pe[Pe.Other=2]="Other",Pe}(Xt||(Xt={}));const sr=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let ur;try{ur=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Fr(Pe){if(ur)return ur.test(Pe);for(let y=0;y<Pe.length;y++){let T=Pe[y];if(/\w/.test(T)||T>"\x80"&&(T.toUpperCase()!=T.toLowerCase()||sr.test(T)))return!0}return!1}function jr(Pe){return y=>{if(!/\S/.test(y))return Xt.Space;if(Fr(y))return Xt.Word;for(let T=0;T<Pe.length;T++)if(y.indexOf(Pe[T])>-1)return Xt.Word;return Xt.Other}}class wr{constructor(y,T,V,q,Oe,Ee){this.config=y,this.doc=T,this.selection=V,this.values=q,this.status=y.statusTemplate.slice(),this.computeSlot=Oe,Ee&&(Ee._state=this);for(let ze=0;ze<this.config.dynamicSlots.length;ze++)Ue(this,ze<<1);this.computeSlot=null}field(y,T=!0){let V=this.config.address[y.id];if(V==null){if(T)throw new RangeError("Field is not present in this state");return}return Ue(this,V),Lt(this,V)}update(...y){return Zr(this,y,!0)}applyTransaction(y){let T=this.config,{base:V,compartments:q}=T;for(let Ee of y.effects)Ee.is(Q.reconfigure)?(T&&(q=new Map,T.compartments.forEach((ze,He)=>q.set(He,ze)),T=null),q.set(Ee.value.compartment,Ee.value.extension)):Ee.is(cr.reconfigure)?(T=null,V=Ee.value):Ee.is(cr.appendConfig)&&(T=null,V=Ie(V).concat(Ee.value));let Oe;T?Oe=y.startState.values.slice():(T=De.resolve(V,q,this),Oe=new wr(T,this.doc,this.selection,T.dynamicSlots.map(()=>null),(ze,He)=>He.reconfigure(ze,this),null).values),new wr(T,y.newDoc,y.newSelection,Oe,(Ee,ze)=>ze.update(Ee,y),y)}replaceSelection(y){return typeof y=="string"&&(y=this.toText(y)),this.changeByRange(T=>({changes:{from:T.from,to:T.to,insert:y},range:St.cursor(T.from+y.length)}))}changeByRange(y){let T=this.selection,V=y(T.ranges[0]),q=this.changes(V.changes),Oe=[V.range],Ee=Ie(V.effects);for(let ze=1;ze<T.ranges.length;ze++){let He=y(T.ranges[ze]),wt=this.changes(He.changes),jt=wt.map(q);for(let Cr=0;Cr<ze;Cr++)Oe[Cr]=Oe[Cr].map(jt);let $t=q.mapDesc(wt,!0);Oe.push(He.range.map($t)),q=q.compose(jt),Ee=cr.mapEffects(Ee,jt).concat(cr.mapEffects(Ie(He.effects),$t))}return{changes:q,selection:St.create(Oe,T.mainIndex),effects:Ee}}changes(y=[]){return y instanceof Ce?y:Ce.of(y,this.doc.length,this.facet(wr.lineSeparator))}toText(y){return o.of(y.split(this.facet(wr.lineSeparator)||M))}sliceDoc(y=0,T=this.doc.length){return this.doc.sliceString(y,T,this.lineBreak)}facet(y){let T=this.config.address[y.id];return T==null?y.default:(Ue(this,T),Lt(this,T))}toJSON(y){let T={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(y)for(let V in y){let q=y[V];q instanceof Gt&&this.config.address[q.id]!=null&&(T[V]=q.spec.toJSON(this.field(y[V]),this))}return T}static fromJSON(y,T={},V){if(!y||typeof y.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let q=[];if(V){for(let Oe in V)if(Object.prototype.hasOwnProperty.call(y,Oe)){let Ee=V[Oe],ze=y[Oe];q.push(Ee.init(He=>Ee.spec.fromJSON(ze,He)))}}return wr.create({doc:y.doc,selection:St.fromJSON(y.selection),extensions:T.extensions?q.concat([T.extensions]):q})}static create(y={}){let T=De.resolve(y.extensions||[],new Map),V=y.doc instanceof o?y.doc:o.of((y.doc||"").split(T.staticFacet(wr.lineSeparator)||M)),q=y.selection?y.selection instanceof St?y.selection:St.single(y.selection.anchor,y.selection.head):St.single(0);return xt(q,V.length),T.staticFacet(Kt)||(q=q.asSingle()),new wr(T,V,q,T.dynamicSlots.map(()=>null),(Oe,Ee)=>Ee.create(Oe),null)}get tabSize(){return this.facet(wr.tabSize)}get lineBreak(){return this.facet(wr.lineSeparator)||`
`}get readOnly(){return this.facet(Vt)}phrase(y,...T){for(let V of this.facet(wr.phrases))if(Object.prototype.hasOwnProperty.call(V,y)){y=V[y];break}return T.length&&(y=y.replace(/\$(\$|\d*)/g,(V,q)=>{if(q=="$")return"$";let Oe=+(q||1);return!Oe||Oe>T.length?V:T[Oe-1]})),y}languageDataAt(y,T,V=-1){let q=[];for(let Oe of this.facet(tr))for(let Ee of Oe(this,T,V))Object.prototype.hasOwnProperty.call(Ee,y)&&q.push(Ee[y]);return q}charCategorizer(y){return jr(this.languageDataAt("wordChars",y).join(""))}wordAt(y){let{text:T,from:V,length:q}=this.doc.lineAt(y),Oe=this.charCategorizer(y),Ee=y-V,ze=y-V;for(;Ee>0;){let He=ye(T,Ee,!1);if(Oe(T.slice(He,Ee))!=Xt.Word)break;Ee=He}for(;ze<q;){let He=ye(T,ze);if(Oe(T.slice(ze,He))!=Xt.Word)break;ze=He}return Ee==ze?null:St.range(Ee+V,ze+V)}}wr.allowMultipleSelections=Kt,wr.tabSize=Re.define({combine:Pe=>Pe.length?Pe[0]:4}),wr.lineSeparator=Yt,wr.readOnly=Vt,wr.phrases=Re.define({compare(Pe,y){let T=Object.keys(Pe),V=Object.keys(y);return T.length==V.length&&T.every(q=>Pe[q]==y[q])}}),wr.languageData=tr,wr.changeFilter=Ht,wr.transactionFilter=rt,wr.transactionExtender=Ct,Q.reconfigure=cr.define();function Tr(Pe,y,T={}){let V={};for(let q of Pe)for(let Oe of Object.keys(q)){let Ee=q[Oe],ze=V[Oe];if(ze===void 0)V[Oe]=Ee;else if(!(ze===Ee||Ee===void 0))if(Object.hasOwnProperty.call(T,Oe))V[Oe]=T[Oe](ze,Ee);else throw new Error("Config merge conflict for field "+Oe)}for(let q in y)V[q]===void 0&&(V[q]=y[q]);return V}class _r{eq(y){return this==y}range(y,T=y){return $r.create(y,T,this)}}_r.prototype.startSide=_r.prototype.endSide=0,_r.prototype.point=!1,_r.prototype.mapMode=xe.TrackDel;class $r{constructor(y,T,V){this.from=y,this.to=T,this.value=V}static create(y,T,V){return new $r(y,T,V)}}function en(Pe,y){return Pe.from-y.from||Pe.value.startSide-y.value.startSide}class hn{constructor(y,T,V,q){this.from=y,this.to=T,this.value=V,this.maxPoint=q}get length(){return this.to[this.to.length-1]}findIndex(y,T,V,q=0){let Oe=V?this.to:this.from;for(let Ee=q,ze=Oe.length;;){if(Ee==ze)return Ee;let He=Ee+ze>>1,wt=Oe[He]-y||(V?this.value[He].endSide:this.value[He].startSide)-T;if(He==Ee)return wt>=0?Ee:ze;wt>=0?ze=He:Ee=He+1}}between(y,T,V,q){for(let Oe=this.findIndex(T,-1e9,!0),Ee=this.findIndex(V,1e9,!1,Oe);Oe<Ee;Oe++)if(q(this.from[Oe]+y,this.to[Oe]+y,this.value[Oe])===!1)return!1}map(y,T){let V=[],q=[],Oe=[],Ee=-1,ze=-1;for(let He=0;He<this.value.length;He++){let wt=this.value[He],jt=this.from[He]+y,$t=this.to[He]+y,Cr,pr;if(jt==$t){let Cn=T.mapPos(jt,wt.startSide,wt.mapMode);if(Cn==null||(Cr=pr=Cn,wt.startSide!=wt.endSide&&(pr=T.mapPos(jt,wt.endSide),pr<Cr)))continue}else if(Cr=T.mapPos(jt,wt.startSide),pr=T.mapPos($t,wt.endSide),Cr>pr||Cr==pr&&wt.startSide>0&&wt.endSide<=0)continue;(pr-Cr||wt.endSide-wt.startSide)<0||(Ee<0&&(Ee=Cr),wt.point&&(ze=Math.max(ze,pr-Cr)),V.push(wt),q.push(Cr-Ee),Oe.push(pr-Ee))}return{mapped:V.length?new hn(q,Oe,V,ze):null,pos:Ee}}}class Nr{constructor(y,T,V,q){this.chunkPos=y,this.chunk=T,this.nextLayer=V,this.maxPoint=q}static create(y,T,V,q){return new Nr(y,T,V,q)}get length(){let y=this.chunk.length-1;return y<0?0:Math.max(this.chunkEnd(y),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let y=this.nextLayer.size;for(let T of this.chunk)y+=T.value.length;return y}chunkEnd(y){return this.chunkPos[y]+this.chunk[y].length}update(y){let{add:T=[],sort:V=!1,filterFrom:q=0,filterTo:Oe=this.length}=y,Ee=y.filter;if(T.length==0&&!Ee)return this;if(V&&(T=T.slice().sort(en)),this.isEmpty)return T.length?Nr.of(T):this;let ze=new yn(this,null,-1).goto(0),He=0,wt=[],jt=new gn;for(;ze.value||He<T.length;)if(He<T.length&&(ze.from-T[He].from||ze.startSide-T[He].value.startSide)>=0){let $t=T[He++];jt.addInner($t.from,$t.to,$t.value)||wt.push($t)}else ze.rangeIndex==1&&ze.chunkIndex<this.chunk.length&&(He==T.length||this.chunkEnd(ze.chunkIndex)<T[He].from)&&(!Ee||q>this.chunkEnd(ze.chunkIndex)||Oe<this.chunkPos[ze.chunkIndex])&&jt.addChunk(this.chunkPos[ze.chunkIndex],this.chunk[ze.chunkIndex])?ze.nextChunk():((!Ee||q>ze.to||Oe<ze.from||Ee(ze.from,ze.to,ze.value))&&(jt.addInner(ze.from,ze.to,ze.value)||wt.push($r.create(ze.from,ze.to,ze.value))),ze.next());return jt.finishInner(this.nextLayer.isEmpty&&!wt.length?Nr.empty:this.nextLayer.update({add:wt,filter:Ee,filterFrom:q,filterTo:Oe}))}map(y){if(y.empty||this.isEmpty)return this;let T=[],V=[],q=-1;for(let Ee=0;Ee<this.chunk.length;Ee++){let ze=this.chunkPos[Ee],He=this.chunk[Ee],wt=y.touchesRange(ze,ze+He.length);if(wt===!1)q=Math.max(q,He.maxPoint),T.push(He),V.push(y.mapPos(ze));else if(wt===!0){let{mapped:jt,pos:$t}=He.map(ze,y);jt&&(q=Math.max(q,jt.maxPoint),T.push(jt),V.push($t))}}let Oe=this.nextLayer.map(y);return T.length==0?Oe:new Nr(V,T,Oe||Nr.empty,q)}between(y,T,V){if(!this.isEmpty){for(let q=0;q<this.chunk.length;q++){let Oe=this.chunkPos[q],Ee=this.chunk[q];if(T>=Oe&&y<=Oe+Ee.length&&Ee.between(Oe,y-Oe,T-Oe,V)===!1)return}this.nextLayer.between(y,T,V)}}iter(y=0){return dn.from([this]).goto(y)}get isEmpty(){return this.nextLayer==this}static iter(y,T=0){return dn.from(y).goto(T)}static compare(y,T,V,q,Oe=-1){let Ee=y.filter($t=>$t.maxPoint>0||!$t.isEmpty&&$t.maxPoint>=Oe),ze=T.filter($t=>$t.maxPoint>0||!$t.isEmpty&&$t.maxPoint>=Oe),He=Sn(Ee,ze,V),wt=new tn(Ee,He,Oe),jt=new tn(ze,He,Oe);V.iterGaps(($t,Cr,pr)=>_n(wt,$t,jt,Cr,pr,q)),V.empty&&V.length==0&&_n(wt,0,jt,0,0,q)}static eq(y,T,V=0,q){q==null&&(q=1e9-1);let Oe=y.filter(jt=>!jt.isEmpty&&T.indexOf(jt)<0),Ee=T.filter(jt=>!jt.isEmpty&&y.indexOf(jt)<0);if(Oe.length!=Ee.length)return!1;if(!Oe.length)return!0;let ze=Sn(Oe,Ee),He=new tn(Oe,ze,0).goto(V),wt=new tn(Ee,ze,0).goto(V);for(;;){if(He.to!=wt.to||!an(He.active,wt.active)||He.point&&(!wt.point||!He.point.eq(wt.point)))return!1;if(He.to>q)return!0;He.next(),wt.next()}}static spans(y,T,V,q,Oe=-1){let Ee=new tn(y,null,Oe).goto(T),ze=T,He=Ee.openStart;for(;;){let wt=Math.min(Ee.to,V);if(Ee.point){let jt=Ee.activeForPoint(Ee.to),$t=Ee.pointFrom<T?jt.length+1:Math.min(jt.length,He);q.point(ze,wt,Ee.point,jt,$t,Ee.pointRank),He=Math.min(Ee.openEnd(wt),jt.length)}else wt>ze&&(q.span(ze,wt,Ee.active,He),He=Ee.openEnd(wt));if(Ee.to>V)return He+(Ee.point&&Ee.to>V?1:0);ze=Ee.to,Ee.next()}}static of(y,T=!1){let V=new gn;for(let q of y instanceof $r?[y]:T?cn(y):y)V.add(q.from,q.to,q.value);return V.finish()}}Nr.empty=new Nr([],[],null,-1);function cn(Pe){if(Pe.length>1)for(let y=Pe[0],T=1;T<Pe.length;T++){let V=Pe[T];if(en(y,V)>0)return Pe.slice().sort(en);y=V}return Pe}Nr.empty.nextLayer=Nr.empty;class gn{finishChunk(y){this.chunks.push(new hn(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,y&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(y,T,V){this.addInner(y,T,V)||(this.nextLayer||(this.nextLayer=new gn)).add(y,T,V)}addInner(y,T,V){let q=y-this.lastTo||V.startSide-this.last.endSide;if(q<=0&&(y-this.lastFrom||V.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return q<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=y),this.from.push(y-this.chunkStart),this.to.push(T-this.chunkStart),this.last=V,this.lastFrom=y,this.lastTo=T,this.value.push(V),V.point&&(this.maxPoint=Math.max(this.maxPoint,T-y)),!0)}addChunk(y,T){if((y-this.lastTo||T.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,T.maxPoint),this.chunks.push(T),this.chunkPos.push(y);let V=T.value.length-1;return this.last=T.value[V],this.lastFrom=T.from[V]+y,this.lastTo=T.to[V]+y,!0}finish(){return this.finishInner(Nr.empty)}finishInner(y){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return y;let T=Nr.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(y):y,this.setMaxPoint);return this.from=null,T}}function Sn(Pe,y,T){let V=new Map;for(let Oe of Pe)for(let Ee=0;Ee<Oe.chunk.length;Ee++)Oe.chunk[Ee].maxPoint<=0&&V.set(Oe.chunk[Ee],Oe.chunkPos[Ee]);let q=new Set;for(let Oe of y)for(let Ee=0;Ee<Oe.chunk.length;Ee++){let ze=V.get(Oe.chunk[Ee]);ze!=null&&(T?T.mapPos(ze):ze)==Oe.chunkPos[Ee]&&!(T!=null&&T.touchesRange(ze,ze+Oe.chunk[Ee].length))&&q.add(Oe.chunk[Ee])}return q}class yn{constructor(y,T,V,q=0){this.layer=y,this.skip=T,this.minPoint=V,this.rank=q}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(y,T=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(y,T,!1),this}gotoInner(y,T,V){for(;this.chunkIndex<this.layer.chunk.length;){let q=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(q)||this.layer.chunkEnd(this.chunkIndex)<y||q.maxPoint<this.minPoint))break;this.chunkIndex++,V=!1}if(this.chunkIndex<this.layer.chunk.length){let q=this.layer.chunk[this.chunkIndex].findIndex(y-this.layer.chunkPos[this.chunkIndex],T,!0);(!V||this.rangeIndex<q)&&this.setRangeIndex(q)}this.next()}forward(y,T){(this.to-y||this.endSide-T)<0&&this.gotoInner(y,T,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let y=this.layer.chunkPos[this.chunkIndex],T=this.layer.chunk[this.chunkIndex],V=y+T.from[this.rangeIndex];if(this.from=V,this.to=y+T.to[this.rangeIndex],this.value=T.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(y){if(y==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=y}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(y){return this.from-y.from||this.startSide-y.startSide||this.rank-y.rank||this.to-y.to||this.endSide-y.endSide}}class dn{constructor(y){this.heap=y}static from(y,T=null,V=-1){let q=[];for(let Oe=0;Oe<y.length;Oe++)for(let Ee=y[Oe];!Ee.isEmpty;Ee=Ee.nextLayer)Ee.maxPoint>=V&&q.push(new yn(Ee,T,V,Oe));return q.length==1?q[0]:new dn(q)}get startSide(){return this.value?this.value.startSide:0}goto(y,T=-1e9){for(let V of this.heap)V.goto(y,T);for(let V=this.heap.length>>1;V>=0;V--)vn(this.heap,V);return this.next(),this}forward(y,T){for(let V of this.heap)V.forward(y,T);for(let V=this.heap.length>>1;V>=0;V--)vn(this.heap,V);(this.to-y||this.value.endSide-T)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let y=this.heap[0];this.from=y.from,this.to=y.to,this.value=y.value,this.rank=y.rank,y.value&&y.next(),vn(this.heap,0)}}}function vn(Pe,y){for(let T=Pe[y];;){let V=(y<<1)+1;if(V>=Pe.length)break;let q=Pe[V];if(V+1<Pe.length&&q.compare(Pe[V+1])>=0&&(q=Pe[V+1],V++),T.compare(q)<0)break;Pe[V]=T,Pe[y]=q,y=V}}class tn{constructor(y,T,V){this.minPoint=V,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=dn.from(y,T,V)}goto(y,T=-1e9){return this.cursor.goto(y,T),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=y,this.endSide=T,this.openStart=-1,this.next(),this}forward(y,T){for(;this.minActive>-1&&(this.activeTo[this.minActive]-y||this.active[this.minActive].endSide-T)<0;)this.removeActive(this.minActive);this.cursor.forward(y,T)}removeActive(y){rn(this.active,y),rn(this.activeTo,y),rn(this.activeRank,y),this.minActive=Kn(this.active,this.activeTo)}addActive(y){let T=0,{value:V,to:q,rank:Oe}=this.cursor;for(;T<this.activeRank.length&&this.activeRank[T]<=Oe;)T++;mn(this.active,T,V),mn(this.activeTo,T,q),mn(this.activeRank,T,Oe),y&&mn(y,T,this.cursor.from),this.minActive=Kn(this.active,this.activeTo)}next(){let y=this.to,T=this.point;this.point=null;let V=this.openStart<0?[]:null;for(;;){let q=this.minActive;if(q>-1&&(this.activeTo[q]-this.cursor.from||this.active[q].endSide-this.cursor.startSide)<0){if(this.activeTo[q]>y){this.to=this.activeTo[q],this.endSide=this.active[q].endSide;break}this.removeActive(q),V&&rn(V,q)}else if(this.cursor.value)if(this.cursor.from>y){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let Oe=this.cursor.value;if(!Oe.point)this.addActive(V),this.cursor.next();else if(T&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=Oe,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=Oe.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(V){this.openStart=0;for(let q=V.length-1;q>=0&&V[q]<y;q--)this.openStart++}}activeForPoint(y){if(!this.active.length)return this.active;let T=[];for(let V=this.active.length-1;V>=0&&!(this.activeRank[V]<this.pointRank);V--)(this.activeTo[V]>y||this.activeTo[V]==y&&this.active[V].endSide>=this.point.endSide)&&T.push(this.active[V]);return T.reverse()}openEnd(y){let T=0;for(let V=this.activeTo.length-1;V>=0&&this.activeTo[V]>y;V--)T++;return T}}function _n(Pe,y,T,V,q,Oe){Pe.goto(y),T.goto(V);let Ee=V+q,ze=V,He=V-y;for(;;){let wt=Pe.to+He-T.to||Pe.endSide-T.endSide,jt=wt<0?Pe.to+He:T.to,$t=Math.min(jt,Ee);if(Pe.point||T.point?Pe.point&&T.point&&(Pe.point==T.point||Pe.point.eq(T.point))&&an(Pe.activeForPoint(Pe.to),T.activeForPoint(T.to))||Oe.comparePoint(ze,$t,Pe.point,T.point):$t>ze&&!an(Pe.active,T.active)&&Oe.compareRange(ze,$t,Pe.active,T.active),jt>Ee)break;ze=jt,wt<=0&&Pe.next(),wt>=0&&T.next()}}function an(Pe,y){if(Pe.length!=y.length)return!1;for(let T=0;T<Pe.length;T++)if(Pe[T]!=y[T]&&!Pe[T].eq(y[T]))return!1;return!0}function rn(Pe,y){for(let T=y,V=Pe.length-1;T<V;T++)Pe[T]=Pe[T+1];Pe.pop()}function mn(Pe,y,T){for(let V=Pe.length-1;V>=y;V--)Pe[V+1]=Pe[V];Pe[y]=T}function Kn(Pe,y){let T=-1,V=1e9;for(let q=0;q<y.length;q++)(y[q]-V||Pe[q].endSide-Pe[T].endSide)<0&&(T=q,V=y[q]);return T}function hi(Pe,y,T=Pe.length){let V=0;for(let q=0;q<T;)Pe.charCodeAt(q)==9?(V+=y-V%y,q++):(V++,q=ye(Pe,q));return V}function Ri(Pe,y,T,V){for(let q=0,Oe=0;;){if(Oe>=y)return q;if(q==Pe.length)break;Oe+=Pe.charCodeAt(q)==9?T-Oe%T:1,q=ye(Pe,q)}return V===!0?-1:Pe.length}},65329:function(Te,b,a){"use strict";a.d(b,{p:function(){return Ie},Nm:function(){return $t},tk:function(){return Nn},SJ:function(){return Ei},lg:function(){return Pe},l9:function(){return Rr},S2:function(){return Ia},Uw:function(){return Ls},qr:function(){return aa},Sd:function(){return Si},gB:function(){return Ar},v5:function(){return qs},ZO:function(){return Ka},HQ:function(){return he},AE:function(){return Ho},bF:function(){return vr},$f:function(){return hs},Eu:function(){return h},OO:function(){return mn},W$:function(){return ys},Zs:function(){return ua},$1:function(){return Va},mH:function(){return Vn},hJ:function(){return we}});for(var o=a(1727),m=a(37207),I={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},O={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},_=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),D=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),N=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),R=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),$=N||_&&+_[1]<57,z=0;z<10;z++)I[48+z]=I[96+z]=String(z);for(var z=1;z<=24;z++)I[z+111]="F"+z;for(var z=65;z<=90;z++)I[z]=String.fromCharCode(z+32),O[z]=String.fromCharCode(z);for(var J in I)O.hasOwnProperty(J)||(O[J]=I[J]);function ee(l){var e=$&&(l.ctrlKey||l.altKey||l.metaKey)||R&&l.shiftKey&&l.key&&l.key.length==1||l.key=="Unidentified",t=!e&&l.key||(l.shiftKey?O:I)[l.keyCode]||l.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function re(l){let e;return l.nodeType==11?e=l.getSelection?l:l.ownerDocument:e=l,e.getSelection()}function oe(l,e){return e?l==e||l.contains(e.nodeType!=1?e.parentNode:e):!1}function ye(l){let e=l.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function F(l,e){if(!e.anchorNode)return!1;try{return oe(l,e.anchorNode)}catch{return!1}}function G(l){return l.nodeType==3?st(l,0,l.nodeValue.length).getClientRects():l.nodeType==1?l.getClientRects():[]}function Se(l,e,t,i){return t?fe(l,e,t,i,-1)||fe(l,e,t,i,1):!1}function se(l){for(var e=0;;e++)if(l=l.previousSibling,!l)return e}function fe(l,e,t,i,c){for(;;){if(l==t&&e==i)return!0;if(e==(c<0?0:be(l))){if(l.nodeName=="DIV")return!1;let v=l.parentNode;if(!v||v.nodeType!=1)return!1;e=se(l)+(c<0?0:1),l=v}else if(l.nodeType==1){if(l=l.childNodes[e+(c<0?-1:0)],l.nodeType==1&&l.contentEditable=="false")return!1;e=c<0?be(l):0}else return!1}}function be(l){return l.nodeType==3?l.nodeValue.length:l.childNodes.length}function te(l,e){let t=e?l.left:l.right;return{left:t,right:t,top:l.top,bottom:l.bottom}}function M(l){return{left:0,right:l.innerWidth,top:0,bottom:l.innerHeight}}function xe(l,e,t,i,c,v,A,W){let X=l.ownerDocument,me=X.defaultView||window;for(let ue=l;ue;)if(ue.nodeType==1){let je,ct=ue==X.body;if(ct)je=M(me);else{if(ue.scrollHeight<=ue.clientHeight&&ue.scrollWidth<=ue.clientWidth){ue=ue.assignedSlot||ue.parentNode;continue}let Ot=ue.getBoundingClientRect();je={left:Ot.left,right:Ot.left+ue.clientWidth,top:Ot.top,bottom:Ot.top+ue.clientHeight}}let vt=0,Ft=0;if(c=="nearest")e.top<je.top?(Ft=-(je.top-e.top+A),t>0&&e.bottom>je.bottom+Ft&&(Ft=e.bottom-je.bottom+Ft+A)):e.bottom>je.bottom&&(Ft=e.bottom-je.bottom+A,t<0&&e.top-Ft<je.top&&(Ft=-(je.top+Ft-e.top+A)));else{let Ot=e.bottom-e.top,Bt=je.bottom-je.top;Ft=(c=="center"&&Ot<=Bt?e.top+Ot/2-Bt/2:c=="start"||c=="center"&&t<0?e.top-A:e.bottom-Bt+A)-je.top}if(i=="nearest"?e.left<je.left?(vt=-(je.left-e.left+v),t>0&&e.right>je.right+vt&&(vt=e.right-je.right+vt+v)):e.right>je.right&&(vt=e.right-je.right+v,t<0&&e.left<je.left+vt&&(vt=-(je.left+vt-e.left+v))):vt=(i=="center"?e.left+(e.right-e.left)/2-(je.right-je.left)/2:i=="start"==W?e.left-v:e.right-(je.right-je.left)+v)-je.left,vt||Ft)if(ct)me.scrollBy(vt,Ft);else{let Ot=0,Bt=0;if(Ft){let Qt=ue.scrollTop;ue.scrollTop+=Ft,Bt=ue.scrollTop-Qt}if(vt){let Qt=ue.scrollLeft;ue.scrollLeft+=vt,Ot=ue.scrollLeft-Qt}e={left:e.left-Ot,top:e.top-Bt,right:e.right-Ot,bottom:e.bottom-Bt},Ot&&Math.abs(Ot-vt)<1&&(i="nearest"),Bt&&Math.abs(Bt-Ft)<1&&(c="nearest")}if(ct)break;ue=ue.assignedSlot||ue.parentNode}else if(ue.nodeType==11)ue=ue.host;else break}function Le(l){let e=l.ownerDocument;for(let t=l.parentNode;t&&t!=e.body;)if(t.nodeType==1){if(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)return t;t=t.assignedSlot||t.parentNode}else if(t.nodeType==11)t=t.host;else break;return null}class Ce{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?be(t):0),i,Math.min(e.focusOffset,i?be(i):0))}set(e,t,i,c){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=c}}let Ke=null;function Xe(l){if(l.setActive)return l.setActive();if(Ke)return l.focus(Ke);let e=[];for(let t=l;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(l.focus(Ke==null?{get preventScroll(){return Ke={preventScroll:!0},!0}}:void 0),!Ke){Ke=!1;for(let t=0;t<e.length;){let i=e[t++],c=e[t++],v=e[t++];i.scrollTop!=c&&(i.scrollTop=c),i.scrollLeft!=v&&(i.scrollLeft=v)}}}let dt;function st(l,e,t=e){let i=dt||(dt=document.createRange());return i.setEnd(l,t),i.setStart(l,e),i}function Ge(l,e,t){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0},c=new KeyboardEvent("keydown",i);c.synthetic=!0,l.dispatchEvent(c);let v=new KeyboardEvent("keyup",i);return v.synthetic=!0,l.dispatchEvent(v),c.defaultPrevented||v.defaultPrevented}function _t(l){for(;l;){if(l&&(l.nodeType==9||l.nodeType==11&&l.host))return l;l=l.assignedSlot||l.parentNode}return null}function or(l){for(;l.attributes.length;)l.removeAttributeNode(l.attributes[0])}function St(l,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(i=Math.min(i,be(t));;)if(i){if(t.nodeType!=1)return!1;let c=t.childNodes[i-1];c.contentEditable=="false"?i--:(t=c,i=be(t))}else{if(t==l)return!0;i=se(t),t=t.parentNode}}class xt{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new xt(e.parentNode,se(e),t)}static after(e,t){return new xt(e.parentNode,se(e)+1,t)}}const mt=[];class Re{constructor(){this.parent=null,this.dom=null,this.dirty=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.dirty&2){let i=this.dom,c=null,v;for(let A of this.children){if(A.dirty){if(!A.dom&&(v=c?c.nextSibling:i.firstChild)){let W=Re.get(v);(!W||!W.parent&&W.canReuseDOM(A))&&A.reuseDOM(v)}A.sync(e,t),A.dirty=0}if(v=c?c.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&v!=A.dom&&(t.written=!0),A.dom.parentNode==i)for(;v&&v!=A.dom;)v=yt(v);else i.insertBefore(A.dom,v);c=A.dom}for(v=c?c.nextSibling:i.firstChild,v&&t&&t.node==i&&(t.written=!0);v;)v=yt(v)}else if(this.dirty&1)for(let i of this.children)i.dirty&&(i.sync(e,t),i.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let c=be(e)==0?0:t==0?-1:1;for(;;){let v=e.parentNode;if(v==this.dom)break;c==0&&v.firstChild!=v.lastChild&&(e==v.firstChild?c=-1:c=1),e=v}c<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!Re.get(i);)i=i.nextSibling;if(!i)return this.length;for(let c=0,v=0;;c++){let A=this.children[c];if(A.dom==i)return v;v+=A.length+A.breakAfter}}domBoundsAround(e,t,i=0){let c=-1,v=-1,A=-1,W=-1;for(let X=0,me=i,ue=i;X<this.children.length;X++){let je=this.children[X],ct=me+je.length;if(me<e&&ct>t)return je.domBoundsAround(e,t,me);if(ct>=e&&c==-1&&(c=X,v=me),me>t&&je.dom.parentNode==this.dom){A=X,W=ue;break}ue=ct,me=ct+je.breakAfter}return{from:v,to:W<0?i+this.length:W,startDOM:(c?this.children[c-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:A<this.children.length&&A>=0?this.children[A].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),t.dirty&1)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=mt){this.markDirty();for(let c=e;c<t;c++){let v=this.children[c];v.parent==this&&v.destroy()}this.children.splice(e,t-e,...i);for(let c=0;c<i.length;c++)i[c].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new ot(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,i,c,v,A){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}Re.prototype.breakAfter=0;function yt(l){let e=l.nextSibling;return l.parentNode.removeChild(l),e}class ot{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function de(l,e,t,i,c,v,A,W,X){let{children:me}=l,ue=me.length?me[e]:null,je=v.length?v[v.length-1]:null,ct=je?je.breakAfter:A;if(!(e==i&&ue&&!A&&!ct&&v.length<2&&ue.merge(t,c,v.length?je:null,t==0,W,X))){if(i<me.length){let vt=me[i];vt&&c<vt.length?(e==i&&(vt=vt.split(c),c=0),!ct&&je&&vt.merge(0,c,je,!0,0,X)?v[v.length-1]=vt:(c&&vt.merge(0,c,null,!1,0,X),v.push(vt))):vt!=null&&vt.breakAfter&&(je?je.breakAfter=1:A=1),i++}for(ue&&(ue.breakAfter=A,t>0&&(!A&&v.length&&ue.merge(t,ue.length,v[0],!1,W,0)?ue.breakAfter=v.shift().breakAfter:(t<ue.length||ue.children.length&&ue.children[ue.children.length-1].length==0)&&ue.merge(t,ue.length,null,!1,W,0),e++));e<i&&v.length;)if(me[i-1].become(v[v.length-1]))i--,v.pop(),X=v.length?0:W;else if(me[e].become(v[0]))e++,v.shift(),W=v.length?0:X;else break;!v.length&&e&&i<me.length&&!me[e-1].breakAfter&&me[i].merge(0,0,me[e-1],!1,W,X)&&e--,(e<i||v.length)&&l.replaceChildren(e,i,v)}}function $e(l,e,t,i,c,v){let A=l.childCursor(),{i:W,off:X}=A.findPos(t,1),{i:me,off:ue}=A.findPos(e,-1),je=e-t;for(let ct of i)je+=ct.length;l.length+=je,de(l,me,ue,W,X,i,0,c,v)}let lt=typeof navigator!="undefined"?navigator:{userAgent:"",vendor:"",platform:""},Dt=typeof document!="undefined"?document:{documentElement:{style:{}}};const Gt=/Edge\/(\d+)/.exec(lt.userAgent),Pr=/MSIE \d/.test(lt.userAgent),Ze=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(lt.userAgent),K=!!(Pr||Ze||Gt),Z=!K&&/gecko\/(\d+)/i.test(lt.userAgent),Q=!K&&/Chrome\/(\d+)/.exec(lt.userAgent),ge="webkitFontSmoothing"in Dt.documentElement.style,De=!K&&/Apple Computer/.test(lt.vendor),Qe=De&&(/Mobile\/\w+/.test(lt.userAgent)||lt.maxTouchPoints>2);var Ue={mac:Qe||/Mac/.test(lt.platform),windows:/Win/.test(lt.platform),linux:/Linux|X11/.test(lt.platform),ie:K,ie_version:Pr?Dt.documentMode||6:Ze?+Ze[1]:Gt?+Gt[1]:0,gecko:Z,gecko_version:Z?+(/Firefox\/(\d+)/.exec(lt.userAgent)||[0,0])[1]:0,chrome:!!Q,chrome_version:Q?+Q[1]:0,ios:Qe,android:/Android\b/.test(lt.userAgent),webkit:ge,safari:De,webkit_version:ge?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:Dt.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const Lt=256;class tr extends Re{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return i&&(!(i instanceof tr)||this.length-(t-e)+i.length>Lt)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new tr(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new xt(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return Yt(this.dom,e,t)}}class Kt extends Re{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let c of t)c.setParent(this)}setAttrs(e){if(or(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e,t){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,i,c,v,A){return i&&(!(i instanceof Kt&&i.mark.eq(this.mark))||e&&v<=0||t<this.length&&A<=0)?!1:($e(this,e,t,i?i.children:[],v-1,A-1),this.markDirty(),!0)}split(e){let t=[],i=0,c=-1,v=0;for(let W of this.children){let X=i+W.length;X>e&&t.push(i<e?W.split(e-i):W),c<0&&i>=e&&(c=v),i=X,v++}let A=this.length-e;return this.length=e,c>-1&&(this.children.length=c,this.markDirty()),new Kt(this.mark,t,A)}domAtPos(e){return cr(this,e)}coordsAt(e,t){return Lr(this,e,t)}}function Yt(l,e,t){let i=l.nodeValue.length;e>i&&(e=i);let c=e,v=e,A=0;e==0&&t<0||e==i&&t>=0?Ue.chrome||Ue.gecko||(e?(c--,A=1):v<i&&(v++,A=-1)):t<0?c--:v<i&&v++;let W=st(l,c,v).getClientRects();if(!W.length)return null;let X=W[(A?A<0:t>=0)?0:W.length-1];return Ue.safari&&!A&&X.width==0&&(X=Array.prototype.find.call(W,me=>me.width)||X),A?te(X,A<0):X||null}class Ht extends Re{static create(e,t,i){return new(e.customView||Ht)(e,t,i)}constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}split(e){let t=Ht.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,i,c,v,A){return i&&(!(i instanceof Ht)||!this.widget.compare(i.widget)||e>0&&v<=0||t<this.length&&A<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e instanceof Ht&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return o.xv.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,i=t&&t.state.doc,c=this.posAtStart;return i?i.slice(c,c+this.length):o.xv.empty}domAtPos(e){return(this.length?e==0:this.side>0)?xt.before(this.dom):xt.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);if(i)return i;let c=this.dom.getClientRects(),v=null;if(!c.length)return null;for(let A=e>0?c.length-1:0;v=c[A],!(e>0?A==0:A==c.length-1||v.top<v.bottom);A+=e>0?-1:1);return this.length?v:te(v,this.side>0)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class rt extends Ht{domAtPos(e){let{topView:t,text:i}=this.widget;return t?Ct(e,0,t,i,this.length-t.length,(c,v)=>c.domAtPos(v),(c,v)=>new xt(c,Math.min(v,c.nodeValue.length))):new xt(i,Math.min(e,i.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:i,text:c}=this.widget;return i?hr(e,t,i,c,this.length-i.length):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:i,text:c}=this.widget;return i?Ct(e,t,i,c,this.length-i.length,(v,A,W)=>v.coordsAt(A,W),(v,A,W)=>Yt(v,A,W)):Yt(c,e,t)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function Ct(l,e,t,i,c,v,A){if(t instanceof Kt){for(let W=t.dom.firstChild;W;W=W.nextSibling){let X=Re.get(W);if(X){let me=oe(W,i),ue=X.length+(me?c:0);if(l<ue||l==ue&&X.getSide()<=0)return me?Ct(l,e,X,i,c,v,A):v(X,l,e);l-=ue}else{let me=Vt(l,e,W,A);if(typeof me!="number")return me;l=me}}return v(t,t.length,-1)}else return t.dom==i?A(i,l,e):v(t,l,e)}function Vt(l,e,t,i){if(t.nodeType==3){let c=t.nodeValue.length;if(l<=c)return i(t,l,e);l-=c}else if(t.nodeType==1&&t.contentEditable!="false")for(let c=t.firstChild;c;c=c.nextSibling){let v=Vt(l,e,c,i);if(typeof v!="number")return v;l=v}return l}function hr(l,e,t,i,c){if(t instanceof Kt){let v=0;for(let A=t.dom.firstChild;A;A=A.nextSibling){let W=Re.get(A);if(W){let X=oe(A,i);if(oe(A,l))return v+(X?hr(l,e,W,i,c):W.localPosFromDOM(l,e));v+=W.length+(X?c:0)}else{let X=xr(l,e,A);if(X.result!=null)return v+X.result;v+=X.size}}}else if(t.dom==i)return Math.min(e,i.nodeValue.length);return t.localPosFromDOM(l,e)}function xr(l,e,t){if(t.nodeType==3)return l==t?{result:e}:{size:t.nodeValue.length};if(t.nodeType==1&&t.contentEditable!="false"){let i=0;for(let c=t.firstChild,v=0;;c=c.nextSibling,v++){if(l==t&&v==e)return{result:i};if(!c)return{size:i};let A=xr(l,e,c);if(A.result!=null)return{result:e+A.result};i+=A.size}}else return t.contains(l)?{result:0}:{size:0}}class Sr extends Re{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Sr&&e.side==this.side}split(){return new Sr(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?xt.before(this.dom):xt.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return o.xv.empty}get isHidden(){return!0}}tr.prototype.children=Ht.prototype.children=Sr.prototype.children=mt;function cr(l,e){let t=l.dom,{children:i}=l,c=0;for(let v=0;c<i.length;c++){let A=i[c],W=v+A.length;if(!(W==v&&A.getSide()<=0)){if(e>v&&e<W&&A.dom.parentNode==t)return A.domAtPos(e-v);if(e<=v)break;v=W}}for(let v=c;v>0;v--){let A=i[v-1];if(A.dom.parentNode==t)return A.domAtPos(A.length)}for(let v=c;v<i.length;v++){let A=i[v];if(A.dom.parentNode==t)return A.domAtPos(0)}return new xt(t,0)}function Nt(l,e,t){let i,{children:c}=l;t>0&&e instanceof Kt&&c.length&&(i=c[c.length-1])instanceof Kt&&i.mark.eq(e.mark)?Nt(i,e.children[0],t-1):(c.push(e),e.setParent(l)),l.length+=e.length}function Lr(l,e,t){let i=null,c=-1,v=null,A=-1;function W(me,ue){for(let je=0,ct=0;je<me.children.length&&ct<=ue;je++){let vt=me.children[je],Ft=ct+vt.length;Ft>=ue&&(vt.children.length?W(vt,ue-ct):(!v||v.isHidden&&t>0)&&(Ft>ue||ct==Ft&&vt.getSide()>0)?(v=vt,A=ue-ct):(ct<ue||ct==Ft&&vt.getSide()<0&&!vt.isHidden)&&(i=vt,c=ue-ct)),ct=Ft}}W(l,e);let X=(t<0?i:v)||i||v;return X?X.coordsAt(Math.max(0,X==i?c:A),t):Er(l)}function Er(l){let e=l.dom.lastChild;if(!e)return l.dom.getBoundingClientRect();let t=G(e);return t[t.length-1]||null}function yr(l,e){for(let t in l)t=="class"&&e.class?e.class+=" "+l.class:t=="style"&&e.style?e.style+=";"+l.style:e[t]=l[t];return e}function Zr(l,e){if(l==e)return!0;if(!l||!e)return!1;let t=Object.keys(l),i=Object.keys(e);if(t.length!=i.length)return!1;for(let c of t)if(i.indexOf(c)==-1||l[c]!==e[c])return!1;return!0}function Vr(l,e,t){let i=null;if(e)for(let c in e)t&&c in t||l.removeAttribute(i=c);if(t)for(let c in t)e&&e[c]==t[c]||l.setAttribute(i=c,t[c]);return!!i}class Rr{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get customView(){return null}get isHidden(){return!1}destroy(e){}}var fr=function(l){return l[l.Text=0]="Text",l[l.WidgetBefore=1]="WidgetBefore",l[l.WidgetAfter=2]="WidgetAfter",l[l.WidgetRange=3]="WidgetRange",l}(fr||(fr={}));class Ie extends o.uU{constructor(e,t,i,c){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=c}get heightRelevant(){return!1}static mark(e){return new Xt(e)}static widget(e){let t=e.side||0,i=!!e.block;return t+=i?t>0?3e8:-4e8:t>0?1e8:-1e8,new ur(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,c;if(e.isBlockGap)i=-5e8,c=4e8;else{let{start:v,end:A}=Fr(e,t);i=(v?t?-3e8:-1:5e8)-1,c=(A?t?2e8:1:-6e8)+1}return new ur(e,i,c,t,e.widget||null,!0)}static line(e){return new sr(e)}static set(e,t=!1){return o.Xs.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Ie.none=o.Xs.empty;class Xt extends Ie{constructor(e){let{start:t,end:i}=Fr(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof Xt&&this.tagName==e.tagName&&this.class==e.class&&Zr(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Xt.prototype.point=!1;class sr extends Ie{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof sr&&this.spec.class==e.spec.class&&Zr(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}sr.prototype.mapMode=o.gc.TrackBefore,sr.prototype.point=!0;class ur extends Ie{constructor(e,t,i,c,v,A){super(t,i,v,e),this.block=c,this.isReplace=A,this.mapMode=c?t<=0?o.gc.TrackBefore:o.gc.TrackAfter:o.gc.TrackDel}get type(){return this.startSide<this.endSide?fr.WidgetRange:this.startSide<=0?fr.WidgetBefore:fr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof ur&&jr(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}ur.prototype.point=!0;function Fr(l,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=l;return t==null&&(t=l.inclusive),i==null&&(i=l.inclusive),{start:t!=null?t:e,end:i!=null?i:e}}function jr(l,e){return l==e||!!(l&&e&&l.compare(e))}function wr(l,e,t,i=0){let c=t.length-1;c>=0&&t[c]+i>=l?t[c]=Math.max(t[c],e):t.push(l,e)}class Tr extends Re{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,c,v,A){if(i){if(!(i instanceof Tr))return!1;this.dom||i.transferDOM(this)}return c&&this.setDeco(i?i.attrs:null),$e(this,e,t,i?i.children:[],v,A),!0}split(e){let t=new Tr;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:c}=this.childPos(e);c&&(t.append(this.children[i].split(c),0),this.children[i].merge(c,this.children[i].length,null,!1,0,0),i++);for(let v=i;v<this.children.length;v++)t.append(this.children[v],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Zr(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){Nt(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=yr(t,this.attrs||{})),i&&(this.attrs=yr({class:i},this.attrs||{}))}domAtPos(e){return cr(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e,t){var i;this.dom?this.dirty&4&&(or(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Vr(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let c=this.dom.lastChild;for(;c&&Re.get(c)instanceof Kt;)c=c.lastChild;if(!c||!this.length||c.nodeName!="BR"&&((i=Re.get(c))===null||i===void 0?void 0:i.isEditable)==!1&&(!Ue.ios||!this.children.some(v=>v instanceof tr))){let v=document.createElement("BR");v.cmIgnore=!0,this.dom.appendChild(v)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let i of this.children){if(!(i instanceof tr)||/[^ -~]/.test(i.text))return null;let c=G(i.dom);if(c.length!=1)return null;e+=c[0].width,t=c[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let i=Lr(this,e,t);if(!this.children.length&&i&&this.parent){let{heightOracle:c}=this.parent.view.viewState,v=i.bottom-i.top;if(Math.abs(v-c.lineHeight)<2&&c.textHeight<v){let A=(v-c.textHeight)/2;return{top:i.top+A,bottom:i.bottom-A,left:i.left,right:i.left}}}return i}become(e){return!1}get type(){return fr.Text}static find(e,t){for(let i=0,c=0;i<e.children.length;i++){let v=e.children[i],A=c+v.length;if(A>=t){if(v instanceof Tr)return v;if(A>t)break}c=A+v.breakAfter}return null}}class _r extends Re{constructor(e,t,i){super(),this.widget=e,this.length=t,this.type=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,c,v,A){return i&&(!(i instanceof _r)||!this.widget.compare(i.widget)||e>0&&v<=0||t<this.length&&A<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?xt.before(this.dom):xt.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new _r(this.widget,t,this.type);return i.breakAfter=this.breakAfter,i}get children(){return mt}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):o.xv.empty}domBoundsAround(){return null}become(e){return e instanceof _r&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.type=e.type,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class $r{constructor(e,t,i,c){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=c,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof _r&&e.type==fr.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Tr),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(en(new Sr(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:v,lineBreak:A,done:W}=this.cursor.next(this.skip);if(this.skip=0,W)throw new Error("Ran out of text content when drawing inline views");if(A){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=v,this.textOff=0}let c=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-i)),this.getLine().append(en(new tr(this.text.slice(this.textOff,this.textOff+c)),t),i),this.atCursorPos=!0,this.textOff+=c,e-=c,i=0}}span(e,t,i,c){this.buildText(t-e,i,c),this.pos=t,this.openStart<0&&(this.openStart=c)}point(e,t,i,c,v,A){if(this.disallowBlockEffectsFor[A]&&i instanceof ur){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let W=t-e;if(i instanceof ur)if(i.block){let{type:X}=i;X==fr.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new _r(i.widget||new hn("div"),W,X))}else{let X=Ht.create(i.widget||new hn("span"),W,W?0:i.startSide),me=this.atCursorPos&&!X.isEditable&&v<=c.length&&(e<t||i.startSide>0),ue=!X.isEditable&&(e<t||v>c.length||i.startSide<=0),je=this.getLine();this.pendingBuffer==2&&!me&&!X.isEditable&&(this.pendingBuffer=0),this.flushBuffer(c),me&&(je.append(en(new Sr(1),c),v),v=c.length+Math.max(0,v-c.length)),je.append(en(X,c),v),this.atCursorPos=ue,this.pendingBuffer=ue?e<t||v>c.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=c.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);W&&(this.textOff+W<=this.text.length?this.textOff+=W:(this.skip+=W-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=v)}static build(e,t,i,c,v){let A=new $r(e,t,i,v);return A.openEnd=o.Xs.spans(c,t,i,A),A.openStart<0&&(A.openStart=A.openEnd),A.finish(A.openEnd),A}}function en(l,e){for(let t of e)l=new Kt(t,[l],l.length);return l}class hn extends Rr{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const Nr=o.r$.define(),cn=o.r$.define(),gn=o.r$.define(),Sn=o.r$.define(),yn=o.r$.define(),dn=o.r$.define(),vn=o.r$.define(),tn=o.r$.define({combine:l=>l.some(e=>e)}),_n=o.r$.define({combine:l=>l.some(e=>e)});class an{constructor(e,t="nearest",i="nearest",c=5,v=5){this.range=e,this.y=t,this.x=i,this.yMargin=c,this.xMargin=v}map(e){return e.empty?this:new an(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const rn=o.Py.define({map:(l,e)=>l.map(e)});function mn(l,e,t){let i=l.facet(Sn);i.length?i[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const Kn=o.r$.define({combine:l=>l.length?l[0]:!0});let hi=0;const Ri=o.r$.define();class Pe{constructor(e,t,i,c){this.id=e,this.create=t,this.domEventHandlers=i,this.extension=c(this)}static define(e,t){const{eventHandlers:i,provide:c,decorations:v}=t||{};return new Pe(hi++,e,i,A=>{let W=[Ri.of(A)];return v&&W.push(q.of(X=>{let me=X.plugin(A);return me?v(me):Ie.none})),c&&W.push(c(A)),W})}static fromClass(e,t){return Pe.define(i=>new e(i),t)}}class y{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(mn(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){mn(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){mn(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const T=o.r$.define(),V=o.r$.define(),q=o.r$.define(),Oe=o.r$.define(),Ee=o.r$.define();function ze(l){let e=0,t=0,i=0,c=0;for(let v of l.state.facet(Ee)){let A=v(l);A&&(A.left!=null&&(e=Math.max(e,A.left)),A.right!=null&&(t=Math.max(t,A.right)),A.top!=null&&(i=Math.max(i,A.top)),A.bottom!=null&&(c=Math.max(c,A.bottom)))}return{left:e,right:t,top:i,bottom:c}}const He=o.r$.define();class wt{constructor(e,t,i,c){this.fromA=e,this.toA=t,this.fromB=i,this.toB=c}join(e){return new wt(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let c=e[t-1];if(!(c.fromA>i.toA)){if(c.toA<i.fromA)break;i=i.join(c),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let c=0,v=0,A=0,W=0;;c++){let X=c==e.length?null:e[c],me=A-W,ue=X?X.fromB:1e9;for(;v<t.length&&t[v]<ue;){let je=t[v],ct=t[v+1],vt=Math.max(W,je),Ft=Math.min(ue,ct);if(vt<=Ft&&new wt(vt+me,Ft+me,vt,Ft).addToSet(i),ct>ue)break;v+=2}if(!X)return i;new wt(X.fromA,X.toA,X.fromB,X.toB).addToSet(i),A=X.toA,W=X.toB}}}class jt{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=o.as.empty(this.startState.doc.length);for(let v of i)this.changes=this.changes.compose(v.changes);let c=[];this.changes.iterChangedRanges((v,A,W,X)=>c.push(new wt(v,A,W,X))),this.changedRanges=c}static create(e,t,i){return new jt(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var $t=function(l){return l[l.LTR=0]="LTR",l[l.RTL=1]="RTL",l}($t||($t={}));const Cr=$t.LTR,pr=$t.RTL;function Cn(l){let e=[];for(let t=0;t<l.length;t++)e.push(1<<+l[t]);return e}const Xn=Cn("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),zn=Cn("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),wi=Object.create(null),yi=[];for(let l of["()","[]","{}"]){let e=l.charCodeAt(0),t=l.charCodeAt(1);wi[e]=t,wi[t]=-e}function ji(l){return l<=247?Xn[l]:1424<=l&&l<=1524?2:1536<=l&&l<=1785?zn[l-1536]:1774<=l&&l<=2220?4:8192<=l&&l<=8203?256:64336<=l&&l<=65023?4:l==8204?256:1}const us=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class qi{get dir(){return this.level%2?pr:Cr}constructor(e,t,i){this.from=e,this.to=t,this.level=i}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,i,c){let v=-1;for(let A=0;A<e.length;A++){let W=e[A];if(W.from<=t&&W.to>=t){if(W.level==i)return A;(v<0||(c!=0?c<0?W.from<t:W.to>t:e[v].level>W.level))&&(v=A)}}if(v<0)throw new RangeError("Index out of range");return v}}const Hn=[];function kn(l,e){let t=l.length,i=e==Cr?1:2,c=e==Cr?2:1;if(!l||i==1&&!us.test(l))return eo(t);for(let A=0,W=i,X=i;A<t;A++){let me=ji(l.charCodeAt(A));me==512?me=W:me==8&&X==4&&(me=16),Hn[A]=me==4?2:me,me&7&&(X=me),W=me}for(let A=0,W=i,X=i;A<t;A++){let me=Hn[A];if(me==128)A<t-1&&W==Hn[A+1]&&W&24?me=Hn[A]=W:Hn[A]=256;else if(me==64){let ue=A+1;for(;ue<t&&Hn[ue]==64;)ue++;let je=A&&W==8||ue<t&&Hn[ue]==8?X==1?1:8:256;for(let ct=A;ct<ue;ct++)Hn[ct]=je;A=ue-1}else me==8&&X==1&&(Hn[A]=1);W=me,me&7&&(X=me)}for(let A=0,W=0,X=0,me,ue,je;A<t;A++)if(ue=wi[me=l.charCodeAt(A)])if(ue<0){for(let ct=W-3;ct>=0;ct-=3)if(yi[ct+1]==-ue){let vt=yi[ct+2],Ft=vt&2?i:vt&4?vt&1?c:i:0;Ft&&(Hn[A]=Hn[yi[ct]]=Ft),W=ct;break}}else{if(yi.length==189)break;yi[W++]=A,yi[W++]=me,yi[W++]=X}else if((je=Hn[A])==2||je==1){let ct=je==i;X=ct?0:1;for(let vt=W-3;vt>=0;vt-=3){let Ft=yi[vt+2];if(Ft&2)break;if(ct)yi[vt+2]|=2;else{if(Ft&4)break;yi[vt+2]|=4}}}for(let A=0;A<t;A++)if(Hn[A]==256){let W=A+1;for(;W<t&&Hn[W]==256;)W++;let X=(A?Hn[A-1]:i)==1,me=(W<t?Hn[W]:i)==1,ue=X==me?X?1:2:i;for(let je=A;je<W;je++)Hn[je]=ue;A=W-1}let v=[];if(i==1)for(let A=0;A<t;){let W=A,X=Hn[A++]!=1;for(;A<t&&X==(Hn[A]!=1);)A++;if(X)for(let me=A;me>W;){let ue=me,je=Hn[--me]!=2;for(;me>W&&je==(Hn[me-1]!=2);)me--;v.push(new qi(me,ue,je?2:1))}else v.push(new qi(W,A,0))}else for(let A=0;A<t;){let W=A,X=Hn[A++]==2;for(;A<t&&X==(Hn[A]==2);)A++;v.push(new qi(W,A,X?1:2))}return v}function eo(l){return[new qi(0,l,0)]}let Bo="";function qt(l,e,t,i,c){var v;let A=i.head-l.from,W=-1;if(A==0){if(!c||!l.length)return null;e[0].level!=t&&(A=e[0].side(!1,t),W=0)}else if(A==l.length){if(c)return null;let ct=e[e.length-1];ct.level!=t&&(A=ct.side(!0,t),W=e.length-1)}W<0&&(W=qi.find(e,A,(v=i.bidiLevel)!==null&&v!==void 0?v:-1,i.assoc));let X=e[W];A==X.side(c,t)&&(X=e[W+=c?1:-1],A=X.side(!c,t));let me=c==(X.dir==t),ue=(0,o.cp)(l.text,A,me);if(Bo=l.text.slice(Math.min(A,ue),Math.max(A,ue)),ue!=X.side(c,t))return o.jT.cursor(ue+l.from,me?-1:1,X.level);let je=W==(c?e.length-1:0)?null:e[W+(c?1:-1)];return!je&&X.level!=t?o.jT.cursor(c?l.to:l.from,c?-1:1,t):je&&je.level<X.level?o.jT.cursor(je.side(!c,t)+l.from,c?1:-1,je.level):o.jT.cursor(ue+l.from,c?-1:1,X.level)}const pe="\uFFFF";class j{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(o.yy.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=pe}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let c=e;;){this.findPointBefore(i,c);let v=this.text.length;this.readNode(c);let A=c.nextSibling;if(A==t)break;let W=Re.get(c),X=Re.get(A);(W&&X?W.breakAfter:(W?W.breakAfter:Y(c))||Y(A)&&(c.nodeName!="BR"||c.cmIgnore)&&this.text.length>v)&&this.lineBreak(),c=A}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,c=this.lineSeparator?null:/\r\n?|\n/g;;){let v=-1,A=1,W;if(this.lineSeparator?(v=t.indexOf(this.lineSeparator,i),A=this.lineSeparator.length):(W=c.exec(t))&&(v=W.index,A=W[0].length),this.append(t.slice(i,v<0?t.length:v)),v<0)break;if(this.lineBreak(),A>1)for(let X of this.points)X.node==e&&X.pos>this.text.length&&(X.pos-=A-1);i=v+A}}readNode(e){if(e.cmIgnore)return;let t=Re.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let c=i.iter();!c.next().done;)c.lineBreak?this.lineBreak():this.append(c.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+Math.min(t,i.offset))}}function Y(l){return l.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(l.nodeName)}class ke{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class Ne extends Re{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.compositionDeco=Ie.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Tr],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new wt(0,0,0,e.state.doc.length)],0)}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every(({fromA:A,toA:W})=>W<this.minWidthFrom||A>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=Ie.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=Wt(this.view,e.changes)),(Ue.ie||Ue.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let i=this.decorations,c=this.updateDeco(),v=Pi(i,c,e.changes);return t=wt.extendWithRanges(t,v),this.dirty==0&&t.length==0?!1:(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let v=Ue.chrome||Ue.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,v),this.dirty=0,v&&(v.written||i.selectionRange.focusNode!=v.node)&&(this.forceSelection=!0),this.dom.style.height=""});let c=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let v of this.children)v instanceof _r&&v.widget instanceof ft&&c.push(v.dom);i.updateGaps(c)}updateChildren(e,t){let i=this.childCursor(t);for(let c=e.length-1;;c--){let v=c>=0?e[c]:null;if(!v)break;let{fromA:A,toA:W,fromB:X,toB:me}=v,{content:ue,breakAtStart:je,openStart:ct,openEnd:vt}=$r.build(this.view.state.doc,X,me,this.decorations,this.dynamicDecorationMap),{i:Ft,off:Ot}=i.findPos(W,1),{i:Bt,off:Qt}=i.findPos(A,-1);de(this,Bt,Qt,Ft,Ot,ue,je,ct,vt)}}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,c=i==this.dom,v=!c&&F(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(c||t||v))return;let A=this.forceSelection;this.forceSelection=!1;let W=this.view.state.selection.main,X=this.domAtPos(W.anchor),me=W.empty?X:this.domAtPos(W.head);if(Ue.gecko&&W.empty&&!this.compositionDeco.size&&nt(X)){let je=document.createTextNode("");this.view.observer.ignore(()=>X.node.insertBefore(je,X.node.childNodes[X.offset]||null)),X=me=new xt(je,0),A=!0}let ue=this.view.observer.selectionRange;(A||!ue.focusNode||!Se(X.node,X.offset,ue.anchorNode,ue.anchorOffset)||!Se(me.node,me.offset,ue.focusNode,ue.focusOffset))&&(this.view.observer.ignore(()=>{Ue.android&&Ue.chrome&&this.dom.contains(ue.focusNode)&&ai(ue.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let je=re(this.view.root);if(je)if(W.empty){if(Ue.gecko){let ct=Mn(X.node,X.offset);if(ct&&ct!=3){let vt=Kr(X.node,X.offset,ct==1?1:-1);vt&&(X=new xt(vt,ct==1?0:vt.nodeValue.length))}}je.collapse(X.node,X.offset),W.bidiLevel!=null&&ue.cursorBidiLevel!=null&&(ue.cursorBidiLevel=W.bidiLevel)}else if(je.extend){je.collapse(X.node,X.offset);try{je.extend(me.node,me.offset)}catch{}}else{let ct=document.createRange();W.anchor>W.head&&([X,me]=[me,X]),ct.setEnd(me.node,me.offset),ct.setStart(X.node,X.offset),je.removeAllRanges(),je.addRange(ct)}v&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(X,me)),this.impreciseAnchor=X.precise?null:new xt(ue.anchorNode,ue.anchorOffset),this.impreciseHead=me.precise?null:new xt(ue.focusNode,ue.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:e}=this,t=e.state.selection.main,i=re(e.root),{anchorNode:c,anchorOffset:v}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let A=Tr.find(this,t.head);if(!A)return;let W=A.posAtStart;if(t.head==W||t.head==W+A.length)return;let X=this.coordsAt(t.head,-1),me=this.coordsAt(t.head,1);if(!X||!me||X.bottom>me.top)return;let ue=this.domAtPos(t.head+t.assoc);i.collapse(ue.node,ue.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let je=e.observer.selectionRange;e.docView.posFromDOM(je.anchorNode,je.anchorOffset)!=t.from&&i.collapse(c,v)}nearest(e){for(let t=e;t;){let i=Re.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let c=this.children[t];if(i<c.length||c instanceof Tr)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){for(let i=this.length,c=this.children.length-1;;c--){let v=this.children[c],A=i-v.breakAfter-v.length;if(e>A||e==A&&v.type!=fr.WidgetBefore&&v.type!=fr.WidgetAfter&&(!c||t==2||this.children[c-1].breakAfter||this.children[c-1].type==fr.WidgetBefore&&t>-2))return v.coordsAt(e-A,t);i=A}}measureVisibleLineHeights(e){let t=[],{from:i,to:c}=e,v=this.view.contentDOM.clientWidth,A=v>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,W=-1,X=this.view.textDirection==$t.LTR;for(let me=0,ue=0;ue<this.children.length;ue++){let je=this.children[ue],ct=me+je.length;if(ct>c)break;if(me>=i){let vt=je.dom.getBoundingClientRect();if(t.push(vt.height),A){let Ft=je.dom.lastChild,Ot=Ft?G(Ft):[];if(Ot.length){let Bt=Ot[Ot.length-1],Qt=X?Bt.right-vt.left:vt.right-Bt.left;Qt>W&&(W=Qt,this.minWidth=v,this.minWidthFrom=me,this.minWidthTo=ct)}}}me=ct+je.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?$t.RTL:$t.LTR}measureTextSize(){for(let v of this.children)if(v instanceof Tr){let A=v.measureTextSize();if(A)return A}let e=document.createElement("div"),t,i,c;return e.className="cm-line",e.style.width="99999px",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let v=G(e.firstChild)[0];t=e.getBoundingClientRect().height,i=v?v.width/27:7,c=v?v.height:t,e.remove()}),{lineHeight:t,charWidth:i,textHeight:c}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new ot(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,c=0;;c++){let v=c==t.viewports.length?null:t.viewports[c],A=v?v.from-1:this.length;if(A>i){let W=t.lineBlockAt(A).bottom-t.lineBlockAt(i).top;e.push(Ie.replace({widget:new ft(W),block:!0,inclusive:!0,isBlockGap:!0}).range(i,A))}if(!v)break;i=v.to+1}return Ie.set(e)}updateDeco(){let e=this.view.state.facet(q).map((t,i)=>(this.dynamicDecorationMap[i]=typeof t=="function")?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),c;if(!i)return;!t.empty&&(c=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,c.left),top:Math.min(i.top,c.top),right:Math.max(i.right,c.right),bottom:Math.max(i.bottom,c.bottom)});let v=ze(this.view),A={left:i.left-v.left,top:i.top-v.top,right:i.right+v.right,bottom:i.bottom+v.bottom};xe(this.view.scrollDOM,A,t.head<t.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==$t.LTR)}}function nt(l){return l.node.nodeType==1&&l.node.firstChild&&(l.offset==0||l.node.childNodes[l.offset-1].contentEditable=="false")&&(l.offset==l.node.childNodes.length||l.node.childNodes[l.offset].contentEditable=="false")}class ft extends Rr{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function Ut(l){let e=l.observer.selectionRange,t=e.focusNode&&Kr(e.focusNode,e.focusOffset,0);if(!t)return null;let i=l.docView.nearest(t);if(!i)return null;if(i instanceof Tr){let c=t;for(;c.parentNode!=i.dom;)c=c.parentNode;let v=c.previousSibling;for(;v&&!Re.get(v);)v=v.previousSibling;let A=v?Re.get(v).posAtEnd:i.posAtStart;return{from:A,to:A,node:c,text:t}}else{for(;;){let{parent:v}=i;if(!v)return null;if(v instanceof Tr)break;i=v}let c=i.posAtStart;return{from:c,to:c+i.length,node:i.dom,text:t}}}function Wt(l,e){let t=Ut(l);if(!t)return Ie.none;let{from:i,to:c,node:v,text:A}=t,W=e.mapPos(i,1),X=Math.max(W,e.mapPos(c,-1)),{state:me}=l,ue=v.nodeType==3?v.nodeValue:new j([],me).readRange(v.firstChild,null).text;if(ue.indexOf(pe)>-1)return Ie.none;if(X-W<ue.length)if(me.doc.sliceString(W,Math.min(me.doc.length,W+ue.length))==ue)X=W+ue.length;else if(me.doc.sliceString(Math.max(0,X-ue.length),X)==ue)W=X-ue.length;else return Ie.none;else if(me.doc.sliceString(W,X)!=ue)return Ie.none;let je=Re.get(v);return je instanceof rt?je=je.widget.topView:je&&(je.parent=null),Ie.set(Ie.replace({widget:new Br(v,A,je),inclusive:!0}).range(W,X))}class Br extends Rr{constructor(e,t,i){super(),this.top=e,this.text=t,this.topView=i}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return rt}}function Kr(l,e,t){if(t<=0)for(let i=l,c=e;;){if(i.nodeType==3)return i;if(i.nodeType==1&&c>0)i=i.childNodes[c-1],c=be(i);else break}if(t>=0)for(let i=l,c=e;;){if(i.nodeType==3)return i;if(i.nodeType==1&&c<i.childNodes.length&&t>=0)i=i.childNodes[c],c=0;else break}return null}function Mn(l,e){return l.nodeType!=1?0:(e&&l.childNodes[e-1].contentEditable=="false"?1:0)|(e<l.childNodes.length&&l.childNodes[e].contentEditable=="false"?2:0)}class Oi{constructor(){this.changes=[]}compareRange(e,t){wr(e,t,this.changes)}comparePoint(e,t){wr(e,t,this.changes)}}function Pi(l,e,t){let i=new Oi;return o.Xs.compare(l,e,t,i),i.changes}function ai(l,e){for(let t=l;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function Ti(l,e,t=1){let i=l.charCategorizer(e),c=l.doc.lineAt(e),v=e-c.from;if(c.length==0)return o.jT.cursor(e);v==0?t=1:v==c.length&&(t=-1);let A=v,W=v;t<0?A=(0,o.cp)(c.text,v,!1):W=(0,o.cp)(c.text,v);let X=i(c.text.slice(A,W));for(;A>0;){let me=(0,o.cp)(c.text,A,!1);if(i(c.text.slice(me,A))!=X)break;A=me}for(;W<c.length;){let me=(0,o.cp)(c.text,W);if(i(c.text.slice(W,me))!=X)break;W=me}return o.jT.range(A+c.from,W+c.from)}function to(l,e){return e.left>l?e.left-l:Math.max(0,l-e.right)}function Ms(l,e){return e.top>l?e.top-l:Math.max(0,l-e.bottom)}function cs(l,e){return l.top<e.bottom-1&&l.bottom>e.top+1}function da(l,e){return e<l.top?{top:e,left:l.left,right:l.right,bottom:l.bottom}:l}function Xo(l,e){return e>l.bottom?{top:l.top,left:l.left,right:l.right,bottom:e}:l}function $s(l,e,t){let i,c,v,A,W=!1,X,me,ue,je;for(let Ft=l.firstChild;Ft;Ft=Ft.nextSibling){let Ot=G(Ft);for(let Bt=0;Bt<Ot.length;Bt++){let Qt=Ot[Bt];c&&cs(c,Qt)&&(Qt=da(Xo(Qt,c.bottom),c.top));let Hr=to(e,Qt),Gr=Ms(t,Qt);if(Hr==0&&Gr==0)return Ft.nodeType==3?ht(Ft,e,t):$s(Ft,e,t);if(!i||A>Gr||A==Gr&&v>Hr){i=Ft,c=Qt,v=Hr,A=Gr;let un=Gr?t<Qt.top?-1:1:Hr?e<Qt.left?-1:1:0;W=!un||(un>0?Bt<Ot.length-1:Bt>0)}Hr==0?t>Qt.bottom&&(!ue||ue.bottom<Qt.bottom)?(X=Ft,ue=Qt):t<Qt.top&&(!je||je.top>Qt.top)&&(me=Ft,je=Qt):ue&&cs(ue,Qt)?ue=Xo(ue,Qt.bottom):je&&cs(je,Qt)&&(je=da(je,Qt.top))}}if(ue&&ue.bottom>=t?(i=X,c=ue):je&&je.top<=t&&(i=me,c=je),!i)return{node:l,offset:0};let ct=Math.max(c.left,Math.min(c.right,e));if(i.nodeType==3)return ht(i,ct,t);if(W&&i.contentEditable!="false")return $s(i,ct,t);let vt=Array.prototype.indexOf.call(l.childNodes,i)+(e>=(c.left+c.right)/2?1:0);return{node:l,offset:vt}}function ht(l,e,t){let i=l.nodeValue.length,c=-1,v=1e9,A=0;for(let W=0;W<i;W++){let X=st(l,W,W+1).getClientRects();for(let me=0;me<X.length;me++){let ue=X[me];if(ue.top==ue.bottom)continue;A||(A=e-ue.left);let je=(ue.top>t?ue.top-t:t-ue.bottom)-1;if(ue.left-1<=e&&ue.right+1>=e&&je<v){let ct=e>=(ue.left+ue.right)/2,vt=ct;if((Ue.chrome||Ue.gecko)&&st(l,W).getBoundingClientRect().left==ue.right&&(vt=!ct),je<=0)return{node:l,offset:W+(vt?1:0)};c=W+(vt?1:0),v=je}}}return{node:l,offset:c>-1?c:A>0?l.nodeValue.length:0}}function Je(l,e,t,i=-1){var c,v;let A=l.contentDOM.getBoundingClientRect(),W=A.top+l.viewState.paddingTop,X,{docHeight:me}=l.viewState,{x:ue,y:je}=e,ct=je-W;if(ct<0)return 0;if(ct>me)return l.state.doc.length;for(let un=l.defaultLineHeight/2,Tn=!1;X=l.elementAtHeight(ct),X.type!=fr.Text;)for(;ct=i>0?X.bottom+un:X.top-un,!(ct>=0&&ct<=me);){if(Tn)return t?null:0;Tn=!0,i=-i}je=W+ct;let vt=X.from;if(vt<l.viewport.from)return l.viewport.from==0?0:t?null:Zt(l,A,X,ue,je);if(vt>l.viewport.to)return l.viewport.to==l.state.doc.length?l.state.doc.length:t?null:Zt(l,A,X,ue,je);let Ft=l.dom.ownerDocument,Ot=l.root.elementFromPoint?l.root:Ft,Bt=Ot.elementFromPoint(ue,je);Bt&&!l.contentDOM.contains(Bt)&&(Bt=null),Bt||(ue=Math.max(A.left+1,Math.min(A.right-1,ue)),Bt=Ot.elementFromPoint(ue,je),Bt&&!l.contentDOM.contains(Bt)&&(Bt=null));let Qt,Hr=-1;if(Bt&&((c=l.docView.nearest(Bt))===null||c===void 0?void 0:c.isEditable)!=!1){if(Ft.caretPositionFromPoint){let un=Ft.caretPositionFromPoint(ue,je);un&&({offsetNode:Qt,offset:Hr}=un)}else if(Ft.caretRangeFromPoint){let un=Ft.caretRangeFromPoint(ue,je);un&&({startContainer:Qt,startOffset:Hr}=un,(!l.contentDOM.contains(Qt)||Ue.safari&&Jt(Qt,Hr,ue)||Ue.chrome&&lr(Qt,Hr,ue))&&(Qt=void 0))}}if(!Qt||!l.docView.dom.contains(Qt)){let un=Tr.find(l.docView,vt);if(!un)return ct>X.top+X.height/2?X.to:X.from;({node:Qt,offset:Hr}=$s(un.dom,ue,je))}let Gr=l.docView.nearest(Qt);if(!Gr)return null;if(Gr.isWidget&&((v=Gr.dom)===null||v===void 0?void 0:v.nodeType)==1){let un=Gr.dom.getBoundingClientRect();return e.y<un.top||e.y<=un.bottom&&e.x<=(un.left+un.right)/2?Gr.posAtStart:Gr.posAtEnd}else return Gr.localPosFromDOM(Qt,Hr)+Gr.posAtStart}function Zt(l,e,t,i,c){let v=Math.round((i-e.left)*l.defaultCharacterWidth);if(l.lineWrapping&&t.height>l.defaultLineHeight*1.5){let W=Math.floor((c-t.top)/l.defaultLineHeight);v+=W*l.viewState.heightOracle.lineLength}let A=l.state.sliceDoc(t.from,t.to);return t.from+(0,o.Gz)(A,v,l.state.tabSize)}function Jt(l,e,t){let i;if(l.nodeType!=3||e!=(i=l.nodeValue.length))return!1;for(let c=l.nextSibling;c;c=c.nextSibling)if(c.nodeType!=1||c.nodeName!="BR")return!1;return st(l,i-1,i).getBoundingClientRect().left>t}function lr(l,e,t){if(e!=0)return!1;for(let c=l;;){let v=c.parentNode;if(!v||v.nodeType!=1||v.firstChild!=c)return!1;if(v.classList.contains("cm-line"))break;c=v}let i=l.nodeType==1?l.getBoundingClientRect():st(l,0,Math.max(l.nodeValue.length,1)).getBoundingClientRect();return t-i.left>5}function Ur(l,e,t,i){let c=l.state.doc.lineAt(e.head),v=!i||!l.lineWrapping?null:l.coordsAtPos(e.assoc<0&&e.head>c.from?e.head-1:e.head);if(v){let X=l.dom.getBoundingClientRect(),me=l.textDirectionAt(c.from),ue=l.posAtCoords({x:t==(me==$t.LTR)?X.right-1:X.left+1,y:(v.top+v.bottom)/2});if(ue!=null)return o.jT.cursor(ue,t?-1:1)}let A=Tr.find(l.docView,e.head),W=A?t?A.posAtEnd:A.posAtStart:t?c.to:c.from;return o.jT.cursor(W,t?-1:1)}function Ir(l,e,t,i){let c=l.state.doc.lineAt(e.head),v=l.bidiSpans(c),A=l.textDirectionAt(c.from);for(let W=e,X=null;;){let me=qt(c,v,A,W,t),ue=Bo;if(!me){if(c.number==(t?l.state.doc.lines:1))return W;ue=`
`,c=l.state.doc.line(c.number+(t?1:-1)),v=l.bidiSpans(c),me=o.jT.cursor(t?c.from:c.to)}if(X){if(!X(ue))return W}else{if(!i)return me;X=i(ue)}W=me}}function ln(l,e,t){let i=l.state.charCategorizer(e),c=i(t);return v=>{let A=i(v);return c==o.D0.Space&&(c=A),c==A}}function mi(l,e,t,i){let c=e.head,v=t?1:-1;if(c==(t?l.state.doc.length:0))return o.jT.cursor(c,e.assoc);let A=e.goalColumn,W,X=l.contentDOM.getBoundingClientRect(),me=l.coordsAtPos(c),ue=l.documentTop;if(me)A==null&&(A=me.left-X.left),W=v<0?me.top:me.bottom;else{let vt=l.viewState.lineBlockAt(c);A==null&&(A=Math.min(X.right-X.left,l.defaultCharacterWidth*(c-vt.from))),W=(v<0?vt.top:vt.bottom)+ue}let je=X.left+A,ct=i!=null?i:l.defaultLineHeight>>1;for(let vt=0;;vt+=10){let Ft=W+(ct+vt)*v,Ot=Je(l,{x:je,y:Ft},!1,v);if(Ft<X.top||Ft>X.bottom||(v<0?Ot<c:Ot>c))return o.jT.cursor(Ot,e.assoc,void 0,A)}}function jn(l,e,t){for(;;){let i=0;for(let c of l)c.between(e-1,e+1,(v,A,W)=>{if(e>v&&e<A){let X=i||t||(e-v<A-e?-1:1);e=X<0?v:A,i=X}});if(!i)return e}}function Jn(l,e,t){let i=jn(l.state.facet(Oe).map(c=>c(l)),t.from,e.head>t.from?-1:1);return i==t.from?t:o.jT.cursor(i,i<t.from?1:-1)}class on{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null;let t=(i,c)=>{this.ignoreDuringComposition(c)||c.type=="keydown"&&this.keydown(e,c)||(this.mustFlushObserver(c)&&e.observer.forceFlush(),this.runCustomHandlers(c.type,e,c)?c.preventDefault():i(e,c))};for(let i in Xr){let c=Xr[i];e.contentDOM.addEventListener(i,v=>{Bi(e,v)&&t(c,v)},Co[i]),this.registeredEvents.push(i)}e.scrollDOM.addEventListener("mousedown",i=>{if(i.target==e.scrollDOM&&i.clientY>e.contentDOM.getBoundingClientRect().bottom&&(t(Xr.mousedown,i),!i.defaultPrevented&&i.button==2)){let c=e.contentDOM.style.minHeight;e.contentDOM.style.minHeight="100%",setTimeout(()=>e.contentDOM.style.minHeight=c,200)}}),e.scrollDOM.addEventListener("drop",i=>{i.target==e.scrollDOM&&i.clientY>e.contentDOM.getBoundingClientRect().bottom&&t(Xr.drop,i)}),Ue.chrome&&Ue.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,Ue.safari&&e.contentDOM.addEventListener("input",()=>null)}ensureHandlers(e,t){var i;let c;this.customHandlers=[];for(let v of t)if(c=(i=v.update(e).spec)===null||i===void 0?void 0:i.domEventHandlers){this.customHandlers.push({plugin:v.value,handlers:c});for(let A in c)this.registeredEvents.indexOf(A)<0&&A!="scroll"&&(this.registeredEvents.push(A),e.contentDOM.addEventListener(A,W=>{Bi(e,W)&&this.runCustomHandlers(A,e,W)&&W.preventDefault()}))}}runCustomHandlers(e,t,i){for(let c of this.customHandlers){let v=c.handlers[e];if(v)try{if(v.call(c.plugin,i,t)||i.defaultPrevented)return!0}catch(A){mn(t.state,A)}}return!1}runScrollHandlers(e,t){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let i of this.customHandlers){let c=i.handlers.scroll;if(c)try{c.call(i.plugin,t,e)}catch(v){mn(e.state,v)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(t.keyCode!=27&&fn.indexOf(t.keyCode)<0&&(e.inputState.lastEscPress=0),Ue.android&&Ue.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let i;return Ue.ios&&!t.synthetic&&!t.altKey&&!t.metaKey&&((i=nn.find(c=>c.keyCode==t.keyCode))&&!t.ctrlKey||Gn.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(this.pendingIOSKey=i||t,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let t=this.pendingIOSKey;return t?(this.pendingIOSKey=void 0,Ge(e.contentDOM,t.key,t.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Ue.safari&&!Ue.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const nn=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Gn="dthko",fn=[16,17,18,20,91,92,224,225],Qn=6;function vi(l){return Math.max(0,l)*.7+8}class Ni{constructor(e,t,i,c){this.view=e,this.style=i,this.mustSelect=c,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=Le(e.contentDOM),this.atoms=e.state.facet(Oe).map(A=>A(e));let v=e.contentDOM.ownerDocument;v.addEventListener("mousemove",this.move=this.move.bind(this)),v.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(o.yy.allowMultipleSelections)&&ro(e,t),this.dragMove=Yn(e,t),this.dragging=Li(e,t)&&Is(t)==1?null:!1}start(e){this.dragging===!1&&(e.preventDefault(),this.select(e))}move(e){var t;if(e.buttons==0)return this.destroy();if(this.dragging!==!1)return;this.select(this.lastEvent=e);let i=0,c=0,v=((t=this.scrollParent)===null||t===void 0?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},A=ze(this.view);e.clientX-A.left<=v.left+Qn?i=-vi(v.left-e.clientX):e.clientX+A.right>=v.right-Qn&&(i=vi(e.clientX-v.right)),e.clientY-A.top<=v.top+Qn?c=-vi(v.top-e.clientY):e.clientY+A.bottom>=v.bottom-Qn&&(c=vi(e.clientY-v.bottom)),this.setScrollSpeed(i,c)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let i=0;i<e.ranges.length;i++){let c=e.ranges[i],v=null;if(c.empty){let A=jn(this.atoms,c.from,0);A!=c.from&&(v=o.jT.cursor(A,-1))}else{let A=jn(this.atoms,c.from,-1),W=jn(this.atoms,c.to,1);(A!=c.from||W!=c.to)&&(v=o.jT.range(c.from==c.anchor?A:W,c.from==c.head?A:W))}v&&(t||(t=e.ranges.slice()),t[i]=v)}return t?o.jT.create(t,e.mainIndex):e}select(e){let{view:t}=this,i=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection)||i.main.assoc!=t.state.selection.main.assoc)&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function ro(l,e){let t=l.state.facet(Nr);return t.length?t[0](e):Ue.mac?e.metaKey:e.ctrlKey}function Yn(l,e){let t=l.state.facet(cn);return t.length?t[0](e):Ue.mac?!e.altKey:!e.ctrlKey}function Li(l,e){let{main:t}=l.state.selection;if(t.empty)return!1;let i=re(l.root);if(!i||i.rangeCount==0)return!0;let c=i.getRangeAt(0).getClientRects();for(let v=0;v<c.length;v++){let A=c[v];if(A.left<=e.clientX&&A.right>=e.clientX&&A.top<=e.clientY&&A.bottom>=e.clientY)return!0}return!1}function Bi(l,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=l.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=Re.get(t))&&i.ignoreEvent(e))return!1;return!0}const Xr=Object.create(null),Co=Object.create(null),Hi=Ue.ie&&Ue.ie_version<15||Ue.ios&&Ue.webkit_version<604;function pi(l){let e=l.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{l.focus(),t.remove(),Ao(l,t.value)},50)}function Ao(l,e){let{state:t}=l,i,c=1,v=t.toText(e),A=v.lines==t.selection.ranges.length;if(Ji!=null&&t.selection.ranges.every(X=>X.empty)&&Ji==v.toString()){let X=-1;i=t.changeByRange(me=>{let ue=t.doc.lineAt(me.from);if(ue.from==X)return{range:me};X=ue.from;let je=t.toText((A?v.line(c++).text:e)+t.lineBreak);return{changes:{from:ue.from,insert:je},range:o.jT.cursor(me.from+je.length)}})}else A?i=t.changeByRange(X=>{let me=v.line(c++);return{changes:{from:X.from,to:X.to,insert:me.text},range:o.jT.cursor(X.from+me.length)}}):i=t.replaceSelection(v);l.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Xr.keydown=(l,e)=>{l.inputState.setSelectionOrigin("select"),e.keyCode==27&&(l.inputState.lastEscPress=Date.now())},Xr.touchstart=(l,e)=>{l.inputState.lastTouchTime=Date.now(),l.inputState.setSelectionOrigin("select.pointer")},Xr.touchmove=l=>{l.inputState.setSelectionOrigin("select.pointer")},Co.touchstart=Co.touchmove={passive:!0},Xr.mousedown=(l,e)=>{if(l.observer.flush(),l.inputState.lastTouchTime>Date.now()-2e3)return;let t=null;for(let i of l.state.facet(gn))if(t=i(l,e),t)break;if(!t&&e.button==0&&(t=Rs(l,e)),t){let i=l.root.activeElement!=l.contentDOM;l.inputState.startMouseSelection(new Ni(l,e,t,i)),i&&l.observer.ignore(()=>Xe(l.contentDOM)),l.inputState.mouseSelection&&l.inputState.mouseSelection.start(e)}};function Po(l,e,t,i){if(i==1)return o.jT.cursor(e,t);if(i==2)return Ti(l.state,e,t);{let c=Tr.find(l.docView,e),v=l.state.doc.lineAt(c?c.posAtEnd:e),A=c?c.posAtStart:v.from,W=c?c.posAtEnd:v.to;return W<l.state.doc.length&&W==v.to&&W++,o.jT.range(A,W)}}let To=(l,e)=>l>=e.top&&l<=e.bottom,ci=(l,e,t)=>To(e,t)&&l>=t.left&&l<=t.right;function lo(l,e,t,i){let c=Tr.find(l.docView,e);if(!c)return 1;let v=e-c.posAtStart;if(v==0)return 1;if(v==c.length)return-1;let A=c.coordsAt(v,-1);if(A&&ci(t,i,A))return-1;let W=c.coordsAt(v,1);return W&&ci(t,i,W)?1:A&&To(i,A)?-1:1}function _i(l,e){let t=l.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:lo(l,t,e.clientX,e.clientY)}}const _o=Ue.ie&&Ue.ie_version<=11;let Wo=null,go=0,Ss=0;function Is(l){if(!_o)return l.detail;let e=Wo,t=Ss;return Wo=l,Ss=Date.now(),go=!e||t>Date.now()-400&&Math.abs(e.clientX-l.clientX)<2&&Math.abs(e.clientY-l.clientY)<2?(go+1)%3:1}function Rs(l,e){let t=_i(l,e),i=Is(e),c=l.state.selection;return{update(v){v.docChanged&&(t.pos=v.changes.mapPos(t.pos),c=c.map(v.changes))},get(v,A,W){let X=_i(l,v),me,ue=Po(l,X.pos,X.bias,i);if(t.pos!=X.pos&&!A){let je=Po(l,t.pos,t.bias,i),ct=Math.min(je.from,ue.from),vt=Math.max(je.to,ue.to);ue=ct<ue.from?o.jT.range(ct,vt):o.jT.range(vt,ct)}return A?c.replaceRange(c.main.extend(ue.from,ue.to)):W&&i==1&&c.ranges.length>1&&(me=Dn(c,X.pos))?me:W?c.addRange(ue):o.jT.create([ue])}}}function Dn(l,e){for(let t=0;t<l.ranges.length;t++){let{from:i,to:c}=l.ranges[t];if(i<=e&&c>=e)return o.jT.create(l.ranges.slice(0,t).concat(l.ranges.slice(t+1)),l.mainIndex==t?0:l.mainIndex-(l.mainIndex>t?1:0))}return null}Xr.dragstart=(l,e)=>{let{selection:{main:t}}=l.state,{mouseSelection:i}=l.inputState;i&&(i.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",l.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")};function Do(l,e,t,i){if(!t)return;let c=l.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:v}=l.inputState,A=i&&v&&v.dragging&&v.dragMove?{from:v.dragging.from,to:v.dragging.to}:null,W={from:c,insert:t},X=l.state.changes(A?[A,W]:W);l.focus(),l.dispatch({changes:X,selection:{anchor:X.mapPos(c,-1),head:X.mapPos(c,1)},userEvent:A?"move.drop":"input.drop"})}Xr.drop=(l,e)=>{if(!e.dataTransfer)return;if(l.state.readOnly)return e.preventDefault();let t=e.dataTransfer.files;if(t&&t.length){e.preventDefault();let i=Array(t.length),c=0,v=()=>{++c==t.length&&Do(l,e,i.filter(A=>A!=null).join(l.state.lineBreak),!1)};for(let A=0;A<t.length;A++){let W=new FileReader;W.onerror=v,W.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(W.result)||(i[A]=W.result),v()},W.readAsText(t[A])}}else Do(l,e,e.dataTransfer.getData("Text"),!0)},Xr.paste=(l,e)=>{if(l.state.readOnly)return e.preventDefault();l.observer.flush();let t=Hi?null:e.clipboardData;t?(Ao(l,t.getData("text/plain")||t.getData("text/uri-text")),e.preventDefault()):pi(l)};function uo(l,e){let t=l.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),l.focus()},50)}function fs(l){let e=[],t=[],i=!1;for(let c of l.selection.ranges)c.empty||(e.push(l.sliceDoc(c.from,c.to)),t.push(c));if(!e.length){let c=-1;for(let{from:v}of l.selection.ranges){let A=l.doc.lineAt(v);A.number>c&&(e.push(A.text),t.push({from:A.from,to:Math.min(l.doc.length,A.to+1)})),c=A.number}i=!0}return{text:e.join(l.lineBreak),ranges:t,linewise:i}}let Ji=null;Xr.copy=Xr.cut=(l,e)=>{let{text:t,ranges:i,linewise:c}=fs(l.state);if(!t&&!c)return;Ji=c?t:null;let v=Hi?null:e.clipboardData;v?(e.preventDefault(),v.clearData(),v.setData("text/plain",t)):uo(l,t),e.type=="cut"&&!l.state.readOnly&&l.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})};const pn=o.q6.define();function Fs(l,e){let t=[];for(let i of l.facet(vn)){let c=i(l,e);c&&t.push(c)}return t?l.update({effects:t,annotations:pn.of(!0)}):null}function Di(l){setTimeout(()=>{let e=l.hasFocus;if(e!=l.inputState.notifiedFocused){let t=Fs(l.state,e);t?l.dispatch(t):l.update([])}},10)}Xr.focus=l=>{l.inputState.lastFocusTime=Date.now(),!l.scrollDOM.scrollTop&&(l.inputState.lastScrollTop||l.inputState.lastScrollLeft)&&(l.scrollDOM.scrollTop=l.inputState.lastScrollTop,l.scrollDOM.scrollLeft=l.inputState.lastScrollLeft),Di(l)},Xr.blur=l=>{l.observer.clearSelectionRange(),Di(l)},Xr.compositionstart=Xr.compositionupdate=l=>{l.inputState.compositionFirstChange==null&&(l.inputState.compositionFirstChange=!0),l.inputState.composing<0&&(l.inputState.composing=0)},Xr.compositionend=l=>{l.inputState.composing=-1,l.inputState.compositionEndedAt=Date.now(),l.inputState.compositionPendingKey=!0,l.inputState.compositionPendingChange=l.observer.pendingRecords().length>0,l.inputState.compositionFirstChange=null,Ue.chrome&&Ue.android?l.observer.flushSoon():l.inputState.compositionPendingChange?Promise.resolve().then(()=>l.observer.flush()):setTimeout(()=>{l.inputState.composing<0&&l.docView.compositionDeco.size&&l.update([])},50)},Xr.contextmenu=l=>{l.inputState.lastContextMenu=Date.now()},Xr.beforeinput=(l,e)=>{var t;let i;if(Ue.chrome&&Ue.android&&(i=nn.find(c=>c.inputType==e.inputType))&&(l.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let c=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var v;(((v=window.visualViewport)===null||v===void 0?void 0:v.height)||0)>c+10&&l.hasFocus&&(l.contentDOM.blur(),l.focus())},100)}};const Qo=["pre-wrap","normal","pre-line","break-spaces"];class no{constructor(e){this.lineWrapping=e,this.doc=o.xv.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Qo.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let c=e[i];c<0?i++:this.heightSamples[Math.floor(c*10)]||(t=!0,this.heightSamples[Math.floor(c*10)]=!0)}return t}refresh(e,t,i,c,v,A){let W=Qo.indexOf(e)>-1,X=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=W;if(this.lineWrapping=W,this.lineHeight=t,this.charWidth=i,this.textHeight=c,this.lineLength=v,X){this.heightSamples={};for(let me=0;me<A.length;me++){let ue=A[me];ue<0?me++:this.heightSamples[Math.floor(ue*10)]=!0}}return X}}class qo{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Gi{constructor(e,t,i,c,v,A){this.from=e,this.length=t,this.top=i,this.height=c,this.children=v,this.deco=A}get type(){var e,t,i;return(i=(e=this.children)!==null&&e!==void 0?e:(t=this.deco)===null||t===void 0?void 0:t.type)!==null&&i!==void 0?i:fr.Text}get widget(){return this.deco&&this.deco.widget}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(this.children||[this]).concat(e.children||[e]);return new Gi(this.from,this.length+e.length,this.top,this.height+e.height,t,null)}}var En=function(l){return l[l.ByPos=0]="ByPos",l[l.ByHeight=1]="ByHeight",l[l.ByPosNoHeight=2]="ByPosNoHeight",l}(En||(En={}));const bi=.001;class qn{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>bi&&(e.heightChanged=!0),this.height=t)}replace(e,t,i){return qn.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,c){let v=this,A=i.doc;for(let W=c.length-1;W>=0;W--){let{fromA:X,toA:me,fromB:ue,toB:je}=c[W],ct=v.lineAt(X,En.ByPosNoHeight,i.setDoc(t),0,0),vt=ct.to>=me?ct:v.lineAt(me,En.ByPosNoHeight,i,0,0);for(je+=vt.to-me,me=vt.to;W>0&&ct.from<=c[W-1].toA;)X=c[W-1].fromA,ue=c[W-1].fromB,W--,X<ct.from&&(ct=v.lineAt(X,En.ByPosNoHeight,i,0,0));ue+=ct.from-X,X=ct.from;let Ft=io.build(i.setDoc(A),e,ue,je);v=v.replace(X,me,Ft)}return v.updateHeight(i,0)}static empty(){return new xi(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,c=0,v=0;for(;;)if(t==i)if(c>v*2){let W=e[t-1];W.break?e.splice(--t,1,W.left,null,W.right):e.splice(--t,1,W.left,W.right),i+=1+W.break,c-=W.size}else if(v>c*2){let W=e[i];W.break?e.splice(i,1,W.left,null,W.right):e.splice(i,1,W.left,W.right),i+=2+W.break,v-=W.size}else break;else if(c<v){let W=e[t++];W&&(c+=W.size)}else{let W=e[--i];W&&(v+=W.size)}let A=0;return e[t-1]==null?(A=1,t--):e[t]==null&&(A=1,i++),new Es(qn.of(e.slice(0,t)),A,qn.of(e.slice(i)))}}qn.prototype.size=1;class ko extends qn{constructor(e,t,i){super(e,t),this.deco=i}blockAt(e,t,i,c){return new Gi(c,this.length,i,this.height,null,this.deco)}lineAt(e,t,i,c,v){return this.blockAt(0,i,c,v)}forEachLine(e,t,i,c,v,A){e<=v+this.length&&t>=v&&A(this.blockAt(0,i,c,v))}updateHeight(e,t=0,i=!1,c){return c&&c.from<=t&&c.more&&this.setHeight(e,c.heights[c.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class xi extends ko{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0}replace(e,t,i){let c=i[0];return i.length==1&&(c instanceof xi||c instanceof ei&&c.flags&4)&&Math.abs(this.length-c.length)<10?(c instanceof ei?c=new xi(c.length,this.height):c.height=this.height,this.outdated||(c.outdated=!1),c):qn.of(i)}updateHeight(e,t=0,i=!1,c){return c&&c.from<=t&&c.more?this.setHeight(e,c.heights[c.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class ei extends qn{constructor(e){super(e,0)}heightMetrics(e,t){let i=e.doc.lineAt(t).number,c=e.doc.lineAt(t+this.length).number,v=c-i+1,A,W=0;if(e.lineWrapping){let X=Math.min(this.height,e.lineHeight*v);A=X/v,this.length>v+1&&(W=(this.height-X)/(this.length-v-1))}else A=this.height/v;return{firstLine:i,lastLine:c,perLine:A,perChar:W}}blockAt(e,t,i,c){let{firstLine:v,lastLine:A,perLine:W,perChar:X}=this.heightMetrics(t,c);if(t.lineWrapping){let me=c+Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length),ue=t.doc.lineAt(me),je=W+ue.length*X,ct=Math.max(i,e-je/2);return new Gi(ue.from,ue.length,ct,je,null,null)}else{let me=Math.max(0,Math.min(A-v,Math.floor((e-i)/W))),{from:ue,length:je}=t.doc.line(v+me);return new Gi(ue,je,i+W*me,W,null,null)}}lineAt(e,t,i,c,v){if(t==En.ByHeight)return this.blockAt(e,i,c,v);if(t==En.ByPosNoHeight){let{from:vt,to:Ft}=i.doc.lineAt(e);return new Gi(vt,Ft-vt,0,0,null,null)}let{firstLine:A,perLine:W,perChar:X}=this.heightMetrics(i,v),me=i.doc.lineAt(e),ue=W+me.length*X,je=me.number-A,ct=c+W*je+X*(me.from-v-je);return new Gi(me.from,me.length,Math.max(c,Math.min(ct,c+this.height-ue)),ue,null,null)}forEachLine(e,t,i,c,v,A){e=Math.max(e,v),t=Math.min(t,v+this.length);let{firstLine:W,perLine:X,perChar:me}=this.heightMetrics(i,v);for(let ue=e,je=c;ue<=t;){let ct=i.doc.lineAt(ue);if(ue==e){let Ft=ct.number-W;je+=X*Ft+me*(e-v-Ft)}let vt=X+me*ct.length;A(new Gi(ct.from,ct.length,je,vt,null,null)),je+=vt,ue=ct.to+1}}replace(e,t,i){let c=this.length-t;if(c>0){let v=i[i.length-1];v instanceof ei?i[i.length-1]=new ei(v.length+c):i.push(null,new ei(c-1))}if(e>0){let v=i[0];v instanceof ei?i[0]=new ei(e+v.length):i.unshift(new ei(e-1),null)}return qn.of(i)}decomposeLeft(e,t){t.push(new ei(e-1),null)}decomposeRight(e,t){t.push(null,new ei(this.length-e-1))}updateHeight(e,t=0,i=!1,c){let v=t+this.length;if(c&&c.from<=t+this.length&&c.more){let A=[],W=Math.max(t,c.from),X=-1;for(c.from>t&&A.push(new ei(c.from-t-1).updateHeight(e,t));W<=v&&c.more;){let ue=e.doc.lineAt(W).length;A.length&&A.push(null);let je=c.heights[c.index++];X==-1?X=je:Math.abs(je-X)>=bi&&(X=-2);let ct=new xi(ue,je);ct.outdated=!1,A.push(ct),W+=ue+1}W<=v&&A.push(null,new ei(v-W).updateHeight(e,W));let me=qn.of(A);return(X<0||Math.abs(me.height-this.height)>=bi||Math.abs(X-this.heightMetrics(e,t).perLine)>=bi)&&(e.heightChanged=!0),me}else(i||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Es extends qn{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,c){let v=i+this.left.height;return e<v?this.left.blockAt(e,t,i,c):this.right.blockAt(e,t,v,c+this.left.length+this.break)}lineAt(e,t,i,c,v){let A=c+this.left.height,W=v+this.left.length+this.break,X=t==En.ByHeight?e<A:e<W,me=X?this.left.lineAt(e,t,i,c,v):this.right.lineAt(e,t,i,A,W);if(this.break||(X?me.to<W:me.from>W))return me;let ue=t==En.ByPosNoHeight?En.ByPosNoHeight:En.ByPos;return X?me.join(this.right.lineAt(W,ue,i,A,W)):this.left.lineAt(W,ue,i,c,v).join(me)}forEachLine(e,t,i,c,v,A){let W=c+this.left.height,X=v+this.left.length+this.break;if(this.break)e<X&&this.left.forEachLine(e,t,i,c,v,A),t>=X&&this.right.forEachLine(e,t,i,W,X,A);else{let me=this.lineAt(X,En.ByPos,i,c,v);e<me.from&&this.left.forEachLine(e,me.from-1,i,c,v,A),me.to>=e&&me.from<=t&&A(me),t>me.to&&this.right.forEachLine(me.to+1,t,i,W,X,A)}}replace(e,t,i){let c=this.left.length+this.break;if(t<c)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-c,t-c,i));let v=[];e>0&&this.decomposeLeft(e,v);let A=v.length;for(let W of i)v.push(W);if(e>0&&ti(v,A-1),t<this.length){let W=v.length;this.decomposeRight(t,v),ti(v,W)}return qn.of(v)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,c=i+this.break;if(e>=c)return this.right.decomposeRight(e-c,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<c&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?qn.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,c){let{left:v,right:A}=this,W=t+v.length+this.break,X=null;return c&&c.from<=t+v.length&&c.more?X=v=v.updateHeight(e,t,i,c):v.updateHeight(e,t,i),c&&c.from<=W+A.length&&c.more?X=A=A.updateHeight(e,W,i,c):A.updateHeight(e,W,i),X?this.balanced(v,A):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function ti(l,e){let t,i;l[e]==null&&(t=l[e-1])instanceof ei&&(i=l[e+1])instanceof ei&&l.splice(e-1,3,new ei(t.length+1+i.length))}const co=5;class io{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),c=this.nodes[this.nodes.length-1];c instanceof xi?c.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new xi(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let c=i.widget?i.widget.estimatedHeight:0;c<0&&(c=this.oracle.lineHeight);let v=t-e;i.block?this.addBlock(new ko(v,c,i)):(v||c>=co)&&this.addLineDeco(c,v)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new xi(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new ei(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof xi)return e;let t=new xi(0,-1);return this.nodes.push(t),t}addBlock(e){var t;this.enterLine();let i=(t=e.deco)===null||t===void 0?void 0:t.type;i==fr.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,i!=fr.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let i=this.ensureLine();i.length+=t,i.collapsed+=t,i.widgetHeight=Math.max(i.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof xi)&&!this.isCovered?this.nodes.push(new xi(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let c of this.nodes)c instanceof xi&&c.updateHeight(this.oracle,i),i+=c?c.length:1;return this.nodes}static build(e,t,i,c){let v=new io(i,e);return o.Xs.spans(t,i,c,v,0),v.finish(i)}}function Wi(l,e,t){let i=new Zo;return o.Xs.compare(l,e,t,i,0),i.changes}class Zo{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,c){(e<t||i&&i.heightRelevant||c&&c.heightRelevant)&&wr(e,t,this.changes,5)}}function ki(l,e){let t=l.getBoundingClientRect(),i=l.ownerDocument,c=i.defaultView||window,v=Math.max(0,t.left),A=Math.min(c.innerWidth,t.right),W=Math.max(0,t.top),X=Math.min(c.innerHeight,t.bottom);for(let me=l.parentNode;me&&me!=i.body;)if(me.nodeType==1){let ue=me,je=window.getComputedStyle(ue);if((ue.scrollHeight>ue.clientHeight||ue.scrollWidth>ue.clientWidth)&&je.overflow!="visible"){let ct=ue.getBoundingClientRect();v=Math.max(v,ct.left),A=Math.min(A,ct.right),W=Math.max(W,ct.top),X=me==l.parentNode?ct.bottom:Math.min(X,ct.bottom)}me=je.position=="absolute"||je.position=="fixed"?ue.offsetParent:ue.parentNode}else if(me.nodeType==11)me=me.host;else break;return{left:v-t.left,right:Math.max(v,A)-t.left,top:W-(t.top+e),bottom:Math.max(W,X)-(t.top+e)}}function ws(l,e){let t=l.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class bo{constructor(e,t,i){this.from=e,this.to=t,this.size=i}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let c=e[i],v=t[i];if(c.from!=v.from||c.to!=v.to||c.size!=v.size)return!1}return!0}draw(e){return Ie.replace({widget:new ri(this.size,e)}).range(this.from,this.to)}}class ri extends Rr{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Ci{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=Wn,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=$t.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(V).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new no(t),this.stateDeco=e.facet(q).filter(i=>typeof i!="function"),this.heightMap=qn.empty().applyChanges(this.stateDeco,o.xv.empty,this.heightOracle.setDoc(e.doc),[new wt(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Ie.set(this.lineGaps.map(i=>i.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let c=i?t.head:t.anchor;if(!e.some(({from:v,to:A})=>c>=v&&c<=A)){let{from:v,to:A}=this.lineBlockAt(c);e.push(new Dr(v,A))}}this.viewports=e.sort((i,c)=>i.from-c.from),this.scaler=this.heightMap.height<=7e6?Wn:new zs(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:Vo(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(q).filter(me=>typeof me!="function");let c=e.changedRanges,v=wt.extendWithRanges(c,Wi(i,this.stateDeco,e?e.changes:o.as.empty(this.state.doc.length))),A=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),v),this.heightMap.height!=A&&(e.flags|=2);let W=v.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<W.from||t.range.head>W.to)||!this.viewportIsAppropriate(W))&&(W=this.getViewport(0,t));let X=!e.changes.empty||e.flags&2||W.from!=this.viewport.from||W.to!=this.viewport.to;this.viewport=W,this.updateForViewport(),X&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(_n)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),c=this.heightOracle,v=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?$t.RTL:$t.LTR;let A=this.heightOracle.mustRefreshForWrapping(v),W=t.getBoundingClientRect(),X=A||this.mustMeasureContent||this.contentDOMHeight!=W.height;this.contentDOMHeight=W.height,this.mustMeasureContent=!1;let me=0,ue=0,je=parseInt(i.paddingTop)||0,ct=parseInt(i.paddingBottom)||0;(this.paddingTop!=je||this.paddingBottom!=ct)&&(this.paddingTop=je,this.paddingBottom=ct,me|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(c.lineWrapping&&(X=!0),this.editorWidth=e.scrollDOM.clientWidth,me|=8);let vt=(this.printing?ws:ki)(t,this.paddingTop),Ft=vt.top-this.pixelViewport.top,Ot=vt.bottom-this.pixelViewport.bottom;this.pixelViewport=vt;let Bt=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(Bt!=this.inView&&(this.inView=Bt,Bt&&(X=!0)),!this.inView&&!this.scrollTarget)return 0;let Qt=W.width;if((this.contentDOMWidth!=Qt||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=W.width,this.editorHeight=e.scrollDOM.clientHeight,me|=8),X){let Gr=e.docView.measureVisibleLineHeights(this.viewport);if(c.mustRefreshForHeights(Gr)&&(A=!0),A||c.lineWrapping&&Math.abs(Qt-this.contentDOMWidth)>c.charWidth){let{lineHeight:un,charWidth:Tn,textHeight:Ln}=e.docView.measureTextSize();A=un>0&&c.refresh(v,un,Tn,Ln,Qt/Tn,Gr),A&&(e.docView.minWidth=0,me|=8)}Ft>0&&Ot>0?ue=Math.max(Ft,Ot):Ft<0&&Ot<0&&(ue=Math.min(Ft,Ot)),c.heightChanged=!1;for(let un of this.viewports){let Tn=un.from==this.viewport.from?Gr:e.docView.measureVisibleLineHeights(un);this.heightMap=(A?qn.empty().applyChanges(this.stateDeco,o.xv.empty,this.heightOracle,[new wt(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(c,0,A,new qo(un.from,Tn))}c.heightChanged&&(me|=2)}let Hr=!this.viewportIsAppropriate(this.viewport,ue)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return Hr&&(this.viewport=this.getViewport(ue,this.scrollTarget)),this.updateForViewport(),(me&2||Hr)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(A?[]:this.lineGaps,e)),me|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),me}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),c=this.heightMap,v=this.heightOracle,{visibleTop:A,visibleBottom:W}=this,X=new Dr(c.lineAt(A-i*1e3,En.ByHeight,v,0,0).from,c.lineAt(W+(1-i)*1e3,En.ByHeight,v,0,0).to);if(t){let{head:me}=t.range;if(me<X.from||me>X.to){let ue=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),je=c.lineAt(me,En.ByPos,v,0,0),ct;t.y=="center"?ct=(je.top+je.bottom)/2-ue/2:t.y=="start"||t.y=="nearest"&&me<X.from?ct=je.top:ct=je.bottom-ue,X=new Dr(c.lineAt(ct-1e3/2,En.ByHeight,v,0,0).from,c.lineAt(ct+ue+1e3/2,En.ByHeight,v,0,0).to)}}return X}mapViewport(e,t){let i=t.mapPos(e.from,-1),c=t.mapPos(e.to,1);return new Dr(this.heightMap.lineAt(i,En.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(c,En.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:c}=this.heightMap.lineAt(e,En.ByPos,this.heightOracle,0,0),{bottom:v}=this.heightMap.lineAt(t,En.ByPos,this.heightOracle,0,0),{visibleTop:A,visibleBottom:W}=this;return(e==0||c<=A-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||v>=W+Math.max(10,Math.min(i,250)))&&c>A-2*1e3&&v<W+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let c of e)t.touchesRange(c.from,c.to)||i.push(new bo(t.mapPos(c.from),t.mapPos(c.to),c.size));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,c=i?1e4:2e3,v=c>>1,A=c<<1;if(this.defaultTextDirection!=$t.LTR&&!i)return[];let W=[],X=(me,ue,je,ct)=>{if(ue-me<v)return;let vt=this.state.selection.main,Ft=[vt.from];vt.empty||Ft.push(vt.to);for(let Bt of Ft)if(Bt>me&&Bt<ue){X(me,Bt-10,je,ct),X(Bt+10,ue,je,ct);return}let Ot=Ks(e,Bt=>Bt.from>=je.from&&Bt.to<=je.to&&Math.abs(Bt.from-me)<v&&Math.abs(Bt.to-ue)<v&&!Ft.some(Qt=>Bt.from<Qt&&Bt.to>Qt));if(!Ot){if(ue<je.to&&t&&i&&t.visibleRanges.some(Bt=>Bt.from<=ue&&Bt.to>=ue)){let Bt=t.moveToLineBoundary(o.jT.cursor(ue),!1,!0).head;Bt>me&&(ue=Bt)}Ot=new bo(me,ue,this.gapSize(je,me,ue,ct))}W.push(Ot)};for(let me of this.viewportLines){if(me.length<A)continue;let ue=li(me.from,me.to,this.stateDeco);if(ue.total<A)continue;let je=this.scrollTarget?this.scrollTarget.range.head:null,ct,vt;if(i){let Ft=c/this.heightOracle.lineLength*this.heightOracle.lineHeight,Ot,Bt;if(je!=null){let Qt=Uo(ue,je),Hr=((this.visibleBottom-this.visibleTop)/2+Ft)/me.height;Ot=Qt-Hr,Bt=Qt+Hr}else Ot=(this.visibleTop-me.top-Ft)/me.height,Bt=(this.visibleBottom-me.top+Ft)/me.height;ct=oo(ue,Ot),vt=oo(ue,Bt)}else{let Ft=ue.total*this.heightOracle.charWidth,Ot=c*this.heightOracle.charWidth,Bt,Qt;if(je!=null){let Hr=Uo(ue,je),Gr=((this.pixelViewport.right-this.pixelViewport.left)/2+Ot)/Ft;Bt=Hr-Gr,Qt=Hr+Gr}else Bt=(this.pixelViewport.left-Ot)/Ft,Qt=(this.pixelViewport.right+Ot)/Ft;ct=oo(ue,Bt),vt=oo(ue,Qt)}ct>me.from&&X(me.from,ct,me,ue),vt<me.to&&X(vt,me.to,me,ue)}return W}gapSize(e,t,i,c){let v=Uo(c,i)-Uo(c,t);return this.heightOracle.lineWrapping?e.height*v:c.total*this.heightOracle.charWidth*v}updateLineGaps(e){bo.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Ie.set(e.map(t=>t.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];o.Xs.spans(e,this.viewport.from,this.viewport.to,{span(c,v){t.push({from:c,to:v})},point(){}},20);let i=t.length!=this.visibleRanges.length||this.visibleRanges.some((c,v)=>c.from!=t[v].from||c.to!=t[v].to);return this.visibleRanges=t,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Vo(this.heightMap.lineAt(e,En.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return Vo(this.heightMap.lineAt(this.scaler.fromDOM(e),En.ByHeight,this.heightOracle,0,0),this.scaler)}elementAtHeight(e){return Vo(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Dr{constructor(e,t){this.from=e,this.to=t}}function li(l,e,t){let i=[],c=l,v=0;return o.Xs.spans(t,l,e,{span(){},point(A,W){A>c&&(i.push({from:c,to:A}),v+=A-c),c=W}},20),c<e&&(i.push({from:c,to:e}),v+=e-c),{total:v,ranges:i}}function oo({total:l,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(l*t);for(let c=0;;c++){let{from:v,to:A}=e[c],W=A-v;if(i<=W)return v+i;i-=W}}function Uo(l,e){let t=0;for(let{from:i,to:c}of l.ranges){if(e<=c){t+=e-i;break}t+=c-i}return t/l.total}function Ks(l,e){for(let t of l)if(e(t))return t}const Wn={toDOM(l){return l},fromDOM(l){return l},scale:1};class zs{constructor(e,t,i){let c=0,v=0,A=0;this.viewports=i.map(({from:W,to:X})=>{let me=t.lineAt(W,En.ByPos,e,0,0).top,ue=t.lineAt(X,En.ByPos,e,0,0).bottom;return c+=ue-me,{from:W,to:X,top:me,bottom:ue,domTop:0,domBottom:0}}),this.scale=(7e6-c)/(t.height-c);for(let W of this.viewports)W.domTop=A+(W.top-v)*this.scale,A=W.domBottom=W.domTop+(W.bottom-W.top),v=W.bottom}toDOM(e){for(let t=0,i=0,c=0;;t++){let v=t<this.viewports.length?this.viewports[t]:null;if(!v||e<v.top)return c+(e-i)*this.scale;if(e<=v.bottom)return v.domTop+(e-v.top);i=v.bottom,c=v.domBottom}}fromDOM(e){for(let t=0,i=0,c=0;;t++){let v=t<this.viewports.length?this.viewports[t]:null;if(!v||e<v.domTop)return i+(e-c)/this.scale;if(e<=v.domBottom)return v.top+(e-v.domTop);i=v.bottom,c=v.domBottom}}}function Vo(l,e){if(e.scale==1)return l;let t=e.toDOM(l.top),i=e.toDOM(l.bottom);return new Gi(l.from,l.length,t,i-t,l.children&&l.children.map(c=>Vo(c,e)),l.deco)}const es=o.r$.define({combine:l=>l.join(" ")}),Os=o.r$.define({combine:l=>l.indexOf(!0)>-1}),xs=m.V.newName(),pt=m.V.newName(),it=m.V.newName(),Zi={"&light":"."+pt,"&dark":"."+it};function Mi(l,e,t){return new m.V(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,c=>{if(c=="&")return l;if(!t||!t[c])throw new RangeError(`Unsupported selector: ${c}`);return t[c]}):l+" "+i}})}const Jr=Mi("."+xs,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Zi);class Or{constructor(e,t,i,c){this.typeOver=c,this.bounds=null,this.text="";let{impreciseHead:v,impreciseAnchor:A}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,i,0))){let W=v||A?[]:wn(e),X=new j(W,e.state);X.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=X.text,this.newSel=An(W,this.bounds.from)}else{let W=e.observer.selectionRange,X=v&&v.node==W.focusNode&&v.offset==W.focusOffset||!oe(e.contentDOM,W.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(W.focusNode,W.focusOffset),me=A&&A.node==W.anchorNode&&A.offset==W.anchorOffset||!oe(e.contentDOM,W.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(W.anchorNode,W.anchorOffset);this.newSel=o.jT.single(me,X)}}}function gr(l,e){let t,{newSel:i}=e,c=l.state.selection.main,v=l.inputState.lastKeyTime>Date.now()-100?l.inputState.lastKeyCode:-1;if(e.bounds){let{from:A,to:W}=e.bounds,X=c.from,me=null;(v===8||Ue.android&&e.text.length<W-A)&&(X=c.to,me="end");let ue=zr(l.state.doc.sliceString(A,W,pe),e.text,X-A,me);ue&&(Ue.chrome&&v==13&&ue.toB==ue.from+2&&e.text.slice(ue.from,ue.toB)==pe+pe&&ue.toB--,t={from:A+ue.from,to:A+ue.toA,insert:o.xv.of(e.text.slice(ue.from,ue.toB).split(pe))})}else i&&(!l.hasFocus&&l.state.facet(Kn)||i.main.eq(c))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!c.empty&&i&&i.main.empty?t={from:c.from,to:c.to,insert:l.state.doc.slice(c.from,c.to)}:t&&t.from>=c.from&&t.to<=c.to&&(t.from!=c.from||t.to!=c.to)&&c.to-c.from-(t.to-t.from)<=4?t={from:c.from,to:c.to,insert:l.state.doc.slice(c.from,t.from).append(t.insert).append(l.state.doc.slice(t.to,c.to))}:(Ue.mac||Ue.android)&&t&&t.from==t.to&&t.from==c.head-1&&/^\. ?$/.test(t.insert.toString())&&l.contentDOM.getAttribute("autocorrect")=="off"?(i&&t.insert.length==2&&(i=o.jT.single(i.main.anchor-1,i.main.head-1)),t={from:c.from,to:c.to,insert:o.xv.of([" "])}):Ue.chrome&&t&&t.from==t.to&&t.from==c.head&&t.insert.toString()==`
 `&&l.lineWrapping&&(i&&(i=o.jT.single(i.main.anchor-1,i.main.head-1)),t={from:c.from,to:c.to,insert:o.xv.of([" "])}),t){let A=l.state;if(Ue.ios&&l.inputState.flushIOSKey(l)||Ue.android&&(t.from==c.from&&t.to==c.to&&t.insert.length==1&&t.insert.lines==2&&Ge(l.contentDOM,"Enter",13)||(t.from==c.from-1&&t.to==c.to&&t.insert.length==0||v==8&&t.insert.length<t.to-t.from)&&Ge(l.contentDOM,"Backspace",8)||t.from==c.from&&t.to==c.to+1&&t.insert.length==0&&Ge(l.contentDOM,"Delete",46)))return!0;let W=t.insert.toString();if(l.state.facet(dn).some(ue=>ue(l,t.from,t.to,W)))return!0;l.inputState.composing>=0&&l.inputState.composing++;let X;if(t.from>=c.from&&t.to<=c.to&&t.to-t.from>=(c.to-c.from)/3&&(!i||i.main.empty&&i.main.from==t.from+t.insert.length)&&l.inputState.composing<0){let ue=c.from<t.from?A.sliceDoc(c.from,t.from):"",je=c.to>t.to?A.sliceDoc(t.to,c.to):"";X=A.replaceSelection(l.state.toText(ue+t.insert.sliceString(0,void 0,l.state.lineBreak)+je))}else{let ue=A.changes(t),je=i&&i.main.to<=ue.newLength?i.main:void 0;if(A.selection.ranges.length>1&&l.inputState.composing>=0&&t.to<=c.to&&t.to>=c.to-10){let ct=l.state.sliceDoc(t.from,t.to),vt=Ut(l)||l.state.doc.lineAt(c.head),Ft=c.to-t.to,Ot=c.to-c.from;X=A.changeByRange(Bt=>{if(Bt.from==c.from&&Bt.to==c.to)return{changes:ue,range:je||Bt.map(ue)};let Qt=Bt.to-Ft,Hr=Qt-ct.length;if(Bt.to-Bt.from!=Ot||l.state.sliceDoc(Hr,Qt)!=ct||vt&&Bt.to>=vt.from&&Bt.from<=vt.to)return{range:Bt};let Gr=A.changes({from:Hr,to:Qt,insert:t.insert}),un=Bt.to-c.to;return{changes:Gr,range:je?o.jT.range(Math.max(0,je.anchor+un),Math.max(0,je.head+un)):Bt.map(Gr)}})}else X={changes:ue,selection:je&&A.selection.replaceRange(je)}}let me="input.type";return(l.composing||l.inputState.compositionPendingChange&&l.inputState.compositionEndedAt>Date.now()-50)&&(l.inputState.compositionPendingChange=!1,me+=".compose",l.inputState.compositionFirstChange&&(me+=".start",l.inputState.compositionFirstChange=!1)),l.dispatch(X,{scrollIntoView:!0,userEvent:me}),!0}else if(i&&!i.main.eq(c)){let A=!1,W="select";return l.inputState.lastSelectionTime>Date.now()-50&&(l.inputState.lastSelectionOrigin=="select"&&(A=!0),W=l.inputState.lastSelectionOrigin),l.dispatch({selection:i,scrollIntoView:A,userEvent:W}),!0}else return!1}function zr(l,e,t,i){let c=Math.min(l.length,e.length),v=0;for(;v<c&&l.charCodeAt(v)==e.charCodeAt(v);)v++;if(v==c&&l.length==e.length)return null;let A=l.length,W=e.length;for(;A>0&&W>0&&l.charCodeAt(A-1)==e.charCodeAt(W-1);)A--,W--;if(i=="end"){let X=Math.max(0,v-Math.min(A,W));t-=A+X-v}if(A<v&&l.length<e.length){let X=t<=v&&t>=A?v-t:0;v-=X,W=v+(W-A),A=v}else if(W<v){let X=t<=v&&t>=W?v-t:0;v-=X,A=v+(A-W),W=v}return{from:v,toA:A,toB:W}}function wn(l){let e=[];if(l.root.activeElement!=l.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:c,focusOffset:v}=l.observer.selectionRange;return t&&(e.push(new ke(t,i)),(c!=t||v!=i)&&e.push(new ke(c,v))),e}function An(l,e){if(l.length==0)return null;let t=l[0].pos,i=l.length==2?l[1].pos:t;return t>-1&&i>-1?o.jT.single(t+e,i+e):null}const fi={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},gi=Ue.ie&&Ue.ie_version<=11;class So{constructor(e){this.view=e,this.active=!1,this.selectionRange=new Ce,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(Ue.ie&&Ue.ie_version<=11||Ue.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),gi&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,c=this.selectionRange;if(i.state.facet(Kn)?i.root.activeElement!=this.dom:!F(i.dom,c))return;let v=c.anchorNode&&i.docView.nearest(c.anchorNode);if(v&&v.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(Ue.ie&&Ue.ie_version<=11||Ue.android&&Ue.chrome)&&!i.state.selection.main.empty&&c.focusNode&&Se(c.focusNode,c.focusOffset,c.anchorNode,c.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Ue.safari&&e.root.nodeType==11&&ye(this.dom.ownerDocument)==this.dom&&Zn(this.view)||re(e.root);if(!t||this.selectionRange.eq(t))return!1;let i=F(this.dom,t);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&St(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,fi),gi&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),gi&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let c=()=>{let v=this.delayedAndroidKey;v&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=v.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&v.force&&Ge(this.dom,v.key,v.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(c)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,c=!1;for(let v of e){let A=this.readMutation(v);A&&(A.typeOver&&(c=!0),t==-1?{from:t,to:i}=A:(t=Math.min(A.from,t),i=Math.max(A.to,i)))}return{from:t,to:i,typeOver:c}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),c=this.selectionChanged&&F(this.dom,this.selectionRange);return e<0&&!c?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new Or(this.view,e,t,i))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return!1;let i=this.view.state,c=gr(this.view,t);return this.view.state==i&&this.view.update([]),c}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.dirty|=4),e.type=="childList"){let i=ds(t,e.previousSibling||e.target.previousSibling,-1),c=ds(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:c?t.posBefore(c):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,i,c;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect(),(c=this.resizeContent)===null||c===void 0||c.disconnect();for(let v of this.scrollTargets)v.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function ds(l,e,t){for(;e;){let i=Re.get(e);if(i&&i.parent==l)return i;let c=e.parentNode;e=c!=l.dom?c:t>0?e.nextSibling:e.previousSibling}return null}function Zn(l){let e=null;function t(X){X.preventDefault(),X.stopImmediatePropagation(),e=X.getTargetRanges()[0]}if(l.contentDOM.addEventListener("beforeinput",t,!0),l.dom.ownerDocument.execCommand("indent"),l.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let i=e.startContainer,c=e.startOffset,v=e.endContainer,A=e.endOffset,W=l.docView.domAtPos(l.state.selection.main.anchor);return Se(W.node,W.offset,v,A)&&([i,c,v,A]=[v,A,i,c]),{anchorNode:i,anchorOffset:c,focusNode:v,focusOffset:A}}class Nn{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(t=>this.update([t])),this.dispatch=this.dispatch.bind(this),this._root=e.root||_t(e.parent)||document,this.viewState=new Ci(e.state||o.yy.create(e)),this.plugins=this.state.facet(Ri).map(t=>new y(t));for(let t of this.plugins)t.update(this);this.observer=new So(this),this.inputState=new on(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new Ne(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}dispatch(...e){let t=e.length==1&&e[0]instanceof o.YW?e[0]:this.state.update(...e);this._dispatch(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,c,v=this.state;for(let ct of e){if(ct.startState!=v)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");v=ct.state}if(this.destroyed){this.viewState.state=v;return}let A=this.hasFocus,W=0,X=null;e.some(ct=>ct.annotation(pn))?(this.inputState.notifiedFocused=A,W=1):A!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=A,X=Fs(v,A),X||(W=1));let me=this.observer.delayedAndroidKey,ue=null;if(me?(this.observer.clearDelayedAndroidKey(),ue=this.observer.readChange(),(ue&&!this.state.doc.eq(v.doc)||!this.state.selection.eq(v.selection))&&(ue=null)):this.observer.clear(),v.facet(o.yy.phrases)!=this.state.facet(o.yy.phrases))return this.setState(v);c=jt.create(this,v,e),c.flags|=W;let je=this.viewState.scrollTarget;try{this.updateState=2;for(let ct of e){if(je&&(je=je.map(ct.changes)),ct.scrollIntoView){let{main:vt}=ct.state.selection;je=new an(vt.empty?vt:o.jT.cursor(vt.head,vt.head>vt.anchor?-1:1))}for(let vt of ct.effects)vt.is(rn)&&(je=vt.value)}this.viewState.update(c,je),this.bidiCache=rs.update(this.bidiCache,c.changes),c.empty||(this.updatePlugins(c),this.inputState.update(c)),t=this.docView.update(c),this.state.facet(He)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(ct=>ct.isUserEvent("select.pointer")))}finally{this.updateState=0}if(c.startState.facet(es)!=c.state.facet(es)&&(this.viewState.mustMeasureContent=!0),(t||i||je||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!c.empty)for(let ct of this.state.facet(yn))ct(c);(X||ue)&&Promise.resolve().then(()=>{X&&this.state==X.startState&&this.dispatch(X),ue&&!gr(this,ue)&&me.force&&Ge(this.contentDOM,me.key,me.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new Ci(e),this.plugins=e.facet(Ri).map(i=>new y(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView=new Ne(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Ri),i=e.state.facet(Ri);if(t!=i){let c=[];for(let v of i){let A=t.indexOf(v);if(A<0)c.push(new y(v));else{let W=this.plugins[A];W.mustUpdate=e,c.push(W)}}for(let v of this.plugins)v.mustUpdate!=e&&v.destroy(this);this.plugins=c,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let c of this.plugins)c.mustUpdate=e;for(let c=0;c<this.plugins.length;c++)this.plugins[c].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,{scrollHeight:i,scrollTop:c,clientHeight:v}=this.scrollDOM,A=c>i-v-4?i:c;try{for(let W=0;;W++){this.updateState=1;let X=this.viewport,me=this.viewState.lineBlockAtHeight(A),ue=this.viewState.measure(this);if(!ue&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(W>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let je=[];ue&4||([this.measureRequests,je]=[je,this.measureRequests]);let ct=je.map(Bt=>{try{return Bt.read(this)}catch(Qt){return mn(this.state,Qt),ts}}),vt=jt.create(this,this.state,[]),Ft=!1,Ot=!1;vt.flags|=ue,t?t.flags|=ue:t=vt,this.updateState=2,vt.empty||(this.updatePlugins(vt),this.inputState.update(vt),this.updateAttrs(),Ft=this.docView.update(vt));for(let Bt=0;Bt<je.length;Bt++)if(ct[Bt]!=ts)try{let Qt=je[Bt];Qt.write&&Qt.write(ct[Bt],this)}catch(Qt){mn(this.state,Qt)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,Ot=!0;else{let Bt=this.viewState.lineBlockAt(me.from).top-me.top;(Bt>1||Bt<-1)&&(this.scrollDOM.scrollTop+=Bt,Ot=!0)}if(Ft&&this.docView.updateSelection(!0),this.viewport.from==X.from&&this.viewport.to==X.to&&!Ot&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let W of this.state.facet(yn))W(t)}get themeClasses(){return xs+" "+(this.state.facet(Os)?it:pt)+" "+this.state.facet(es)}updateAttrs(){let e=Ua(this,T,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Kn)?"true":"false",class:"cm-content",style:`${Ue.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),Ua(this,V,t);let i=this.observer.ignore(()=>{let c=Vr(this.contentDOM,this.contentAttrs,t),v=Vr(this.dom,this.editorAttrs,e);return c||v});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let c of i.effects)if(c.is(Nn.announce)){t&&(this.announceDOM.textContent=""),t=!1;let v=this.announceDOM.appendChild(document.createElement("div"));v.textContent=c.value}}mountStyles(){this.styleModules=this.state.facet(He),m.V.mount(this.root,this.styleModules.concat(Jr).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return Jn(this,e,Ir(this,e,t,i))}moveByGroup(e,t){return Jn(this,e,Ir(this,e,t,i=>ln(this,e.head,i)))}moveToLineBoundary(e,t,i=!0){return Ur(this,e,t,i)}moveVertically(e,t,i){return Jn(this,e,mi(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),Je(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let c=this.state.doc.lineAt(e),v=this.bidiSpans(c),A=v[qi.find(v,e-c.from,-1,t)];return te(i,A.dir==$t.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(tn)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Aa)return eo(e.length);let t=this.textDirectionAt(e.from);for(let c of this.bidiCache)if(c.from==e.from&&c.dir==t)return c.order;let i=kn(e.text,t);return this.bidiCache.push(new rs(e.from,e.to,t,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Ue.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Xe(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return rn.of(new an(typeof e=="number"?o.jT.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return Pe.define(()=>({}),{eventHandlers:e})}static theme(e,t){let i=m.V.newName(),c=[es.of(i),He.of(Mi(`.${i}`,e))];return t&&t.dark&&c.push(Os.of(!0)),c}static baseTheme(e){return o.Wl.lowest(He.of(Mi("."+xs,e,Zi)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),c=i&&Re.get(i)||Re.get(e);return((t=c==null?void 0:c.rootView)===null||t===void 0?void 0:t.view)||null}}Nn.styleModule=He,Nn.inputHandler=dn,Nn.focusChangeEffect=vn,Nn.perLineTextDirection=tn,Nn.exceptionSink=Sn,Nn.updateListener=yn,Nn.editable=Kn,Nn.mouseSelectionStyle=gn,Nn.dragMovesSelection=cn,Nn.clickAddsSelectionRange=Nr,Nn.decorations=q,Nn.atomicRanges=Oe,Nn.scrollMargins=Ee,Nn.darkTheme=Os,Nn.contentAttributes=V,Nn.editorAttributes=T,Nn.lineWrapping=Nn.contentAttributes.of({class:"cm-lineWrapping"}),Nn.announce=o.Py.define();const Aa=4096,ts={};class rs{constructor(e,t,i,c){this.from=e,this.to=t,this.dir=i,this.order=c}static update(e,t){if(t.empty)return e;let i=[],c=e.length?e[e.length-1].dir:$t.LTR;for(let v=Math.max(0,e.length-10);v<e.length;v++){let A=e[v];A.dir==c&&!t.touchesRange(A.from,A.to)&&i.push(new rs(t.mapPos(A.from,1),t.mapPos(A.to,-1),A.dir,A.order))}return i}}function Ua(l,e,t){for(let i=l.state.facet(e),c=i.length-1;c>=0;c--){let v=i[c],A=typeof v=="function"?v(l):v;A&&yr(A,t)}return t}const Pa=Ue.mac?"mac":Ue.windows?"win":Ue.linux?"linux":"key";function Ko(l,e){const t=l.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let c,v,A,W;for(let X=0;X<t.length-1;++X){const me=t[X];if(/^(cmd|meta|m)$/i.test(me))W=!0;else if(/^a(lt)?$/i.test(me))c=!0;else if(/^(c|ctrl|control)$/i.test(me))v=!0;else if(/^s(hift)?$/i.test(me))A=!0;else if(/^mod$/i.test(me))e=="mac"?W=!0:v=!0;else throw new Error("Unrecognized modifier name: "+me)}return c&&(i="Alt-"+i),v&&(i="Ctrl-"+i),W&&(i="Meta-"+i),A&&(i="Shift-"+i),i}function fo(l,e,t){return e.altKey&&(l="Alt-"+l),e.ctrlKey&&(l="Ctrl-"+l),e.metaKey&&(l="Meta-"+l),t!==!1&&e.shiftKey&&(l="Shift-"+l),l}const ho=o.Wl.default(Nn.domEventHandlers({keydown(l,e){return ma(na(e.state),l,e,"editor")}})),hs=o.r$.define({enables:ho}),js=new WeakMap;function na(l){let e=l.facet(hs),t=js.get(e);return t||js.set(e,t=ha(e.reduce((i,c)=>i.concat(c),[]))),t}function Va(l,e,t){return ma(na(l.state),e,l,t)}let ns=null;const Hs=4e3;function ha(l,e=Pa){let t=Object.create(null),i=Object.create(null),c=(A,W)=>{let X=i[A];if(X==null)i[A]=W;else if(X!=W)throw new Error("Key binding "+A+" is used both as a regular binding and as a multi-stroke prefix")},v=(A,W,X,me)=>{var ue,je;let ct=t[A]||(t[A]=Object.create(null)),vt=W.split(/ (?!$)/).map(Bt=>Ko(Bt,e));for(let Bt=1;Bt<vt.length;Bt++){let Qt=vt.slice(0,Bt).join(" ");c(Qt,!0),ct[Qt]||(ct[Qt]={preventDefault:!0,run:[Hr=>{let Gr=ns={view:Hr,prefix:Qt,scope:A};return setTimeout(()=>{ns==Gr&&(ns=null)},Hs),!0}]})}let Ft=vt.join(" ");c(Ft,!1);let Ot=ct[Ft]||(ct[Ft]={preventDefault:!1,run:((je=(ue=ct._any)===null||ue===void 0?void 0:ue.run)===null||je===void 0?void 0:je.slice())||[]});X&&Ot.run.push(X),me&&(Ot.preventDefault=!0)};for(let A of l){let W=A.scope?A.scope.split(" "):["editor"];if(A.any)for(let me of W){let ue=t[me]||(t[me]=Object.create(null));ue._any||(ue._any={preventDefault:!1,run:[]});for(let je in ue)ue[je].run.push(A.any)}let X=A[e]||A.key;if(X)for(let me of W)v(me,X,A.run,A.preventDefault),A.shift&&v(me,"Shift-"+X,A.shift,A.preventDefault)}return t}function ma(l,e,t,i){let c=ee(e),v=(0,o.gm)(c,0),A=(0,o.nZ)(v)==c.length&&c!=" ",W="",X=!1;ns&&ns.view==t&&ns.scope==i&&(W=ns.prefix+" ",(X=fn.indexOf(e.keyCode)<0)&&(ns=null));let me=new Set,ue=Ft=>{if(Ft){for(let Ot of Ft.run)if(!me.has(Ot)&&(me.add(Ot),Ot(t,e)))return!0;Ft.preventDefault&&(X=!0)}return!1},je=l[i],ct,vt;if(je){if(ue(je[W+fo(c,e,!A)]))return!0;if(A&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Ue.windows&&e.ctrlKey&&e.altKey)&&(ct=I[e.keyCode])&&ct!=c){if(ue(je[W+fo(ct,e,!0)]))return!0;if(e.shiftKey&&(vt=O[e.keyCode])!=c&&vt!=ct&&ue(je[W+fo(vt,e,!1)]))return!0}else if(A&&e.shiftKey&&ue(je[W+fo(c,e,!0)]))return!0;if(ue(je._any))return!0}return X}class yo{constructor(e,t,i,c,v){this.className=e,this.left=t,this.top=i,this.width=c,this.height=v}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,i){if(i.empty){let c=e.coordsAtPos(i.head,i.assoc||1);if(!c)return[];let v=Ta(e);return[new yo(t,c.left-v.left,c.top-v.top,null,c.bottom-c.top)]}else return Js(e,t,i)}}function Ta(l){let e=l.scrollDOM.getBoundingClientRect();return{left:(l.textDirection==$t.LTR?e.left:e.right-l.scrollDOM.clientWidth)-l.scrollDOM.scrollLeft,top:e.top-l.scrollDOM.scrollTop}}function pa(l,e,t){let i=o.jT.cursor(e);return{from:Math.max(t.from,l.moveToLineBoundary(i,!1,!0).from),to:Math.min(t.to,l.moveToLineBoundary(i,!0,!0).from),type:fr.Text}}function ia(l,e){let t=l.lineBlockAt(e);if(Array.isArray(t.type)){for(let i of t.type)if(i.to>e||i.to==e&&(i.to==t.to||i.type==fr.Text))return i}return t}function Js(l,e,t){if(t.to<=l.viewport.from||t.from>=l.viewport.to)return[];let i=Math.max(t.from,l.viewport.from),c=Math.min(t.to,l.viewport.to),v=l.textDirection==$t.LTR,A=l.contentDOM,W=A.getBoundingClientRect(),X=Ta(l),me=A.querySelector(".cm-line"),ue=me&&window.getComputedStyle(me),je=W.left+(ue?parseInt(ue.paddingLeft)+Math.min(0,parseInt(ue.textIndent)):0),ct=W.right-(ue?parseInt(ue.paddingRight):0),vt=ia(l,i),Ft=ia(l,c),Ot=vt.type==fr.Text?vt:null,Bt=Ft.type==fr.Text?Ft:null;if(l.lineWrapping&&(Ot&&(Ot=pa(l,i,Ot)),Bt&&(Bt=pa(l,c,Bt))),Ot&&Bt&&Ot.from==Bt.from)return Hr(Gr(t.from,t.to,Ot));{let Tn=Ot?Gr(t.from,null,Ot):un(vt,!1),Ln=Bt?Gr(null,t.to,Bt):un(Ft,!0),Fi=[];return(Ot||vt).to<(Bt||Ft).from-(Ot&&Bt?1:0)?Fi.push(Qt(je,Tn.bottom,ct,Ln.top)):Tn.bottom<Ln.top&&l.elementAtHeight((Tn.bottom+Ln.top)/2).type==fr.Text&&(Tn.bottom=Ln.top=(Tn.bottom+Ln.top)/2),Hr(Tn).concat(Fi).concat(Hr(Ln))}function Qt(Tn,Ln,Fi,Fo){return new yo(e,Tn-X.left,Ln-X.top-.01,Fi-Tn,Fo-Ln+.01)}function Hr({top:Tn,bottom:Ln,horizontal:Fi}){let Fo=[];for(let Yo=0;Yo<Fi.length;Yo+=2)Fo.push(Qt(Fi[Yo],Tn,Fi[Yo+1],Ln));return Fo}function Gr(Tn,Ln,Fi){let Fo=1e9,Yo=-1e9,Ba=[];function Ja(wa,ea,tl,Wa,rl){let ca=l.coordsAtPos(wa,wa==Fi.to?-2:2),fa=l.coordsAtPos(tl,tl==Fi.from?2:-2);!ca||!fa||(Fo=Math.min(ca.top,fa.top,Fo),Yo=Math.max(ca.bottom,fa.bottom,Yo),rl==$t.LTR?Ba.push(v&&ea?je:ca.left,v&&Wa?ct:fa.right):Ba.push(!v&&Wa?je:fa.left,!v&&ea?ct:ca.right))}let Ga=Tn!=null?Tn:Fi.from,Ea=Ln!=null?Ln:Fi.to;for(let wa of l.visibleRanges)if(wa.to>Ga&&wa.from<Ea)for(let ea=Math.max(wa.from,Ga),tl=Math.min(wa.to,Ea);;){let Wa=l.state.doc.lineAt(ea);for(let rl of l.bidiSpans(Wa)){let ca=rl.from+Wa.from,fa=rl.to+Wa.from;if(ca>=tl)break;fa>ea&&Ja(Math.max(ca,ea),Tn==null&&ca<=Ga,Math.min(fa,tl),Ln==null&&fa>=Ea,rl.dir)}if(ea=Wa.to+1,ea>=tl)break}return Ba.length==0&&Ja(Ga,Tn==null,Ea,Ln==null,l.textDirection),{top:Fo,bottom:Yo,horizontal:Ba}}function un(Tn,Ln){let Fi=W.top+(Ln?Tn.top:Tn.bottom);return{top:Fi,bottom:Fi,horizontal:[]}}}function Gs(l,e){return l.constructor==e.constructor&&l.eq(e)}class Eo{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Ns)!=e.state.facet(Ns)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&e.view.requestMeasure(this.measureReq)}setOrder(e){let t=0,i=e.facet(Ns);for(;t<i.length&&i[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}draw(e){if(e.length!=this.drawn.length||e.some((t,i)=>!Gs(t,this.drawn[i]))){let t=this.dom.firstChild,i=0;for(let c of e)c.update&&t&&c.constructor&&this.drawn[i].constructor&&c.update(t,this.drawn[i])?(t=t.nextSibling,i++):this.dom.insertBefore(c.draw(),t);for(;t;){let c=t.nextSibling;t.remove(),t=c}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Ns=o.r$.define();function Ys(l){return[Pe.define(e=>new Eo(e,l)),Ns.of(l)]}const oa=!Ue.ios,zo=o.r$.define({combine(l){return(0,o.BO)(l,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function Ls(l={}){return[zo.of(l),sa,Da,is,_n.of(!0)]}function Mo(l){return l.startState.facet(zo)!=l.state.facet(zo)}const sa=Ys({above:!0,markers(l){let{state:e}=l,t=e.facet(zo),i=[];for(let c of e.selection.ranges){let v=c==e.selection.main;if(c.empty?!v||oa:t.drawRangeCursor){let A=v?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",W=c.empty?c:o.jT.cursor(c.head,c.head>c.anchor?-1:1);for(let X of yo.forRange(l,A,W))i.push(X)}}return i},update(l,e){l.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=Mo(l);return t&&_a(l.state,e),l.docChanged||l.selectionSet||t},mount(l,e){_a(e.state,l)},class:"cm-cursorLayer"});function _a(l,e){e.style.animationDuration=l.facet(zo).cursorBlinkRate+"ms"}const Da=Ys({above:!1,markers(l){return l.state.selection.ranges.map(e=>e.empty?[]:yo.forRange(l,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(l,e){return l.docChanged||l.selectionSet||l.viewportChanged||Mo(l)},class:"cm-selectionLayer"}),ka={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};oa&&(ka[".cm-line"].caretColor="transparent !important");const is=o.Wl.highest(Nn.theme(ka)),so=o.Py.define({map(l,e){return l==null?null:e.mapPos(l)}}),$o=o.QQ.define({create(){return null},update(l,e){return l!=null&&(l=e.changes.mapPos(l)),e.effects.reduce((t,i)=>i.is(so)?i.value:t,l)}}),Qa=Pe.fromClass(class{constructor(l){this.view=l,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(l){var e;let t=l.state.field($o);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(l.startState.field($o)!=t||l.docChanged||l.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let l=this.view.state.field($o),e=l!=null&&this.view.coordsAtPos(l);if(!e)return null;let t=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-t.left+this.view.scrollDOM.scrollLeft,top:e.top-t.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(l){this.cursor&&(l?(this.cursor.style.left=l.left+"px",this.cursor.style.top=l.top+"px",this.cursor.style.height=l.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(l){this.view.state.field($o)!=l&&this.view.dispatch({effects:so.of(l)})}},{eventHandlers:{dragover(l){this.setDropPos(this.view.posAtCoords({x:l.clientX,y:l.clientY}))},dragleave(l){(l.target==this.view.contentDOM||!this.view.contentDOM.contains(l.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function aa(){return[$o,Qa]}function ga(l,e,t,i,c){e.lastIndex=0;for(let v=l.iterRange(t,i),A=t,W;!v.next().done;A+=v.value.length)if(!v.lineBreak)for(;W=e.exec(v.value);)c(A+W.index,W)}function Ui(l,e){let t=l.visibleRanges;if(t.length==1&&t[0].from==l.viewport.from&&t[0].to==l.viewport.to)return t;let i=[];for(let{from:c,to:v}of t)c=Math.max(l.state.doc.lineAt(c).from,c-e),v=Math.min(l.state.doc.lineAt(v).to,v+e),i.length&&i[i.length-1].to>=c?i[i.length-1].to=v:i.push({from:c,to:v});return i}class ya{constructor(e){const{regexp:t,decoration:i,decorate:c,boundary:v,maxLength:A=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,c)this.addMatch=(W,X,me,ue)=>c(ue,me,me+W[0].length,W,X);else if(typeof i=="function")this.addMatch=(W,X,me,ue)=>{let je=i(W,X,me);je&&ue(me,me+W[0].length,je)};else if(i)this.addMatch=(W,X,me,ue)=>ue(me,me+W[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=v,this.maxLength=A}createDeco(e){let t=new o.f_,i=t.add.bind(t);for(let{from:c,to:v}of Ui(e,this.maxLength))ga(e.state.doc,this.regexp,c,v,(A,W)=>this.addMatch(W,e,A,i));return t.finish()}updateDeco(e,t){let i=1e9,c=-1;return e.docChanged&&e.changes.iterChanges((v,A,W,X)=>{X>e.view.viewport.from&&W<e.view.viewport.to&&(i=Math.min(W,i),c=Math.max(X,c))}),e.viewportChanged||c-i>1e3?this.createDeco(e.view):c>-1?this.updateRange(e.view,t.map(e.changes),i,c):t}updateRange(e,t,i,c){for(let v of e.visibleRanges){let A=Math.max(v.from,i),W=Math.min(v.to,c);if(W>A){let X=e.state.doc.lineAt(A),me=X.to<W?e.state.doc.lineAt(W):X,ue=Math.max(v.from,X.from),je=Math.min(v.to,me.to);if(this.boundary){for(;A>X.from;A--)if(this.boundary.test(X.text[A-1-X.from])){ue=A;break}for(;W<me.to;W++)if(this.boundary.test(me.text[W-me.from])){je=W;break}}let ct=[],vt,Ft=(Ot,Bt,Qt)=>ct.push(Qt.range(Ot,Bt));if(X==me)for(this.regexp.lastIndex=ue-X.from;(vt=this.regexp.exec(X.text))&&vt.index<je-X.from;)this.addMatch(vt,e,vt.index+X.from,Ft);else ga(e.state.doc,this.regexp,ue,je,(Ot,Bt)=>this.addMatch(Bt,e,Ot,Ft));t=t.update({filterFrom:ue,filterTo:je,filter:(Ot,Bt)=>Ot<ue||Bt>je,add:ct})}}return t}}const mo=/x/.unicode!=null?"gu":"g",Xs=new RegExp(`[\0-\b
-\x7F-\x9F\xAD\u061C\u200B\u200E\u200F\u2028\u2029\u202D\u202E\u2066\u2067\u2069\uFEFF\uFFF9-\uFFFC]`,mo),vo={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let la=null;function ms(){var l;if(la==null&&typeof document!="undefined"&&document.body){let e=document.body.style;la=((l=e.tabSize)!==null&&l!==void 0?l:e.MozTabSize)!=null}return la||!1}const ps=o.r$.define({combine(l){let e=(0,o.BO)(l,{render:null,specialChars:Xs,addSpecialChars:null});return(e.replaceTabs=!ms())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,mo)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,mo)),e}});function Ho(l={}){return[ps.of(l),Io()]}let va=null;function Io(){return va||(va=Pe.fromClass(class{constructor(l){this.view=l,this.decorations=Ie.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(l.state.facet(ps)),this.decorations=this.decorator.createDeco(l)}makeDecorator(l){return new ya({regexp:l.specialChars,decoration:(e,t,i)=>{let{doc:c}=t.state,v=(0,o.gm)(e[0],0);if(v==9){let A=c.lineAt(i),W=t.state.tabSize,X=(0,o.IS)(A.text,W,i-A.from);return Ie.replace({widget:new Ma((W-X%W)*this.view.defaultCharacterWidth)})}return this.decorationCache[v]||(this.decorationCache[v]=Ie.replace({widget:new Jo(l,v)}))},boundary:l.replaceTabs?void 0:/[^]/})}update(l){let e=l.state.facet(ps);l.startState.facet(ps)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(l.view)):this.decorations=this.decorator.updateDeco(l,this.decorations)}},{decorations:l=>l.decorations}))}const Yi="\u2022";function Cs(l){return l>=32?Yi:l==10?"\u2424":String.fromCharCode(9216+l)}class Jo extends Rr{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=Cs(this.code),i=e.state.phrase("Control character")+" "+(vo[this.code]||"0x"+this.code.toString(16)),c=this.options.render&&this.options.render(this.code,i,t);if(c)return c;let v=document.createElement("span");return v.textContent=t,v.title=i,v.setAttribute("aria-label",i),v.className="cm-specialChar",v}ignoreEvent(){return!1}}class Ma extends Rr{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}const gs=null;function ba(){return[gs,V.of(l=>{var e;return((e=l.plugin(gs))===null||e===void 0?void 0:e.attrs)||null})]}function Ka(){return za}const As=Ie.line({class:"cm-activeLine"}),za=Pe.fromClass(class{constructor(l){this.decorations=this.getDeco(l)}update(l){(l.docChanged||l.selectionSet)&&(this.decorations=this.getDeco(l.view))}getDeco(l){let e=-1,t=[];for(let i of l.state.selection.ranges){let c=l.lineBlockAt(i.head);c.from>e&&(t.push(As.range(c.from)),e=c.from)}return Ie.set(t)}},{decorations:l=>l.decorations});class Ai extends Rr{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let t=e.firstChild?G(e.firstChild):[];if(!t.length)return null;let i=window.getComputedStyle(e.parentNode),c=te(t[0],i.direction!="rtl"),v=parseInt(i.lineHeight);return c.bottom-c.top>v*1.5?{left:c.left,right:c.right,top:c.top,bottom:c.top+v}:c}ignoreEvent(){return!1}}function ys(l){return Pe.fromClass(class{constructor(e){this.view=e,this.placeholder=Ie.set([Ie.widget({widget:new Ai(l),side:1}).range(0)])}get decorations(){return this.view.state.doc.length?Ie.none:this.placeholder}},{decorations:e=>e.decorations})}const Ps=2e3;function vs(l,e,t){let i=Math.min(e.line,t.line),c=Math.max(e.line,t.line),v=[];if(e.off>Ps||t.off>Ps||e.col<0||t.col<0){let A=Math.min(e.off,t.off),W=Math.max(e.off,t.off);for(let X=i;X<=c;X++){let me=l.doc.line(X);me.length<=W&&v.push(o.jT.range(me.from+A,me.to+W))}}else{let A=Math.min(e.col,t.col),W=Math.max(e.col,t.col);for(let X=i;X<=c;X++){let me=l.doc.line(X),ue=(0,o.Gz)(me.text,A,l.tabSize,!0);if(ue<0)v.push(o.jT.cursor(me.to));else{let je=(0,o.Gz)(me.text,W,l.tabSize);v.push(o.jT.range(me.from+ue,me.from+je))}}}return v}function $a(l,e){let t=l.coordsAtPos(l.viewport.from);return t?Math.round(Math.abs((t.left-e)/l.defaultCharacterWidth)):-1}function Ts(l,e){let t=l.posAtCoords({x:e.clientX,y:e.clientY},!1),i=l.state.doc.lineAt(t),c=t-i.from,v=c>Ps?-1:c==i.length?$a(l,e.clientX):(0,o.IS)(i.text,l.state.tabSize,t-i.from);return{line:i.number,col:v,off:c}}function Bs(l,e){let t=Ts(l,e),i=l.state.selection;return t?{update(c){if(c.docChanged){let v=c.changes.mapPos(c.startState.doc.line(t.line).from),A=c.state.doc.lineAt(v);t={line:A.number,col:t.col,off:Math.min(t.off,A.length)},i=i.map(c.changes)}},get(c,v,A){let W=Ts(l,c);if(!W)return i;let X=vs(l.state,t,W);return X.length?A?o.jT.create(X.concat(i.ranges)):o.jT.create(X):i}}:null}function ua(l){let e=(l==null?void 0:l.eventFilter)||(t=>t.altKey&&t.button==0);return Nn.mouseSelectionStyle.of((t,i)=>e(i)?Bs(t,i):null)}const Ws={Alt:[18,l=>!!l.altKey],Control:[17,l=>!!l.ctrlKey],Shift:[16,l=>!!l.shiftKey],Meta:[91,l=>!!l.metaKey]},Qs={style:"cursor: crosshair"};function Ia(l={}){let[e,t]=Ws[l.key||"Alt"],i=Pe.fromClass(class{constructor(c){this.view=c,this.isDown=!1}set(c){this.isDown!=c&&(this.isDown=c,this.view.update([]))}},{eventHandlers:{keydown(c){this.set(c.keyCode==e||t(c))},keyup(c){(c.keyCode==e||!t(c))&&this.set(!1)},mousemove(c){this.set(t(c))}}});return[i,Nn.contentAttributes.of(c=>{var v;return!((v=c.plugin(i))===null||v===void 0)&&v.isDown?Qs:null})]}const Ro="-10000px";class Go{constructor(e,t,i){this.facet=t,this.createTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(c=>c),this.tooltipViews=this.tooltips.map(i)}update(e){var t;let i=e.state.facet(this.facet),c=i.filter(A=>A);if(i===this.input){for(let A of this.tooltipViews)A.update&&A.update(e);return!1}let v=[];for(let A=0;A<c.length;A++){let W=c[A],X=-1;if(W){for(let me=0;me<this.tooltips.length;me++){let ue=this.tooltips[me];ue&&ue.create==W.create&&(X=me)}if(X<0)v[A]=this.createTooltipView(W);else{let me=v[A]=this.tooltipViews[X];me.update&&me.update(e)}}}for(let A of this.tooltipViews)v.indexOf(A)<0&&(A.dom.remove(),(t=A.destroy)===null||t===void 0||t.call(A));return this.input=i,this.tooltips=c,this.tooltipViews=v,!0}}function _s(l={}){return Zs.of(l)}function Ra(l){let{win:e}=l;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const Zs=o.r$.define({combine:l=>{var e,t,i;return{position:Ue.ios?"absolute":((e=l.find(c=>c.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=l.find(c=>c.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((i=l.find(c=>c.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||Ra}}}),Ds=new WeakMap,C=Pe.fromClass(class{constructor(l){this.view=l,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let e=l.state.facet(Zs);this.position=e.position,this.parent=e.parent,this.classes=l.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new Go(l,we,t=>this.createTooltip(t)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),l.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let l of this.manager.tooltipViews)this.intersectionObserver.observe(l.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(l){l.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(l);e&&this.observeIntersection();let t=e||l.geometryChanged,i=l.state.facet(Zs);if(i.position!=this.position){this.position=i.position;for(let c of this.manager.tooltipViews)c.dom.style.position=this.position;t=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let c of this.manager.tooltipViews)this.container.appendChild(c.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(l){let e=l.create(this.view);if(e.dom.classList.add("cm-tooltip"),l.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=Ro,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var l,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let t of this.manager.tooltipViews)t.dom.remove(),(l=t.destroy)===null||l===void 0||l.call(t);(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let l=this.view.dom.getBoundingClientRect();return{editor:l,parent:this.parent?this.container.getBoundingClientRect():l,pos:this.manager.tooltips.map((e,t)=>{let i=this.manager.tooltipViews[t];return i.getCoords?i.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(Zs).tooltipSpace(this.view)}}writeMeasure(l){var e;let{editor:t,space:i}=l,c=[];for(let v=0;v<this.manager.tooltips.length;v++){let A=this.manager.tooltips[v],W=this.manager.tooltipViews[v],{dom:X}=W,me=l.pos[v],ue=l.size[v];if(!me||me.bottom<=Math.max(t.top,i.top)||me.top>=Math.min(t.bottom,i.bottom)||me.right<Math.max(t.left,i.left)-.1||me.left>Math.min(t.right,i.right)+.1){X.style.top=Ro;continue}let je=A.arrow?W.dom.querySelector(".cm-tooltip-arrow"):null,ct=je?7:0,vt=ue.right-ue.left,Ft=(e=Ds.get(W))!==null&&e!==void 0?e:ue.bottom-ue.top,Ot=W.offset||ne,Bt=this.view.textDirection==$t.LTR,Qt=ue.width>i.right-i.left?Bt?i.left:i.right-ue.width:Bt?Math.min(me.left-(je?14:0)+Ot.x,i.right-vt):Math.max(i.left,me.left-vt+(je?14:0)-Ot.x),Hr=!!A.above;!A.strictSide&&(Hr?me.top-(ue.bottom-ue.top)-Ot.y<i.top:me.bottom+(ue.bottom-ue.top)+Ot.y>i.bottom)&&Hr==i.bottom-me.bottom>me.top-i.top&&(Hr=!Hr);let Gr=(Hr?me.top-i.top:i.bottom-me.bottom)-ct;if(Gr<Ft&&W.resize!==!1){if(Gr<this.view.defaultLineHeight){X.style.top=Ro;continue}Ds.set(W,Ft),X.style.height=(Ft=Gr)+"px"}else X.style.height&&(X.style.height="");let un=Hr?me.top-Ft-ct-Ot.y:me.bottom+ct+Ot.y,Tn=Qt+vt;if(W.overlap!==!0)for(let Ln of c)Ln.left<Tn&&Ln.right>Qt&&Ln.top<un+Ft&&Ln.bottom>un&&(un=Hr?Ln.top-Ft-2-ct:Ln.bottom+ct+2);this.position=="absolute"?(X.style.top=un-l.parent.top+"px",X.style.left=Qt-l.parent.left+"px"):(X.style.top=un+"px",X.style.left=Qt+"px"),je&&(je.style.left=`${me.left+(Bt?Ot.x:-Ot.x)-(Qt+14-7)}px`),W.overlap!==!0&&c.push({left:Qt,top:un,right:Tn,bottom:un+Ft}),X.classList.toggle("cm-tooltip-above",Hr),X.classList.toggle("cm-tooltip-below",!Hr),W.positioned&&W.positioned(l.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let l of this.manager.tooltipViews)l.dom.style.top=Ro}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),U=Nn.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:`${7}px`,width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:`${7}px solid transparent`,borderRight:`${7}px solid transparent`},".cm-tooltip-above &":{bottom:`-${7}px`,"&:before":{borderTop:`${7}px solid #bbb`},"&:after":{borderTop:`${7}px solid #f5f5f5`,bottom:"1px"}},".cm-tooltip-below &":{top:`-${7}px`,"&:before":{borderBottom:`${7}px solid #bbb`},"&:after":{borderBottom:`${7}px solid #f5f5f5`,top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),ne={x:0,y:0},we=o.r$.define({enables:[C,U]}),_e=o.r$.define();class Fe{static create(e){return new Fe(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Go(e,_e,t=>this.createHostedView(t))}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}}const at=we.compute([_e],l=>{let e=l.facet(_e).filter(t=>t);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.filter(t=>t.end!=null).map(t=>t.end)),create:Fe.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class Rt{constructor(e,t,i,c,v){this.view=e,this.source=t,this.field=i,this.setHover=c,this.hoverTime=v,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,t=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(t==null)return;let i=this.view.coordsAtPos(t);if(i==null||e.y<i.top||e.y>i.bottom||e.x<i.left-this.view.defaultCharacterWidth||e.x>i.right+this.view.defaultCharacterWidth)return;let c=this.view.bidiSpans(this.view.state.doc.lineAt(t)).find(W=>W.from<=t&&W.to>=t),v=c&&c.dir==$t.RTL?-1:1,A=this.source(this.view,t,e.x<i.left?-v:v);if(A!=null&&A.then){let W=this.pending={pos:t};A.then(X=>{this.pending==W&&(this.pending=null,X&&this.view.dispatch({effects:this.setHover.of(X)}))},X=>mn(this.view.state,X,"hover tooltip"))}else A&&this.view.dispatch({effects:this.setHover.of(A)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let i=this.active;if(i&&!Pt(this.lastMove.target)||this.pending){let{pos:c}=i||this.pending,v=(t=i==null?void 0:i.end)!==null&&t!==void 0?t:c;(c==v?this.view.posAtCoords(this.lastMove)!=c:!ar(this.view,c,v,e.clientX,e.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!Pt(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function Pt(l){for(let e=l;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function ar(l,e,t,i,c,v){let A=document.createRange(),W=l.domAtPos(e),X=l.domAtPos(t);A.setEnd(X.node,X.offset),A.setStart(W.node,W.offset);let me=A.getClientRects();A.detach();for(let ue=0;ue<me.length;ue++){let je=me[ue];if(Math.max(je.top-c,c-je.bottom,je.left-i,i-je.right)<=v)return!0}return!1}function vr(l,e={}){let t=o.Py.define(),i=o.QQ.define({create(){return null},update(c,v){if(c&&(e.hideOnChange&&(v.docChanged||v.selection)||e.hideOn&&e.hideOn(v,c)))return null;if(c&&v.docChanged){let A=v.changes.mapPos(c.pos,-1,o.gc.TrackDel);if(A==null)return null;let W=Object.assign(Object.create(null),c);W.pos=A,c.end!=null&&(W.end=v.changes.mapPos(c.end)),c=W}for(let A of v.effects)A.is(t)&&(c=A.value),A.is(xn)&&(c=null);return c},provide:c=>_e.from(c)});return[i,Pe.define(c=>new Rt(c,l,i,t,e.hoverTime||300)),at]}function Ar(l,e){let t=l.plugin(C);if(!t)return null;let i=t.manager.tooltips.indexOf(e);return i<0?null:t.manager.tooltipViews[i]}function Wr(l){return l.facet(_e).some(e=>e)}const xn=o.Py.define(),Un=null;function $n(l){var e;(e=l.plugin(C))===null||e===void 0||e.maybeMeasure()}const Pn=o.r$.define({combine(l){let e,t;for(let i of l)e=e||i.topContainer,t=t||i.bottomContainer;return{topContainer:e,bottomContainer:t}}});function di(l){return l?[Pn.of(l)]:[]}function Si(l,e){let t=l.plugin(wo),i=t?t.specs.indexOf(e):-1;return i>-1?t.panels[i]:null}const wo=Pe.fromClass(class{constructor(l){this.input=l.state.facet(Vn),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(l));let e=l.state.facet(Pn);this.top=new Vi(l,!0,e.topContainer),this.bottom=new Vi(l,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(l){let e=l.state.facet(Pn);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Vi(l.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Vi(l.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=l.state.facet(Vn);if(t!=this.input){let i=t.filter(X=>X),c=[],v=[],A=[],W=[];for(let X of i){let me=this.specs.indexOf(X),ue;me<0?(ue=X(l.view),W.push(ue)):(ue=this.panels[me],ue.update&&ue.update(l)),c.push(ue),(ue.top?v:A).push(ue)}this.specs=i,this.panels=c,this.top.sync(v),this.bottom.sync(A);for(let X of W)X.dom.classList.add("cm-panel"),X.mount&&X.mount()}else for(let i of this.panels)i.update&&i.update(l)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:l=>Nn.scrollMargins.of(e=>{let t=e.plugin(l);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class Vi{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=Oo(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=Oo(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Oo(l){let e=l.nextSibling;return l.remove(),e}const Vn=o.r$.define({enables:wo});class Ei extends o.uU{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Ei.prototype.elementClass="",Ei.prototype.toDOM=void 0,Ei.prototype.mapMode=o.gc.TrackBefore,Ei.prototype.startSide=Ei.prototype.endSide=-1,Ei.prototype.point=!0;const os=o.r$.define(),Fa={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>o.Xs.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},On=o.r$.define();function qs(l){return[Ha(),On.of(Object.assign(Object.assign({},Fa),l))]}const ss=o.r$.define({combine:l=>l.some(e=>e)});function Ha(l){let e=[ol];return l&&l.fixed===!1&&e.push(ss.of(!0)),e}const ol=Pe.fromClass(class{constructor(l){this.view=l,this.prevViewport=l.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=l.state.facet(On).map(e=>new po(l,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!l.state.facet(ss),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),l.scrollDOM.insertBefore(this.dom,l.contentDOM)}update(l){if(this.updateGutters(l)){let e=this.prevViewport,t=l.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}l.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(ss)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=l.view.viewport}syncGutters(l){let e=this.dom.nextSibling;l&&this.dom.remove();let t=o.Xs.iter(this.view.state.facet(os),this.view.viewport.from),i=[],c=this.gutters.map(v=>new ja(v,this.view.viewport,-this.view.documentPadding.top));for(let v of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(v.type)){let A=!0;for(let W of v.type)if(W.type==fr.Text&&A){Sa(t,i,W.from);for(let X of c)X.line(this.view,W,i);A=!1}else if(W.widget)for(let X of c)X.widget(this.view,W)}else if(v.type==fr.Text){Sa(t,i,v.from);for(let A of c)A.line(this.view,v,i)}for(let v of c)v.finish();l&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(l){let e=l.startState.facet(On),t=l.state.facet(On),i=l.docChanged||l.heightChanged||l.viewportChanged||!o.Xs.eq(l.startState.facet(os),l.state.facet(os),l.view.viewport.from,l.view.viewport.to);if(e==t)for(let c of this.gutters)c.update(l)&&(i=!0);else{i=!0;let c=[];for(let v of t){let A=e.indexOf(v);A<0?c.push(new po(this.view,v)):(this.gutters[A].update(l),c.push(this.gutters[A]))}for(let v of this.gutters)v.dom.remove(),c.indexOf(v)<0&&v.destroy();for(let v of c)this.dom.appendChild(v.dom);this.gutters=c}return i}destroy(){for(let l of this.gutters)l.destroy();this.dom.remove()}},{provide:l=>Nn.scrollMargins.of(e=>{let t=e.plugin(l);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==$t.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}})});function as(l){return Array.isArray(l)?l:[l]}function Sa(l,e,t){for(;l.value&&l.from<=t;)l.from==t&&e.push(l.value),l.next()}class ja{constructor(e,t,i){this.gutter=e,this.height=i,this.i=0,this.cursor=o.Xs.iter(e.markers,t.from)}addElement(e,t,i){let{gutter:c}=this,v=t.top-this.height;if(this.i==c.elements.length){let A=new Qr(e,t.height,v,i);c.elements.push(A),c.dom.appendChild(A.dom)}else c.elements[this.i].update(e,t.height,v,i);this.height=t.bottom,this.i++}line(e,t,i){let c=[];Sa(this.cursor,c,t.from),i.length&&(c=c.concat(i));let v=this.gutter.config.lineMarker(e,t,c);v&&c.unshift(v);let A=this.gutter;c.length==0&&!A.config.renderEmptyElements||this.addElement(e,t,c)}widget(e,t){let i=this.gutter.config.widgetMarker(e,t.widget,t);i&&this.addElement(e,t,[i])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class po{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,c=>{let v=c.target,A;if(v!=this.dom&&this.dom.contains(v)){for(;v.parentNode!=this.dom;)v=v.parentNode;let X=v.getBoundingClientRect();A=(X.top+X.bottom)/2}else A=c.clientY;let W=e.lineBlockAtHeight(A-e.documentTop);t.domEventHandlers[i](e,W,c)&&c.preventDefault()});this.markers=as(t.markers(e)),t.initialSpacer&&(this.spacer=new Qr(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=as(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let c=this.config.updateSpacer(this.spacer.markers[0],e);c!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[c])}let i=e.view.viewport;return!o.Xs.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class Qr{constructor(e,t,i,c){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,c)}update(e,t,i,c){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),Na(this.markers,c)||this.setMarkers(e,c)}setMarkers(e,t){let i="cm-gutterElement",c=this.dom.firstChild;for(let v=0,A=0;;){let W=A,X=v<t.length?t[v++]:null,me=!1;if(X){let ue=X.elementClass;ue&&(i+=" "+ue);for(let je=A;je<this.markers.length;je++)if(this.markers[je].compare(X)){W=je,me=!0;break}}else W=this.markers.length;for(;A<W;){let ue=this.markers[A++];if(ue.toDOM){ue.destroy(c);let je=c.nextSibling;c.remove(),c=je}}if(!X)break;X.toDOM&&(me?c=c.nextSibling:this.dom.insertBefore(X.toDOM(e),c)),me&&A++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function Na(l,e){if(l.length!=e.length)return!1;for(let t=0;t<l.length;t++)if(!l[t].compare(e[t]))return!1;return!0}const qa=o.r$.define(),Xi=o.r$.define({combine(l){return(0,o.BO)(l,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let c in t){let v=i[c],A=t[c];i[c]=v?(W,X,me)=>v(W,X,me)||A(W,X,me):A}return i}})}});class el extends Ei{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function La(l,e){return l.state.facet(Xi).formatNumber(e,l.state)}const s=On.compute([Xi],l=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(qa)},lineMarker(e,t,i){return i.some(c=>c.toDOM)?null:new el(La(e,e.state.doc.lineAt(t.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(Xi)!=e.state.facet(Xi),initialSpacer(e){return new el(La(e,x(e.state.doc.lines)))},updateSpacer(e,t){let i=La(t.view,x(t.view.state.doc.lines));return i==e.number?e:new el(i)},domEventHandlers:l.facet(Xi).domEventHandlers}));function h(l={}){return[Xi.of(l),Ha(),s]}function x(l){let e=9;for(;e<l;)e=e*10+9;return e}const g=new class extends Ei{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},L=os.compute(["selection"],l=>{let e=[],t=-1;for(let i of l.selection.ranges){let c=l.doc.lineAt(i.head).from;c>t&&(t=c,e.push(g.range(c)))}return o.Xs.of(e)});function he(){return L}const qe=new Map;function tt(l){let e=qe.get(l);return e||qe.set(l,e=Ie.mark({attributes:l==="	"?{class:"cm-highlightTab"}:{class:"cm-highlightSpace","data-display":l.replace(/ /g,"\xB7")}})),e}function ut(l){return Pe.define(e=>({decorations:l.createDeco(e),update(t){this.decorations=l.updateDeco(t,this.decorations)}}),{decorations:e=>e.decorations})}const Et=ut(new ya({regexp:/\t| +/g,decoration:l=>tt(l[0]),boundary:/\S/}));function At(){return Et}const Mt=ut(new ya({regexp:/\s+$/g,decoration:Ie.mark({class:"cm-trailingSpace"}),boundary:/\S/}));function er(){return Mt}const ir={HeightMap:qn,HeightOracle:no,MeasuredHeights:qo,QueryType:En,ChangedRange:wt,computeOrder:kn,moveVisually:qt}},21649:function(Te,b,a){"use strict";a.d(b,{Jq:function(){return N},Lj:function(){return R},_b:function(){return Ge},i9:function(){return st},md:function(){return O},mp:function(){return ee},vj:function(){return J}});const o=1024;let m=0;class I{constructor(K,Z){this.from=K,this.to=Z}}class O{constructor(K={}){this.id=m++,this.perNode=!!K.perNode,this.deserialize=K.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(K){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof K!="function"&&(K=N.match(K)),Z=>{let Q=K(Z);return Q===void 0?null:[this,Q]}}}O.closedBy=new O({deserialize:Ze=>Ze.split(" ")}),O.openedBy=new O({deserialize:Ze=>Ze.split(" ")}),O.group=new O({deserialize:Ze=>Ze.split(" ")}),O.contextHash=new O({perNode:!0}),O.lookAhead=new O({perNode:!0}),O.mounted=new O({perNode:!0});class _{constructor(K,Z,Q){this.tree=K,this.overlay=Z,this.parser=Q}}const D=Object.create(null);class N{constructor(K,Z,Q,ge=0){this.name=K,this.props=Z,this.id=Q,this.flags=ge}static define(K){let Z=K.props&&K.props.length?Object.create(null):D,Q=(K.top?1:0)|(K.skipped?2:0)|(K.error?4:0)|(K.name==null?8:0),ge=new N(K.name||"",Z,K.id,Q);if(K.props){for(let De of K.props)if(Array.isArray(De)||(De=De(ge)),De){if(De[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");Z[De[0].id]=De[1]}}return ge}prop(K){return this.props[K.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(K){if(typeof K=="string"){if(this.name==K)return!0;let Z=this.prop(O.group);return Z?Z.indexOf(K)>-1:!1}return this.id==K}static match(K){let Z=Object.create(null);for(let Q in K)for(let ge of Q.split(" "))Z[ge]=K[Q];return Q=>{for(let ge=Q.prop(O.group),De=-1;De<(ge?ge.length:0);De++){let Qe=Z[De<0?Q.name:ge[De]];if(Qe)return Qe}}}}N.none=new N("",Object.create(null),0,8);class R{constructor(K){this.types=K;for(let Z=0;Z<K.length;Z++)if(K[Z].id!=Z)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...K){let Z=[];for(let Q of this.types){let ge=null;for(let De of K){let Qe=De(Q);Qe&&(ge||(ge=Object.assign({},Q.props)),ge[Qe[0].id]=Qe[1])}Z.push(ge?new N(Q.name,ge,Q.id,Q.flags):Q)}return new R(Z)}}const $=new WeakMap,z=new WeakMap;var J;(function(Ze){Ze[Ze.ExcludeBuffers=1]="ExcludeBuffers",Ze[Ze.IncludeAnonymous=2]="IncludeAnonymous",Ze[Ze.IgnoreMounts=4]="IgnoreMounts",Ze[Ze.IgnoreOverlays=8]="IgnoreOverlays"})(J||(J={}));class ee{constructor(K,Z,Q,ge,De){if(this.type=K,this.children=Z,this.positions=Q,this.length=ge,this.props=null,De&&De.length){this.props=Object.create(null);for(let[Qe,Ue]of De)this.props[typeof Qe=="number"?Qe:Qe.id]=Ue}}toString(){let K=this.prop(O.mounted);if(K&&!K.overlay)return K.tree.toString();let Z="";for(let Q of this.children){let ge=Q.toString();ge&&(Z&&(Z+=","),Z+=ge)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(Z.length?"("+Z+")":""):Z}cursor(K=0){return new M(this.topNode,K)}cursorAt(K,Z=0,Q=0){let ge=$.get(this)||this.topNode,De=new M(ge);return De.moveTo(K,Z),$.set(this,De._tree),De}get topNode(){return new Se(this,0,0,null)}resolve(K,Z=0){let Q=G($.get(this)||this.topNode,K,Z,!1);return $.set(this,Q),Q}resolveInner(K,Z=0){let Q=G(z.get(this)||this.topNode,K,Z,!0);return z.set(this,Q),Q}iterate(K){let{enter:Z,leave:Q,from:ge=0,to:De=this.length}=K;for(let Qe=this.cursor((K.mode||0)|J.IncludeAnonymous);;){let Ue=!1;if(Qe.from<=De&&Qe.to>=ge&&(Qe.type.isAnonymous||Z(Qe)!==!1)){if(Qe.firstChild())continue;Ue=!0}for(;Ue&&Q&&!Qe.type.isAnonymous&&Q(Qe),!Qe.nextSibling();){if(!Qe.parent())return;Ue=!0}}}prop(K){return K.perNode?this.props?this.props[K.id]:void 0:this.type.prop(K)}get propValues(){let K=[];if(this.props)for(let Z in this.props)K.push([+Z,this.props[Z]]);return K}balance(K={}){return this.children.length<=8?this:Xe(N.none,this.children,this.positions,0,this.children.length,0,this.length,(Z,Q,ge)=>new ee(this.type,Z,Q,ge,this.propValues),K.makeTree||((Z,Q,ge)=>new ee(N.none,Z,Q,ge)))}static build(K){return Le(K)}}ee.empty=new ee(N.none,[],[],0);class re{constructor(K,Z){this.buffer=K,this.index=Z}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new re(this.buffer,this.index)}}class oe{constructor(K,Z,Q){this.buffer=K,this.length=Z,this.set=Q}get type(){return N.none}toString(){let K=[];for(let Z=0;Z<this.buffer.length;)K.push(this.childString(Z)),Z=this.buffer[Z+3];return K.join(",")}childString(K){let Z=this.buffer[K],Q=this.buffer[K+3],ge=this.set.types[Z],De=ge.name;if(/\W/.test(De)&&!ge.isError&&(De=JSON.stringify(De)),K+=4,Q==K)return De;let Qe=[];for(;K<Q;)Qe.push(this.childString(K)),K=this.buffer[K+3];return De+"("+Qe.join(",")+")"}findChild(K,Z,Q,ge,De){let{buffer:Qe}=this,Ue=-1;for(let Lt=K;Lt!=Z&&!(ye(De,ge,Qe[Lt+1],Qe[Lt+2])&&(Ue=Lt,Q>0));Lt=Qe[Lt+3]);return Ue}slice(K,Z,Q){let ge=this.buffer,De=new Uint16Array(Z-K),Qe=0;for(let Ue=K,Lt=0;Ue<Z;){De[Lt++]=ge[Ue++],De[Lt++]=ge[Ue++]-Q;let tr=De[Lt++]=ge[Ue++]-Q;De[Lt++]=ge[Ue++]-K,Qe=Math.max(Qe,tr)}return new oe(De,Qe,this.set)}}function ye(Ze,K,Z,Q){switch(Ze){case-2:return Z<K;case-1:return Q>=K&&Z<K;case 0:return Z<K&&Q>K;case 1:return Z<=K&&Q>K;case 2:return Q>K;case 4:return!0}}function F(Ze,K){let Z=Ze.childBefore(K);for(;Z;){let Q=Z.lastChild;if(!Q||Q.to!=Z.to)break;Q.type.isError&&Q.from==Q.to?(Ze=Z,Z=Q.prevSibling):Z=Q}return Ze}function G(Ze,K,Z,Q){for(var ge;Ze.from==Ze.to||(Z<1?Ze.from>=K:Ze.from>K)||(Z>-1?Ze.to<=K:Ze.to<K);){let Qe=!Q&&Ze instanceof Se&&Ze.index<0?null:Ze.parent;if(!Qe)return Ze;Ze=Qe}let De=Q?0:J.IgnoreOverlays;if(Q)for(let Qe=Ze,Ue=Qe.parent;Ue;Qe=Ue,Ue=Qe.parent)Qe instanceof Se&&Qe.index<0&&((ge=Ue.enter(K,Z,De))===null||ge===void 0?void 0:ge.from)!=Qe.from&&(Ze=Ue);for(;;){let Qe=Ze.enter(K,Z,De);if(!Qe)return Ze;Ze=Qe}}class Se{constructor(K,Z,Q,ge){this._tree=K,this.from=Z,this.index=Q,this._parent=ge}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(K,Z,Q,ge,De=0){for(let Qe=this;;){for(let{children:Ue,positions:Lt}=Qe._tree,tr=Z>0?Ue.length:-1;K!=tr;K+=Z){let Kt=Ue[K],Yt=Lt[K]+Qe.from;if(ye(ge,Q,Yt,Yt+Kt.length)){if(Kt instanceof oe){if(De&J.ExcludeBuffers)continue;let Ht=Kt.findChild(0,Kt.buffer.length,Z,Q-Yt,ge);if(Ht>-1)return new te(new be(Qe,Kt,K,Yt),null,Ht)}else if(De&J.IncludeAnonymous||!Kt.type.isAnonymous||xe(Kt)){let Ht;if(!(De&J.IgnoreMounts)&&Kt.props&&(Ht=Kt.prop(O.mounted))&&!Ht.overlay)return new Se(Ht.tree,Yt,K,Qe);let rt=new Se(Kt,Yt,K,Qe);return De&J.IncludeAnonymous||!rt.type.isAnonymous?rt:rt.nextChild(Z<0?Kt.children.length-1:0,Z,Q,ge)}}}if(De&J.IncludeAnonymous||!Qe.type.isAnonymous||(Qe.index>=0?K=Qe.index+Z:K=Z<0?-1:Qe._parent._tree.children.length,Qe=Qe._parent,!Qe))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(K){return this.nextChild(0,1,K,2)}childBefore(K){return this.nextChild(this._tree.children.length-1,-1,K,-2)}enter(K,Z,Q=0){let ge;if(!(Q&J.IgnoreOverlays)&&(ge=this._tree.prop(O.mounted))&&ge.overlay){let De=K-this.from;for(let{from:Qe,to:Ue}of ge.overlay)if((Z>0?Qe<=De:Qe<De)&&(Z<0?Ue>=De:Ue>De))return new Se(ge.tree,ge.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,K,Z,Q)}nextSignificantParent(){let K=this;for(;K.type.isAnonymous&&K._parent;)K=K._parent;return K}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(K=0){return new M(this,K)}get tree(){return this._tree}toTree(){return this._tree}resolve(K,Z=0){return G(this,K,Z,!1)}resolveInner(K,Z=0){return G(this,K,Z,!0)}enterUnfinishedNodesBefore(K){return F(this,K)}getChild(K,Z=null,Q=null){let ge=se(this,K,Z,Q);return ge.length?ge[0]:null}getChildren(K,Z=null,Q=null){return se(this,K,Z,Q)}toString(){return this._tree.toString()}get node(){return this}matchContext(K){return fe(this,K)}}function se(Ze,K,Z,Q){let ge=Ze.cursor(),De=[];if(!ge.firstChild())return De;if(Z!=null){for(;!ge.type.is(Z);)if(!ge.nextSibling())return De}for(;;){if(Q!=null&&ge.type.is(Q))return De;if(ge.type.is(K)&&De.push(ge.node),!ge.nextSibling())return Q==null?De:[]}}function fe(Ze,K,Z=K.length-1){for(let Q=Ze.parent;Z>=0;Q=Q.parent){if(!Q)return!1;if(!Q.type.isAnonymous){if(K[Z]&&K[Z]!=Q.name)return!1;Z--}}return!0}class be{constructor(K,Z,Q,ge){this.parent=K,this.buffer=Z,this.index=Q,this.start=ge}}class te{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(K,Z,Q){this.context=K,this._parent=Z,this.index=Q,this.type=K.buffer.set.types[K.buffer.buffer[Q]]}child(K,Z,Q){let{buffer:ge}=this.context,De=ge.findChild(this.index+4,ge.buffer[this.index+3],K,Z-this.context.start,Q);return De<0?null:new te(this.context,this,De)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(K){return this.child(1,K,2)}childBefore(K){return this.child(-1,K,-2)}enter(K,Z,Q=0){if(Q&J.ExcludeBuffers)return null;let{buffer:ge}=this.context,De=ge.findChild(this.index+4,ge.buffer[this.index+3],Z>0?1:-1,K-this.context.start,Z);return De<0?null:new te(this.context,this,De)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(K){return this._parent?null:this.context.parent.nextChild(this.context.index+K,K,0,4)}get nextSibling(){let{buffer:K}=this.context,Z=K.buffer[this.index+3];return Z<(this._parent?K.buffer[this._parent.index+3]:K.buffer.length)?new te(this.context,this._parent,Z):this.externalSibling(1)}get prevSibling(){let{buffer:K}=this.context,Z=this._parent?this._parent.index+4:0;return this.index==Z?this.externalSibling(-1):new te(this.context,this._parent,K.findChild(Z,this.index,-1,0,4))}cursor(K=0){return new M(this,K)}get tree(){return null}toTree(){let K=[],Z=[],{buffer:Q}=this.context,ge=this.index+4,De=Q.buffer[this.index+3];if(De>ge){let Qe=Q.buffer[this.index+1];K.push(Q.slice(ge,De,Qe)),Z.push(0)}return new ee(this.type,K,Z,this.to-this.from)}resolve(K,Z=0){return G(this,K,Z,!1)}resolveInner(K,Z=0){return G(this,K,Z,!0)}enterUnfinishedNodesBefore(K){return F(this,K)}toString(){return this.context.buffer.childString(this.index)}getChild(K,Z=null,Q=null){let ge=se(this,K,Z,Q);return ge.length?ge[0]:null}getChildren(K,Z=null,Q=null){return se(this,K,Z,Q)}get node(){return this}matchContext(K){return fe(this,K)}}class M{get name(){return this.type.name}constructor(K,Z=0){if(this.mode=Z,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,K instanceof Se)this.yieldNode(K);else{this._tree=K.context.parent,this.buffer=K.context;for(let Q=K._parent;Q;Q=Q._parent)this.stack.unshift(Q.index);this.bufferNode=K,this.yieldBuf(K.index)}}yieldNode(K){return K?(this._tree=K,this.type=K.type,this.from=K.from,this.to=K.to,!0):!1}yieldBuf(K,Z){this.index=K;let{start:Q,buffer:ge}=this.buffer;return this.type=Z||ge.set.types[ge.buffer[K]],this.from=Q+ge.buffer[K+1],this.to=Q+ge.buffer[K+2],!0}yield(K){return K?K instanceof Se?(this.buffer=null,this.yieldNode(K)):(this.buffer=K.context,this.yieldBuf(K.index,K.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(K,Z,Q){if(!this.buffer)return this.yield(this._tree.nextChild(K<0?this._tree._tree.children.length-1:0,K,Z,Q,this.mode));let{buffer:ge}=this.buffer,De=ge.findChild(this.index+4,ge.buffer[this.index+3],K,Z-this.buffer.start,Q);return De<0?!1:(this.stack.push(this.index),this.yieldBuf(De))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(K){return this.enterChild(1,K,2)}childBefore(K){return this.enterChild(-1,K,-2)}enter(K,Z,Q=this.mode){return this.buffer?Q&J.ExcludeBuffers?!1:this.enterChild(1,K,Z):this.yield(this._tree.enter(K,Z,Q))}parent(){if(!this.buffer)return this.yieldNode(this.mode&J.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let K=this.mode&J.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(K)}sibling(K){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+K,K,0,4,this.mode)):!1;let{buffer:Z}=this.buffer,Q=this.stack.length-1;if(K<0){let ge=Q<0?0:this.stack[Q]+4;if(this.index!=ge)return this.yieldBuf(Z.findChild(ge,this.index,-1,0,4))}else{let ge=Z.buffer[this.index+3];if(ge<(Q<0?Z.buffer.length:Z.buffer[this.stack[Q]+3]))return this.yieldBuf(ge)}return Q<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+K,K,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(K){let Z,Q,{buffer:ge}=this;if(ge){if(K>0){if(this.index<ge.buffer.buffer.length)return!1}else for(let De=0;De<this.index;De++)if(ge.buffer.buffer[De+3]<this.index)return!1;({index:Z,parent:Q}=ge)}else({index:Z,_parent:Q}=this._tree);for(;Q;{index:Z,_parent:Q}=Q)if(Z>-1)for(let De=Z+K,Qe=K<0?-1:Q._tree.children.length;De!=Qe;De+=K){let Ue=Q._tree.children[De];if(this.mode&J.IncludeAnonymous||Ue instanceof oe||!Ue.type.isAnonymous||xe(Ue))return!1}return!0}move(K,Z){if(Z&&this.enterChild(K,0,4))return!0;for(;;){if(this.sibling(K))return!0;if(this.atLastNode(K)||!this.parent())return!1}}next(K=!0){return this.move(1,K)}prev(K=!0){return this.move(-1,K)}moveTo(K,Z=0){for(;(this.from==this.to||(Z<1?this.from>=K:this.from>K)||(Z>-1?this.to<=K:this.to<K))&&this.parent(););for(;this.enterChild(1,K,Z););return this}get node(){if(!this.buffer)return this._tree;let K=this.bufferNode,Z=null,Q=0;if(K&&K.context==this.buffer){e:for(let ge=this.index,De=this.stack.length;De>=0;){for(let Qe=K;Qe;Qe=Qe._parent)if(Qe.index==ge){if(ge==this.index)return Qe;Z=Qe,Q=De+1;break e}ge=this.stack[--De]}}for(let ge=Q;ge<this.stack.length;ge++)Z=new te(this.buffer,Z,this.stack[ge]);return this.bufferNode=new te(this.buffer,Z,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(K,Z){for(let Q=0;;){let ge=!1;if(this.type.isAnonymous||K(this)!==!1){if(this.firstChild()){Q++;continue}this.type.isAnonymous||(ge=!0)}for(;ge&&Z&&Z(this),ge=this.type.isAnonymous,!this.nextSibling();){if(!Q)return;this.parent(),Q--,ge=!0}}}matchContext(K){if(!this.buffer)return fe(this.node,K);let{buffer:Z}=this.buffer,{types:Q}=Z.set;for(let ge=K.length-1,De=this.stack.length-1;ge>=0;De--){if(De<0)return fe(this.node,K,ge);let Qe=Q[Z.buffer[this.stack[De]]];if(!Qe.isAnonymous){if(K[ge]&&K[ge]!=Qe.name)return!1;ge--}}return!0}}function xe(Ze){return Ze.children.some(K=>K instanceof oe||!K.type.isAnonymous||xe(K))}function Le(Ze){var K;let{buffer:Z,nodeSet:Q,maxBufferLength:ge=o,reused:De=[],minRepeatType:Qe=Q.types.length}=Ze,Ue=Array.isArray(Z)?new re(Z,Z.length):Z,Lt=Q.types,tr=0,Kt=0;function Yt(Nt,Lr,Er,yr,Zr){let{id:Vr,start:Rr,end:fr,size:Ie}=Ue,Xt=Kt;for(;Ie<0;)if(Ue.next(),Ie==-1){let wr=De[Vr];Er.push(wr),yr.push(Rr-Nt);return}else if(Ie==-3){tr=Vr;return}else if(Ie==-4){Kt=Vr;return}else throw new RangeError(`Unrecognized record size: ${Ie}`);let sr=Lt[Vr],ur,Fr,jr=Rr-Nt;if(fr-Rr<=ge&&(Fr=Vt(Ue.pos-Lr,Zr))){let wr=new Uint16Array(Fr.size-Fr.skip),Tr=Ue.pos-Fr.size,_r=wr.length;for(;Ue.pos>Tr;)_r=hr(Fr.start,wr,_r);ur=new oe(wr,fr-Fr.start,Q),jr=Fr.start-Nt}else{let wr=Ue.pos-Ie;Ue.next();let Tr=[],_r=[],$r=Vr>=Qe?Vr:-1,en=0,hn=fr;for(;Ue.pos>wr;)$r>=0&&Ue.id==$r&&Ue.size>=0?(Ue.end<=hn-ge&&(rt(Tr,_r,Rr,en,Ue.end,hn,$r,Xt),en=Tr.length,hn=Ue.end),Ue.next()):Yt(Rr,wr,Tr,_r,$r);if($r>=0&&en>0&&en<Tr.length&&rt(Tr,_r,Rr,en,Rr,hn,$r,Xt),Tr.reverse(),_r.reverse(),$r>-1&&en>0){let Nr=Ht(sr);ur=Xe(sr,Tr,_r,0,Tr.length,0,fr-Rr,Nr,Nr)}else ur=Ct(sr,Tr,_r,fr-Rr,Xt-fr)}Er.push(ur),yr.push(jr)}function Ht(Nt){return(Lr,Er,yr)=>{let Zr=0,Vr=Lr.length-1,Rr,fr;if(Vr>=0&&(Rr=Lr[Vr])instanceof ee){if(!Vr&&Rr.type==Nt&&Rr.length==yr)return Rr;(fr=Rr.prop(O.lookAhead))&&(Zr=Er[Vr]+Rr.length+fr)}return Ct(Nt,Lr,Er,yr,Zr)}}function rt(Nt,Lr,Er,yr,Zr,Vr,Rr,fr){let Ie=[],Xt=[];for(;Nt.length>yr;)Ie.push(Nt.pop()),Xt.push(Lr.pop()+Er-Zr);Nt.push(Ct(Q.types[Rr],Ie,Xt,Vr-Zr,fr-Vr)),Lr.push(Zr-Er)}function Ct(Nt,Lr,Er,yr,Zr=0,Vr){if(tr){let Rr=[O.contextHash,tr];Vr=Vr?[Rr].concat(Vr):[Rr]}if(Zr>25){let Rr=[O.lookAhead,Zr];Vr=Vr?[Rr].concat(Vr):[Rr]}return new ee(Nt,Lr,Er,yr,Vr)}function Vt(Nt,Lr){let Er=Ue.fork(),yr=0,Zr=0,Vr=0,Rr=Er.end-ge,fr={size:0,start:0,skip:0};e:for(let Ie=Er.pos-Nt;Er.pos>Ie;){let Xt=Er.size;if(Er.id==Lr&&Xt>=0){fr.size=yr,fr.start=Zr,fr.skip=Vr,Vr+=4,yr+=4,Er.next();continue}let sr=Er.pos-Xt;if(Xt<0||sr<Ie||Er.start<Rr)break;let ur=Er.id>=Qe?4:0,Fr=Er.start;for(Er.next();Er.pos>sr;){if(Er.size<0)if(Er.size==-3)ur+=4;else break e;else Er.id>=Qe&&(ur+=4);Er.next()}Zr=Fr,yr+=Xt,Vr+=ur}return(Lr<0||yr==Nt)&&(fr.size=yr,fr.start=Zr,fr.skip=Vr),fr.size>4?fr:void 0}function hr(Nt,Lr,Er){let{id:yr,start:Zr,end:Vr,size:Rr}=Ue;if(Ue.next(),Rr>=0&&yr<Qe){let fr=Er;if(Rr>4){let Ie=Ue.pos-(Rr-4);for(;Ue.pos>Ie;)Er=hr(Nt,Lr,Er)}Lr[--Er]=fr,Lr[--Er]=Vr-Nt,Lr[--Er]=Zr-Nt,Lr[--Er]=yr}else Rr==-3?tr=yr:Rr==-4&&(Kt=yr);return Er}let xr=[],Sr=[];for(;Ue.pos>0;)Yt(Ze.start||0,Ze.bufferStart||0,xr,Sr,-1);let cr=(K=Ze.length)!==null&&K!==void 0?K:xr.length?Sr[0]+xr[0].length:0;return new ee(Lt[Ze.topID],xr.reverse(),Sr.reverse(),cr)}const Ce=new WeakMap;function Ke(Ze,K){if(!Ze.isAnonymous||K instanceof oe||K.type!=Ze)return 1;let Z=Ce.get(K);if(Z==null){Z=1;for(let Q of K.children){if(Q.type!=Ze||!(Q instanceof ee)){Z=1;break}Z+=Ke(Ze,Q)}Ce.set(K,Z)}return Z}function Xe(Ze,K,Z,Q,ge,De,Qe,Ue,Lt){let tr=0;for(let Ct=Q;Ct<ge;Ct++)tr+=Ke(Ze,K[Ct]);let Kt=Math.ceil(tr*1.5/8),Yt=[],Ht=[];function rt(Ct,Vt,hr,xr,Sr){for(let cr=hr;cr<xr;){let Nt=cr,Lr=Vt[cr],Er=Ke(Ze,Ct[cr]);for(cr++;cr<xr;cr++){let yr=Ke(Ze,Ct[cr]);if(Er+yr>=Kt)break;Er+=yr}if(cr==Nt+1){if(Er>Kt){let yr=Ct[Nt];rt(yr.children,yr.positions,0,yr.children.length,Vt[Nt]+Sr);continue}Yt.push(Ct[Nt])}else{let yr=Vt[cr-1]+Ct[cr-1].length-Lr;Yt.push(Xe(Ze,Ct,Vt,Nt,cr,Lr,yr,null,Lt))}Ht.push(Lr+Sr-De)}}return rt(K,Z,Q,ge,0),(Ue||Lt)(Yt,Ht,Qe)}class dt{constructor(){this.map=new WeakMap}setBuffer(K,Z,Q){let ge=this.map.get(K);ge||this.map.set(K,ge=new Map),ge.set(Z,Q)}getBuffer(K,Z){let Q=this.map.get(K);return Q&&Q.get(Z)}set(K,Z){K instanceof te?this.setBuffer(K.context.buffer,K.index,Z):K instanceof Se&&this.map.set(K.tree,Z)}get(K){return K instanceof te?this.getBuffer(K.context.buffer,K.index):K instanceof Se?this.map.get(K.tree):void 0}cursorSet(K,Z){K.buffer?this.setBuffer(K.buffer.buffer,K.index,Z):this.map.set(K.tree,Z)}cursorGet(K){return K.buffer?this.getBuffer(K.buffer.buffer,K.index):this.map.get(K.tree)}}class st{constructor(K,Z,Q,ge,De=!1,Qe=!1){this.from=K,this.to=Z,this.tree=Q,this.offset=ge,this.open=(De?1:0)|(Qe?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(K,Z=[],Q=!1){let ge=[new st(0,K.length,K,0,!1,Q)];for(let De of Z)De.to>K.length&&ge.push(De);return ge}static applyChanges(K,Z,Q=128){if(!Z.length)return K;let ge=[],De=1,Qe=K.length?K[0]:null;for(let Ue=0,Lt=0,tr=0;;Ue++){let Kt=Ue<Z.length?Z[Ue]:null,Yt=Kt?Kt.fromA:1e9;if(Yt-Lt>=Q)for(;Qe&&Qe.from<Yt;){let Ht=Qe;if(Lt>=Ht.from||Yt<=Ht.to||tr){let rt=Math.max(Ht.from,Lt)-tr,Ct=Math.min(Ht.to,Yt)-tr;Ht=rt>=Ct?null:new st(rt,Ct,Ht.tree,Ht.offset+tr,Ue>0,!!Kt)}if(Ht&&ge.push(Ht),Qe.to>Yt)break;Qe=De<K.length?K[De++]:null}if(!Kt)break;Lt=Kt.toA,tr=Kt.toA-Kt.toB}return ge}}class Ge{startParse(K,Z,Q){return typeof K=="string"&&(K=new _t(K)),Q=Q?Q.length?Q.map(ge=>new I(ge.from,ge.to)):[new I(0,0)]:[new I(0,K.length)],this.createParse(K,Z||[],Q)}parse(K,Z,Q){let ge=this.startParse(K,Z,Q);for(;;){let De=ge.advance();if(De)return De}}}class _t{constructor(K){this.string=K}get length(){return this.string.length}chunk(K){return this.string.slice(K)}get lineChunks(){return!1}read(K,Z){return this.string.slice(K,Z)}}function or(Ze){return(K,Z,Q,ge)=>new Re(K,Ze,Z,Q,ge)}class St{constructor(K,Z,Q,ge,De){this.parser=K,this.parse=Z,this.overlay=Q,this.target=ge,this.ranges=De}}class xt{constructor(K,Z,Q,ge,De,Qe,Ue){this.parser=K,this.predicate=Z,this.mounts=Q,this.index=ge,this.start=De,this.target=Qe,this.prev=Ue,this.depth=0,this.ranges=[]}}const mt=new O({perNode:!0});class Re{constructor(K,Z,Q,ge,De){this.nest=Z,this.input=Q,this.fragments=ge,this.ranges=De,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=K}advance(){if(this.baseParse){let Q=this.baseParse.advance();if(!Q)return null;if(this.baseParse=null,this.baseTree=Q,this.startInner(),this.stoppedAt!=null)for(let ge of this.inner)ge.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let Q=this.baseTree;return this.stoppedAt!=null&&(Q=new ee(Q.type,Q.children,Q.positions,Q.length,Q.propValues.concat([[mt,this.stoppedAt]]))),Q}let K=this.inner[this.innerDone],Z=K.parse.advance();if(Z){this.innerDone++;let Q=Object.assign(Object.create(null),K.target.props);Q[O.mounted.id]=new _(Z,K.overlay,K.parser),K.target.props=Q}return null}get parsedPos(){if(this.baseParse)return 0;let K=this.input.length;for(let Z=this.innerDone;Z<this.inner.length;Z++)this.inner[Z].ranges[0].from<K&&(K=Math.min(K,this.inner[Z].parse.parsedPos));return K}stopAt(K){if(this.stoppedAt=K,this.baseParse)this.baseParse.stopAt(K);else for(let Z=this.innerDone;Z<this.inner.length;Z++)this.inner[Z].parse.stopAt(K)}startInner(){let K=new lt(this.fragments),Z=null,Q=null,ge=new M(new Se(this.baseTree,this.ranges[0].from,0,null),J.IncludeAnonymous|J.IgnoreMounts);e:for(let De,Qe;this.stoppedAt==null||ge.from<this.stoppedAt;){let Ue=!0,Lt;if(K.hasNode(ge)){if(Z){let tr=Z.mounts.find(Kt=>Kt.frag.from<=ge.from&&Kt.frag.to>=ge.to&&Kt.mount.overlay);if(tr)for(let Kt of tr.mount.overlay){let Yt=Kt.from+tr.pos,Ht=Kt.to+tr.pos;Yt>=ge.from&&Ht<=ge.to&&!Z.ranges.some(rt=>rt.from<Ht&&rt.to>Yt)&&Z.ranges.push({from:Yt,to:Ht})}}Ue=!1}else if(Q&&(Qe=yt(Q.ranges,ge.from,ge.to)))Ue=Qe!=2;else if(!ge.type.isAnonymous&&ge.from<ge.to&&(De=this.nest(ge,this.input))){ge.tree||de(ge);let tr=K.findMounts(ge.from,De.parser);if(typeof De.overlay=="function")Z=new xt(De.parser,De.overlay,tr,this.inner.length,ge.from,ge.tree,Z);else{let Kt=Dt(this.ranges,De.overlay||[new I(ge.from,ge.to)]);Kt.length&&this.inner.push(new St(De.parser,De.parser.startParse(this.input,Pr(tr,Kt),Kt),De.overlay?De.overlay.map(Yt=>new I(Yt.from-ge.from,Yt.to-ge.from)):null,ge.tree,Kt)),De.overlay?Kt.length&&(Q={ranges:Kt,depth:0,prev:Q}):Ue=!1}}else Z&&(Lt=Z.predicate(ge))&&(Lt===!0&&(Lt=new I(ge.from,ge.to)),Lt.from<Lt.to&&Z.ranges.push(Lt));if(Ue&&ge.firstChild())Z&&Z.depth++,Q&&Q.depth++;else for(;!ge.nextSibling();){if(!ge.parent())break e;if(Z&&!--Z.depth){let tr=Dt(this.ranges,Z.ranges);tr.length&&this.inner.splice(Z.index,0,new St(Z.parser,Z.parser.startParse(this.input,Pr(Z.mounts,tr),tr),Z.ranges.map(Kt=>new I(Kt.from-Z.start,Kt.to-Z.start)),Z.target,tr)),Z=Z.prev}Q&&!--Q.depth&&(Q=Q.prev)}}}}function yt(Ze,K,Z){for(let Q of Ze){if(Q.from>=Z)break;if(Q.to>K)return Q.from<=K&&Q.to>=Z?2:1}return 0}function ot(Ze,K,Z,Q,ge,De){if(K<Z){let Qe=Ze.buffer[K+1];Q.push(Ze.slice(K,Z,Qe)),ge.push(Qe-De)}}function de(Ze){let{node:K}=Ze,Z=0;do Ze.parent(),Z++;while(!Ze.tree);let Q=0,ge=Ze.tree,De=0;for(;De=ge.positions[Q]+Ze.from,!(De<=K.from&&De+ge.children[Q].length>=K.to);Q++);let Qe=ge.children[Q],Ue=Qe.buffer;function Lt(tr,Kt,Yt,Ht,rt){let Ct=tr;for(;Ue[Ct+2]+De<=K.from;)Ct=Ue[Ct+3];let Vt=[],hr=[];ot(Qe,tr,Ct,Vt,hr,Ht);let xr=Ue[Ct+1],Sr=Ue[Ct+2],cr=xr+De==K.from&&Sr+De==K.to&&Ue[Ct]==K.type.id;return Vt.push(cr?K.toTree():Lt(Ct+4,Ue[Ct+3],Qe.set.types[Ue[Ct]],xr,Sr-xr)),hr.push(xr-Ht),ot(Qe,Ue[Ct+3],Kt,Vt,hr,Ht),new ee(Yt,Vt,hr,rt)}ge.children[Q]=Lt(0,Ue.length,N.none,0,Qe.length);for(let tr=0;tr<=Z;tr++)Ze.childAfter(K.from)}class $e{constructor(K,Z){this.offset=Z,this.done=!1,this.cursor=K.cursor(J.IncludeAnonymous|J.IgnoreMounts)}moveTo(K){let{cursor:Z}=this,Q=K-this.offset;for(;!this.done&&Z.from<Q;)Z.to>=K&&Z.enter(Q,1,J.IgnoreOverlays|J.ExcludeBuffers)||Z.next(!1)||(this.done=!0)}hasNode(K){if(this.moveTo(K.from),!this.done&&this.cursor.from+this.offset==K.from&&this.cursor.tree)for(let Z=this.cursor.tree;;){if(Z==K.tree)return!0;if(Z.children.length&&Z.positions[0]==0&&Z.children[0]instanceof ee)Z=Z.children[0];else break}return!1}}class lt{constructor(K){var Z;if(this.fragments=K,this.curTo=0,this.fragI=0,K.length){let Q=this.curFrag=K[0];this.curTo=(Z=Q.tree.prop(mt))!==null&&Z!==void 0?Z:Q.to,this.inner=new $e(Q.tree,-Q.offset)}else this.curFrag=this.inner=null}hasNode(K){for(;this.curFrag&&K.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=K.from&&this.curTo>=K.to&&this.inner.hasNode(K)}nextFrag(){var K;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let Z=this.curFrag=this.fragments[this.fragI];this.curTo=(K=Z.tree.prop(mt))!==null&&K!==void 0?K:Z.to,this.inner=new $e(Z.tree,-Z.offset)}}findMounts(K,Z){var Q;let ge=[];if(this.inner){this.inner.cursor.moveTo(K,1);for(let De=this.inner.cursor.node;De;De=De.parent){let Qe=(Q=De.tree)===null||Q===void 0?void 0:Q.prop(O.mounted);if(Qe&&Qe.parser==Z)for(let Ue=this.fragI;Ue<this.fragments.length;Ue++){let Lt=this.fragments[Ue];if(Lt.from>=De.to)break;Lt.tree==this.curFrag.tree&&ge.push({frag:Lt,pos:De.from-Lt.offset,mount:Qe})}}}return ge}}function Dt(Ze,K){let Z=null,Q=K;for(let ge=1,De=0;ge<Ze.length;ge++){let Qe=Ze[ge-1].to,Ue=Ze[ge].from;for(;De<Q.length;De++){let Lt=Q[De];if(Lt.from>=Ue)break;Lt.to<=Qe||(Z||(Q=Z=K.slice()),Lt.from<Qe?(Z[De]=new I(Lt.from,Qe),Lt.to>Ue&&Z.splice(De+1,0,new I(Ue,Lt.to))):Lt.to>Ue?Z[De--]=new I(Ue,Lt.to):Z.splice(De--,1))}}return Q}function Gt(Ze,K,Z,Q){let ge=0,De=0,Qe=!1,Ue=!1,Lt=-1e9,tr=[];for(;;){let Kt=ge==Ze.length?1e9:Qe?Ze[ge].to:Ze[ge].from,Yt=De==K.length?1e9:Ue?K[De].to:K[De].from;if(Qe!=Ue){let Ht=Math.max(Lt,Z),rt=Math.min(Kt,Yt,Q);Ht<rt&&tr.push(new I(Ht,rt))}if(Lt=Math.min(Kt,Yt),Lt==1e9)break;Kt==Lt&&(Qe?(Qe=!1,ge++):Qe=!0),Yt==Lt&&(Ue?(Ue=!1,De++):Ue=!0)}return tr}function Pr(Ze,K){let Z=[];for(let{pos:Q,mount:ge,frag:De}of Ze){let Qe=Q+(ge.overlay?ge.overlay[0].from:0),Ue=Qe+ge.tree.length,Lt=Math.max(De.from,Qe),tr=Math.min(De.to,Ue);if(ge.overlay){let Kt=ge.overlay.map(Ht=>new I(Ht.from+Q,Ht.to+Q)),Yt=Gt(K,Kt,Lt,tr);for(let Ht=0,rt=Lt;;Ht++){let Ct=Ht==Yt.length,Vt=Ct?tr:Yt[Ht].from;if(Vt>rt&&Z.push(new st(rt,Vt,ge.tree,-Qe,De.from>=rt||De.openStart,De.to<=Vt||De.openEnd)),Ct)break;rt=Yt[Ht].to}}else Z.push(new st(Lt,tr,ge.tree,-Qe,De.from>=Qe||De.openStart,De.to<=Ue||De.openEnd))}return Z}},86253:function(Te,b,a){"use strict";a.d(b,{Gv:function(){return R},QR:function(){return J},bW:function(){return re},pJ:function(){return Ge}});var o=a(21649);let m=0;class I{constructor(St,xt,mt){this.set=St,this.base=xt,this.modified=mt,this.id=m++}static define(St){if(St!=null&&St.base)throw new Error("Can not derive from a modified tag");let xt=new I([],null,[]);if(xt.set.push(xt),St)for(let mt of St.set)xt.set.push(mt);return xt}static defineModifier(){let St=new _;return xt=>xt.modified.indexOf(St)>-1?xt:_.get(xt.base||xt,xt.modified.concat(St).sort((mt,Re)=>mt.id-Re.id))}}let O=0;class _{constructor(){this.instances=[],this.id=O++}static get(St,xt){if(!xt.length)return St;let mt=xt[0].instances.find(de=>de.base==St&&D(xt,de.modified));if(mt)return mt;let Re=[],yt=new I(Re,St,xt);for(let de of xt)de.instances.push(yt);let ot=N(xt);for(let de of St.set)if(!de.modified.length)for(let $e of ot)Re.push(_.get(de,$e));return yt}}function D(or,St){return or.length==St.length&&or.every((xt,mt)=>xt==St[mt])}function N(or){let St=[[]];for(let xt=0;xt<or.length;xt++)for(let mt=0,Re=St.length;mt<Re;mt++)St.push(St[mt].concat(or[xt]));return St.sort((xt,mt)=>mt.length-xt.length)}function R(or){let St=Object.create(null);for(let xt in or){let mt=or[xt];Array.isArray(mt)||(mt=[mt]);for(let Re of xt.split(" "))if(Re){let yt=[],ot=2,de=Re;for(let Gt=0;;){if(de=="..."&&Gt>0&&Gt+3==Re.length){ot=1;break}let Pr=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(de);if(!Pr)throw new RangeError("Invalid path: "+Re);if(yt.push(Pr[0]=="*"?"":Pr[0][0]=='"'?JSON.parse(Pr[0]):Pr[0]),Gt+=Pr[0].length,Gt==Re.length)break;let Ze=Re[Gt++];if(Gt==Re.length&&Ze=="!"){ot=0;break}if(Ze!="/")throw new RangeError("Invalid path: "+Re);de=Re.slice(Gt)}let $e=yt.length-1,lt=yt[$e];if(!lt)throw new RangeError("Invalid path: "+Re);let Dt=new z(mt,ot,$e>0?yt.slice(0,$e):null);St[lt]=Dt.sort(St[lt])}}return $.add(St)}const $=new o.md;class z{constructor(St,xt,mt,Re){this.tags=St,this.mode=xt,this.context=mt,this.next=Re}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(St){return!St||St.depth<this.depth?(this.next=St,this):(St.next=this.sort(St.next),St)}get depth(){return this.context?this.context.length:0}}z.empty=new z([],2,null);function J(or,St){let xt=Object.create(null);for(let yt of or)if(!Array.isArray(yt.tag))xt[yt.tag.id]=yt.class;else for(let ot of yt.tag)xt[ot.id]=yt.class;let{scope:mt,all:Re=null}=St||{};return{style:yt=>{let ot=Re;for(let de of yt)for(let $e of de.set){let lt=xt[$e.id];if(lt){ot=ot?ot+" "+lt:lt;break}}return ot},scope:mt}}function ee(or,St){let xt=null;for(let mt of or){let Re=mt.style(St);Re&&(xt=xt?xt+" "+Re:Re)}return xt}function re(or,St,xt,mt=0,Re=or.length){let yt=new oe(mt,Array.isArray(St)?St:[St],xt);yt.highlightRange(or.cursor(),mt,Re,"",yt.highlighters),yt.flush(Re)}class oe{constructor(St,xt,mt){this.at=St,this.highlighters=xt,this.span=mt,this.class=""}startSpan(St,xt){xt!=this.class&&(this.flush(St),St>this.at&&(this.at=St),this.class=xt)}flush(St){St>this.at&&this.class&&this.span(this.at,St,this.class)}highlightRange(St,xt,mt,Re,yt){let{type:ot,from:de,to:$e}=St;if(de>=mt||$e<=xt)return;ot.isTop&&(yt=this.highlighters.filter(Ze=>!Ze.scope||Ze.scope(ot)));let lt=Re,Dt=ye(St)||z.empty,Gt=ee(yt,Dt.tags);if(Gt&&(lt&&(lt+=" "),lt+=Gt,Dt.mode==1&&(Re+=(Re?" ":"")+Gt)),this.startSpan(St.from,lt),Dt.opaque)return;let Pr=St.tree&&St.tree.prop(o.md.mounted);if(Pr&&Pr.overlay){let Ze=St.node.enter(Pr.overlay[0].from+de,1),K=this.highlighters.filter(Q=>!Q.scope||Q.scope(Pr.tree.type)),Z=St.firstChild();for(let Q=0,ge=de;;Q++){let De=Q<Pr.overlay.length?Pr.overlay[Q]:null,Qe=De?De.from+de:$e,Ue=Math.max(xt,ge),Lt=Math.min(mt,Qe);if(Ue<Lt&&Z)for(;St.from<Lt&&(this.highlightRange(St,Ue,Lt,Re,yt),this.startSpan(Math.min(Lt,St.to),lt),!(St.to>=Qe||!St.nextSibling())););if(!De||Qe>mt)break;ge=De.to+de,ge>xt&&(this.highlightRange(Ze.cursor(),Math.max(xt,De.from+de),Math.min(mt,ge),Re,K),this.startSpan(ge,lt))}Z&&St.parent()}else if(St.firstChild()){do if(!(St.to<=xt)){if(St.from>=mt)break;this.highlightRange(St,xt,mt,Re,yt),this.startSpan(Math.min(mt,St.to),lt)}while(St.nextSibling());St.parent()}}}function ye(or){let St=or.type.prop($);for(;St&&St.context&&!or.matchContext(St.context);)St=St.next;return St||null}const F=I.define,G=F(),Se=F(),se=F(Se),fe=F(Se),be=F(),te=F(be),M=F(be),xe=F(),Le=F(xe),Ce=F(),Ke=F(),Xe=F(),dt=F(Xe),st=F(),Ge={comment:G,lineComment:F(G),blockComment:F(G),docComment:F(G),name:Se,variableName:F(Se),typeName:se,tagName:F(se),propertyName:fe,attributeName:F(fe),className:F(Se),labelName:F(Se),namespace:F(Se),macroName:F(Se),literal:be,string:te,docString:F(te),character:F(te),attributeValue:F(te),number:M,integer:F(M),float:F(M),bool:F(be),regexp:F(be),escape:F(be),color:F(be),url:F(be),keyword:Ce,self:F(Ce),null:F(Ce),atom:F(Ce),unit:F(Ce),modifier:F(Ce),operatorKeyword:F(Ce),controlKeyword:F(Ce),definitionKeyword:F(Ce),moduleKeyword:F(Ce),operator:Ke,derefOperator:F(Ke),arithmeticOperator:F(Ke),logicOperator:F(Ke),bitwiseOperator:F(Ke),compareOperator:F(Ke),updateOperator:F(Ke),definitionOperator:F(Ke),typeOperator:F(Ke),controlOperator:F(Ke),punctuation:Xe,separator:F(Xe),bracket:dt,angleBracket:F(dt),squareBracket:F(dt),paren:F(dt),brace:F(dt),content:xe,heading:Le,heading1:F(Le),heading2:F(Le),heading3:F(Le),heading4:F(Le),heading5:F(Le),heading6:F(Le),contentSeparator:F(xe),list:F(xe),quote:F(xe),emphasis:F(xe),strong:F(xe),link:F(xe),monospace:F(xe),strikethrough:F(xe),inserted:F(),deleted:F(),changed:F(),invalid:F(),meta:st,documentMeta:F(st),annotation:F(st),processingInstruction:F(st),definition:I.defineModifier(),constant:I.defineModifier(),function:I.defineModifier(),standard:I.defineModifier(),local:I.defineModifier(),special:I.defineModifier()},_t=J([{tag:Ge.link,class:"tok-link"},{tag:Ge.heading,class:"tok-heading"},{tag:Ge.emphasis,class:"tok-emphasis"},{tag:Ge.strong,class:"tok-strong"},{tag:Ge.keyword,class:"tok-keyword"},{tag:Ge.atom,class:"tok-atom"},{tag:Ge.bool,class:"tok-bool"},{tag:Ge.url,class:"tok-url"},{tag:Ge.labelName,class:"tok-labelName"},{tag:Ge.inserted,class:"tok-inserted"},{tag:Ge.deleted,class:"tok-deleted"},{tag:Ge.literal,class:"tok-literal"},{tag:Ge.string,class:"tok-string"},{tag:Ge.number,class:"tok-number"},{tag:[Ge.regexp,Ge.escape,Ge.special(Ge.string)],class:"tok-string2"},{tag:Ge.variableName,class:"tok-variableName"},{tag:Ge.local(Ge.variableName),class:"tok-variableName tok-local"},{tag:Ge.definition(Ge.variableName),class:"tok-variableName tok-definition"},{tag:Ge.special(Ge.variableName),class:"tok-variableName2"},{tag:Ge.definition(Ge.propertyName),class:"tok-propertyName tok-definition"},{tag:Ge.typeName,class:"tok-typeName"},{tag:Ge.namespace,class:"tok-namespace"},{tag:Ge.className,class:"tok-className"},{tag:Ge.macroName,class:"tok-macroName"},{tag:Ge.propertyName,class:"tok-propertyName"},{tag:Ge.operator,class:"tok-operator"},{tag:Ge.comment,class:"tok-comment"},{tag:Ge.meta,class:"tok-meta"},{tag:Ge.invalid,class:"tok-invalid"},{tag:Ge.punctuation,class:"tok-punctuation"}])},24649:function(Te,b,a){"use strict";a.d(b,{Z:function(){return G}});function o(){this.__data__=[],this.size=0}var m=o,I=a(78804);function O(Se,se){for(var fe=Se.length;fe--;)if((0,I.Z)(Se[fe][0],se))return fe;return-1}var _=O,D=Array.prototype,N=D.splice;function R(Se){var se=this.__data__,fe=_(se,Se);if(fe<0)return!1;var be=se.length-1;return fe==be?se.pop():N.call(se,fe,1),--this.size,!0}var $=R;function z(Se){var se=this.__data__,fe=_(se,Se);return fe<0?void 0:se[fe][1]}var J=z;function ee(Se){return _(this.__data__,Se)>-1}var re=ee;function oe(Se,se){var fe=this.__data__,be=_(fe,Se);return be<0?(++this.size,fe.push([Se,se])):fe[be][1]=se,this}var ye=oe;function F(Se){var se=-1,fe=Se==null?0:Se.length;for(this.clear();++se<fe;){var be=Se[se];this.set(be[0],be[1])}}F.prototype.clear=m,F.prototype.delete=$,F.prototype.get=J,F.prototype.has=re,F.prototype.set=ye;var G=F},38896:function(Te,b,a){"use strict";var o=a(95546),m=a(93221),I=(0,o.Z)(m.Z,"Map");b.Z=I},43703:function(Te,b,a){"use strict";a.d(b,{Z:function(){return ot}});var o=a(95546),m=(0,o.Z)(Object,"create"),I=m;function O(){this.__data__=I?I(null):{},this.size=0}var _=O;function D(de){var $e=this.has(de)&&delete this.__data__[de];return this.size-=$e?1:0,$e}var N=D,R="__lodash_hash_undefined__",$=Object.prototype,z=$.hasOwnProperty;function J(de){var $e=this.__data__;if(I){var lt=$e[de];return lt===R?void 0:lt}return z.call($e,de)?$e[de]:void 0}var ee=J,re=Object.prototype,oe=re.hasOwnProperty;function ye(de){var $e=this.__data__;return I?$e[de]!==void 0:oe.call($e,de)}var F=ye,G="__lodash_hash_undefined__";function Se(de,$e){var lt=this.__data__;return this.size+=this.has(de)?0:1,lt[de]=I&&$e===void 0?G:$e,this}var se=Se;function fe(de){var $e=-1,lt=de==null?0:de.length;for(this.clear();++$e<lt;){var Dt=de[$e];this.set(Dt[0],Dt[1])}}fe.prototype.clear=_,fe.prototype.delete=N,fe.prototype.get=ee,fe.prototype.has=F,fe.prototype.set=se;var be=fe,te=a(24649),M=a(38896);function xe(){this.size=0,this.__data__={hash:new be,map:new(M.Z||te.Z),string:new be}}var Le=xe;function Ce(de){var $e=typeof de;return $e=="string"||$e=="number"||$e=="symbol"||$e=="boolean"?de!=="__proto__":de===null}var Ke=Ce;function Xe(de,$e){var lt=de.__data__;return Ke($e)?lt[typeof $e=="string"?"string":"hash"]:lt.map}var dt=Xe;function st(de){var $e=dt(this,de).delete(de);return this.size-=$e?1:0,$e}var Ge=st;function _t(de){return dt(this,de).get(de)}var or=_t;function St(de){return dt(this,de).has(de)}var xt=St;function mt(de,$e){var lt=dt(this,de),Dt=lt.size;return lt.set(de,$e),this.size+=lt.size==Dt?0:1,this}var Re=mt;function yt(de){var $e=-1,lt=de==null?0:de.length;for(this.clear();++$e<lt;){var Dt=de[$e];this.set(Dt[0],Dt[1])}}yt.prototype.clear=Le,yt.prototype.delete=Ge,yt.prototype.get=or,yt.prototype.has=xt,yt.prototype.set=Re;var ot=yt},87459:function(Te,b,a){"use strict";var o=a(95546),m=a(93221),I=(0,o.Z)(m.Z,"Set");b.Z=I},46218:function(Te,b,a){"use strict";a.d(b,{Z:function(){return F}});var o=a(24649);function m(){this.__data__=new o.Z,this.size=0}var I=m;function O(G){var Se=this.__data__,se=Se.delete(G);return this.size=Se.size,se}var _=O;function D(G){return this.__data__.get(G)}var N=D;function R(G){return this.__data__.has(G)}var $=R,z=a(38896),J=a(43703),ee=200;function re(G,Se){var se=this.__data__;if(se instanceof o.Z){var fe=se.__data__;if(!z.Z||fe.length<ee-1)return fe.push([G,Se]),this.size=++se.size,this;se=this.__data__=new J.Z(fe)}return se.set(G,Se),this.size=se.size,this}var oe=re;function ye(G){var Se=this.__data__=new o.Z(G);this.size=Se.size}ye.prototype.clear=I,ye.prototype.delete=_,ye.prototype.get=N,ye.prototype.has=$,ye.prototype.set=oe;var F=ye},187:function(Te,b,a){"use strict";var o=a(93221),m=o.Z.Symbol;b.Z=m},88282:function(Te,b,a){"use strict";var o=a(93221),m=o.Z.Uint8Array;b.Z=m},45423:function(Te,b,a){"use strict";var o=a(19510),m=a(7720),I=a(97885),O=a(74975),_=a(66401),D=a(98127),N=Object.prototype,R=N.hasOwnProperty;function $(z,J){var ee=(0,I.Z)(z),re=!ee&&(0,m.Z)(z),oe=!ee&&!re&&(0,O.Z)(z),ye=!ee&&!re&&!oe&&(0,D.Z)(z),F=ee||re||oe||ye,G=F?(0,o.Z)(z.length,String):[],Se=G.length;for(var se in z)(J||R.call(z,se))&&!(F&&(se=="length"||oe&&(se=="offset"||se=="parent")||ye&&(se=="buffer"||se=="byteLength"||se=="byteOffset")||(0,_.Z)(se,Se)))&&G.push(se);return G}b.Z=$},95598:function(Te,b){"use strict";function a(o,m){for(var I=-1,O=o==null?0:o.length,_=Array(O);++I<O;)_[I]=m(o[I],I,o);return _}b.Z=a},15589:function(Te,b){"use strict";function a(o,m){for(var I=-1,O=m.length,_=o.length;++I<O;)o[_+I]=m[I];return o}b.Z=a},16299:function(Te,b,a){"use strict";var o=a(40905),m=a(78804),I=Object.prototype,O=I.hasOwnProperty;function _(D,N,R){var $=D[N];(!(O.call(D,N)&&(0,m.Z)($,R))||R===void 0&&!(N in D))&&(0,o.Z)(D,N,R)}b.Z=_},40905:function(Te,b,a){"use strict";var o=a(75088);function m(I,O,_){O=="__proto__"&&o.Z?(0,o.Z)(I,O,{configurable:!0,enumerable:!0,value:_,writable:!0}):I[O]=_}b.Z=m},72764:function(Te,b,a){"use strict";a.d(b,{Z:function(){return Bo}});var o=a(46218);function m(qt,pe){for(var j=-1,Y=qt==null?0:qt.length;++j<Y&&pe(qt[j],j,qt)!==!1;);return qt}var I=m,O=a(16299),_=a(82436),D=a(20649);function N(qt,pe){return qt&&(0,_.Z)(pe,(0,D.Z)(pe),qt)}var R=N,$=a(47477);function z(qt,pe){return qt&&(0,_.Z)(pe,(0,$.Z)(pe),qt)}var J=z,ee=a(93221),re=typeof exports=="object"&&exports&&!exports.nodeType&&exports,oe=re&&typeof module=="object"&&module&&!module.nodeType&&module,ye=oe&&oe.exports===re,F=ye?ee.Z.Buffer:void 0,G=F?F.allocUnsafe:void 0;function Se(qt,pe){if(pe)return qt.slice();var j=qt.length,Y=G?G(j):new qt.constructor(j);return qt.copy(Y),Y}var se=Se,fe=a(31162),be=a(46808);function te(qt,pe){return(0,_.Z)(qt,(0,be.Z)(qt),pe)}var M=te,xe=a(98390);function Le(qt,pe){return(0,_.Z)(qt,(0,xe.Z)(qt),pe)}var Ce=Le,Ke=a(37245),Xe=a(9878),dt=a(57210),st=Object.prototype,Ge=st.hasOwnProperty;function _t(qt){var pe=qt.length,j=new qt.constructor(pe);return pe&&typeof qt[0]=="string"&&Ge.call(qt,"index")&&(j.index=qt.index,j.input=qt.input),j}var or=_t,St=a(88282);function xt(qt){var pe=new qt.constructor(qt.byteLength);return new St.Z(pe).set(new St.Z(qt)),pe}var mt=xt;function Re(qt,pe){var j=pe?mt(qt.buffer):qt.buffer;return new qt.constructor(j,qt.byteOffset,qt.byteLength)}var yt=Re,ot=/\w*$/;function de(qt){var pe=new qt.constructor(qt.source,ot.exec(qt));return pe.lastIndex=qt.lastIndex,pe}var $e=de,lt=a(187),Dt=lt.Z?lt.Z.prototype:void 0,Gt=Dt?Dt.valueOf:void 0;function Pr(qt){return Gt?Object(Gt.call(qt)):{}}var Ze=Pr;function K(qt,pe){var j=pe?mt(qt.buffer):qt.buffer;return new qt.constructor(j,qt.byteOffset,qt.length)}var Z=K,Q="[object Boolean]",ge="[object Date]",De="[object Map]",Qe="[object Number]",Ue="[object RegExp]",Lt="[object Set]",tr="[object String]",Kt="[object Symbol]",Yt="[object ArrayBuffer]",Ht="[object DataView]",rt="[object Float32Array]",Ct="[object Float64Array]",Vt="[object Int8Array]",hr="[object Int16Array]",xr="[object Int32Array]",Sr="[object Uint8Array]",cr="[object Uint8ClampedArray]",Nt="[object Uint16Array]",Lr="[object Uint32Array]";function Er(qt,pe,j){var Y=qt.constructor;switch(pe){case Yt:return mt(qt);case Q:case ge:return new Y(+qt);case Ht:return yt(qt,j);case rt:case Ct:case Vt:case hr:case xr:case Sr:case cr:case Nt:case Lr:return Z(qt,j);case De:return new Y;case Qe:case tr:return new Y(qt);case Ue:return $e(qt);case Lt:return new Y;case Kt:return Ze(qt)}}var yr=Er,Zr=a(93122),Vr=Object.create,Rr=function(){function qt(){}return function(pe){if(!(0,Zr.Z)(pe))return{};if(Vr)return Vr(pe);qt.prototype=pe;var j=new qt;return qt.prototype=void 0,j}}(),fr=Rr,Ie=a(29552),Xt=a(15441);function sr(qt){return typeof qt.constructor=="function"&&!(0,Xt.Z)(qt)?fr((0,Ie.Z)(qt)):{}}var ur=sr,Fr=a(97885),jr=a(74975),wr=a(43391),Tr="[object Map]";function _r(qt){return(0,wr.Z)(qt)&&(0,dt.Z)(qt)==Tr}var $r=_r,en=a(93225),hn=a(37755),Nr=hn.Z&&hn.Z.isMap,cn=Nr?(0,en.Z)(Nr):$r,gn=cn,Sn="[object Set]";function yn(qt){return(0,wr.Z)(qt)&&(0,dt.Z)(qt)==Sn}var dn=yn,vn=hn.Z&&hn.Z.isSet,tn=vn?(0,en.Z)(vn):dn,_n=tn,an=1,rn=2,mn=4,Kn="[object Arguments]",hi="[object Array]",Ri="[object Boolean]",Pe="[object Date]",y="[object Error]",T="[object Function]",V="[object GeneratorFunction]",q="[object Map]",Oe="[object Number]",Ee="[object Object]",ze="[object RegExp]",He="[object Set]",wt="[object String]",jt="[object Symbol]",$t="[object WeakMap]",Cr="[object ArrayBuffer]",pr="[object DataView]",Cn="[object Float32Array]",Xn="[object Float64Array]",zn="[object Int8Array]",wi="[object Int16Array]",yi="[object Int32Array]",ji="[object Uint8Array]",us="[object Uint8ClampedArray]",qi="[object Uint16Array]",Hn="[object Uint32Array]",kn={};kn[Kn]=kn[hi]=kn[Cr]=kn[pr]=kn[Ri]=kn[Pe]=kn[Cn]=kn[Xn]=kn[zn]=kn[wi]=kn[yi]=kn[q]=kn[Oe]=kn[Ee]=kn[ze]=kn[He]=kn[wt]=kn[jt]=kn[ji]=kn[us]=kn[qi]=kn[Hn]=!0,kn[y]=kn[T]=kn[$t]=!1;function eo(qt,pe,j,Y,ke,Ne){var nt,ft=pe&an,Ut=pe&rn,Wt=pe&mn;if(j&&(nt=ke?j(qt,Y,ke,Ne):j(qt)),nt!==void 0)return nt;if(!(0,Zr.Z)(qt))return qt;var Br=(0,Fr.Z)(qt);if(Br){if(nt=or(qt),!ft)return(0,fe.Z)(qt,nt)}else{var Kr=(0,dt.Z)(qt),Mn=Kr==T||Kr==V;if((0,jr.Z)(qt))return se(qt,ft);if(Kr==Ee||Kr==Kn||Mn&&!ke){if(nt=Ut||Mn?{}:ur(qt),!ft)return Ut?Ce(qt,J(nt,qt)):M(qt,R(nt,qt))}else{if(!kn[Kr])return ke?qt:{};nt=yr(qt,Kr,ft)}}Ne||(Ne=new o.Z);var Oi=Ne.get(qt);if(Oi)return Oi;Ne.set(qt,nt),_n(qt)?qt.forEach(function(Ti){nt.add(eo(Ti,pe,j,Ti,qt,Ne))}):gn(qt)&&qt.forEach(function(Ti,to){nt.set(to,eo(Ti,pe,j,to,qt,Ne))});var Pi=Wt?Ut?Xe.Z:Ke.Z:Ut?$.Z:D.Z,ai=Br?void 0:Pi(qt);return I(ai||qt,function(Ti,to){ai&&(to=Ti,Ti=qt[to]),(0,O.Z)(nt,to,eo(Ti,pe,j,to,qt,Ne))}),nt}var Bo=eo},53338:function(Te,b,a){"use strict";a.d(b,{Z:function(){return $}});var o=a(15589),m=a(187),I=a(7720),O=a(97885),_=m.Z?m.Z.isConcatSpreadable:void 0;function D(z){return(0,O.Z)(z)||(0,I.Z)(z)||!!(_&&z&&z[_])}var N=D;function R(z,J,ee,re,oe){var ye=-1,F=z.length;for(ee||(ee=N),oe||(oe=[]);++ye<F;){var G=z[ye];J>0&&ee(G)?J>1?R(G,J-1,ee,re,oe):(0,o.Z)(oe,G):re||(oe[oe.length]=G)}return oe}var $=R},89523:function(Te,b,a){"use strict";var o=a(42082),m=a(57969);function I(O,_){_=(0,o.Z)(_,O);for(var D=0,N=_.length;O!=null&&D<N;)O=O[(0,m.Z)(_[D++])];return D&&D==N?O:void 0}b.Z=I},52938:function(Te,b,a){"use strict";var o=a(15589),m=a(97885);function I(O,_,D){var N=_(O);return(0,m.Z)(O)?N:(0,o.Z)(N,D(O))}b.Z=I},99001:function(Te,b,a){"use strict";a.d(b,{Z:function(){return F}});var o=a(187),m=Object.prototype,I=m.hasOwnProperty,O=m.toString,_=o.Z?o.Z.toStringTag:void 0;function D(G){var Se=I.call(G,_),se=G[_];try{G[_]=void 0;var fe=!0}catch{}var be=O.call(G);return fe&&(Se?G[_]=se:delete G[_]),be}var N=D,R=Object.prototype,$=R.toString;function z(G){return $.call(G)}var J=z,ee="[object Null]",re="[object Undefined]",oe=o.Z?o.Z.toStringTag:void 0;function ye(G){return G==null?G===void 0?re:ee:oe&&oe in Object(G)?N(G):J(G)}var F=ye},93917:function(Te,b,a){"use strict";a.d(b,{Z:function(){return R}});var o=a(15441),m=a(76048),I=(0,m.Z)(Object.keys,Object),O=I,_=Object.prototype,D=_.hasOwnProperty;function N($){if(!(0,o.Z)($))return O($);var z=[];for(var J in Object($))D.call($,J)&&J!="constructor"&&z.push(J);return z}var R=N},64187:function(Te,b,a){"use strict";var o=a(16299),m=a(42082),I=a(66401),O=a(93122),_=a(57969);function D(N,R,$,z){if(!(0,O.Z)(N))return N;R=(0,m.Z)(R,N);for(var J=-1,ee=R.length,re=ee-1,oe=N;oe!=null&&++J<ee;){var ye=(0,_.Z)(R[J]),F=$;if(ye==="__proto__"||ye==="constructor"||ye==="prototype")return N;if(J!=re){var G=oe[ye];F=z?z(G,ye,oe):void 0,F===void 0&&(F=(0,O.Z)(G)?G:(0,I.Z)(R[J+1])?[]:{})}(0,o.Z)(oe,ye,F),oe=oe[ye]}return N}b.Z=D},19510:function(Te,b){"use strict";function a(o,m){for(var I=-1,O=Array(o);++I<o;)O[I]=m(I);return O}b.Z=a},93225:function(Te,b){"use strict";function a(o){return function(m){return o(m)}}b.Z=a},56764:function(Te,b,a){"use strict";a.d(b,{Z:function(){return J}});var o=a(42082);function m(ee){var re=ee==null?0:ee.length;return re?ee[re-1]:void 0}var I=m,O=a(89523);function _(ee,re,oe){var ye=-1,F=ee.length;re<0&&(re=-re>F?0:F+re),oe=oe>F?F:oe,oe<0&&(oe+=F),F=re>oe?0:oe-re>>>0,re>>>=0;for(var G=Array(F);++ye<F;)G[ye]=ee[ye+re];return G}var D=_;function N(ee,re){return re.length<2?ee:(0,O.Z)(ee,D(re,0,-1))}var R=N,$=a(57969);function z(ee,re){return re=(0,o.Z)(re,ee),ee=R(ee,re),ee==null||delete ee[(0,$.Z)(I(re))]}var J=z},42082:function(Te,b,a){"use strict";var o=a(97885),m=a(23502),I=a(32540),O=a(33523);function _(D,N){return(0,o.Z)(D)?D:(0,m.Z)(D,N)?[D]:(0,I.Z)((0,O.Z)(D))}b.Z=_},31162:function(Te,b){"use strict";function a(o,m){var I=-1,O=o.length;for(m||(m=Array(O));++I<O;)m[I]=o[I];return m}b.Z=a},82436:function(Te,b,a){"use strict";var o=a(16299),m=a(40905);function I(O,_,D,N){var R=!D;D||(D={});for(var $=-1,z=_.length;++$<z;){var J=_[$],ee=N?N(D[J],O[J],J,D,O):void 0;ee===void 0&&(ee=O[J]),R?(0,m.Z)(D,J,ee):(0,o.Z)(D,J,ee)}return D}b.Z=I},75088:function(Te,b,a){"use strict";var o=a(95546),m=function(){try{var I=(0,o.Z)(Object,"defineProperty");return I({},"",{}),I}catch{}}();b.Z=m},5255:function(Te,b,a){"use strict";a.d(b,{Z:function(){return N}});var o=a(53338);function m(R){var $=R==null?0:R.length;return $?(0,o.Z)(R,1):[]}var I=m,O=a(91130),_=a(19603);function D(R){return(0,_.Z)((0,O.Z)(R,void 0,I),R+"")}var N=D},93854:function(Te,b){"use strict";var a=typeof global=="object"&&global&&global.Object===Object&&global;b.Z=a},37245:function(Te,b,a){"use strict";var o=a(52938),m=a(46808),I=a(20649);function O(_){return(0,o.Z)(_,I.Z,m.Z)}b.Z=O},9878:function(Te,b,a){"use strict";var o=a(52938),m=a(98390),I=a(47477);function O(_){return(0,o.Z)(_,I.Z,m.Z)}b.Z=O},95546:function(Te,b,a){"use strict";a.d(b,{Z:function(){return te}});var o=a(8936),m=a(93221),I=m.Z["__core-js_shared__"],O=I,_=function(){var M=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||"");return M?"Symbol(src)_1."+M:""}();function D(M){return!!_&&_ in M}var N=D,R=a(93122),$=a(19696),z=/[\\^$.*+?()[\]{}|]/g,J=/^\[object .+?Constructor\]$/,ee=Function.prototype,re=Object.prototype,oe=ee.toString,ye=re.hasOwnProperty,F=RegExp("^"+oe.call(ye).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function G(M){if(!(0,R.Z)(M)||N(M))return!1;var xe=(0,o.Z)(M)?F:J;return xe.test((0,$.Z)(M))}var Se=G;function se(M,xe){return M==null?void 0:M[xe]}var fe=se;function be(M,xe){var Le=fe(M,xe);return Se(Le)?Le:void 0}var te=be},29552:function(Te,b,a){"use strict";var o=a(76048),m=(0,o.Z)(Object.getPrototypeOf,Object);b.Z=m},46808:function(Te,b,a){"use strict";a.d(b,{Z:function(){return R}});function o($,z){for(var J=-1,ee=$==null?0:$.length,re=0,oe=[];++J<ee;){var ye=$[J];z(ye,J,$)&&(oe[re++]=ye)}return oe}var m=o,I=a(70813),O=Object.prototype,_=O.propertyIsEnumerable,D=Object.getOwnPropertySymbols,N=D?function($){return $==null?[]:($=Object($),m(D($),function(z){return _.call($,z)}))}:I.Z,R=N},98390:function(Te,b,a){"use strict";var o=a(15589),m=a(29552),I=a(46808),O=a(70813),_=Object.getOwnPropertySymbols,D=_?function(N){for(var R=[];N;)(0,o.Z)(R,(0,I.Z)(N)),N=(0,m.Z)(N);return R}:O.Z;b.Z=D},57210:function(Te,b,a){"use strict";a.d(b,{Z:function(){return Le}});var o=a(95546),m=a(93221),I=(0,o.Z)(m.Z,"DataView"),O=I,_=a(38896),D=(0,o.Z)(m.Z,"Promise"),N=D,R=a(87459),$=(0,o.Z)(m.Z,"WeakMap"),z=$,J=a(99001),ee=a(19696),re="[object Map]",oe="[object Object]",ye="[object Promise]",F="[object Set]",G="[object WeakMap]",Se="[object DataView]",se=(0,ee.Z)(O),fe=(0,ee.Z)(_.Z),be=(0,ee.Z)(N),te=(0,ee.Z)(R.Z),M=(0,ee.Z)(z),xe=J.Z;(O&&xe(new O(new ArrayBuffer(1)))!=Se||_.Z&&xe(new _.Z)!=re||N&&xe(N.resolve())!=ye||R.Z&&xe(new R.Z)!=F||z&&xe(new z)!=G)&&(xe=function(Ce){var Ke=(0,J.Z)(Ce),Xe=Ke==oe?Ce.constructor:void 0,dt=Xe?(0,ee.Z)(Xe):"";if(dt)switch(dt){case se:return Se;case fe:return re;case be:return ye;case te:return F;case M:return G}return Ke});var Le=xe},8693:function(Te,b,a){"use strict";var o=a(42082),m=a(7720),I=a(97885),O=a(66401),_=a(61164),D=a(57969);function N(R,$,z){$=(0,o.Z)($,R);for(var J=-1,ee=$.length,re=!1;++J<ee;){var oe=(0,D.Z)($[J]);if(!(re=R!=null&&z(R,oe)))break;R=R[oe]}return re||++J!=ee?re:(ee=R==null?0:R.length,!!ee&&(0,_.Z)(ee)&&(0,O.Z)(oe,ee)&&((0,I.Z)(R)||(0,m.Z)(R)))}b.Z=N},66401:function(Te,b){"use strict";var a=9007199254740991,o=/^(?:0|[1-9]\d*)$/;function m(I,O){var _=typeof I;return O=O==null?a:O,!!O&&(_=="number"||_!="symbol"&&o.test(I))&&I>-1&&I%1==0&&I<O}b.Z=m},23502:function(Te,b,a){"use strict";var o=a(97885),m=a(22758),I=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O=/^\w*$/;function _(D,N){if((0,o.Z)(D))return!1;var R=typeof D;return R=="number"||R=="symbol"||R=="boolean"||D==null||(0,m.Z)(D)?!0:O.test(D)||!I.test(D)||N!=null&&D in Object(N)}b.Z=_},15441:function(Te,b){"use strict";var a=Object.prototype;function o(m){var I=m&&m.constructor,O=typeof I=="function"&&I.prototype||a;return m===O}b.Z=o},37755:function(Te,b,a){"use strict";var o=a(93854),m=typeof exports=="object"&&exports&&!exports.nodeType&&exports,I=m&&typeof module=="object"&&module&&!module.nodeType&&module,O=I&&I.exports===m,_=O&&o.Z.process,D=function(){try{var N=I&&I.require&&I.require("util").types;return N||_&&_.binding&&_.binding("util")}catch{}}();b.Z=D},76048:function(Te,b){"use strict";function a(o,m){return function(I){return o(m(I))}}b.Z=a},91130:function(Te,b,a){"use strict";a.d(b,{Z:function(){return _}});function o(D,N,R){switch(R.length){case 0:return D.call(N);case 1:return D.call(N,R[0]);case 2:return D.call(N,R[0],R[1]);case 3:return D.call(N,R[0],R[1],R[2])}return D.apply(N,R)}var m=o,I=Math.max;function O(D,N,R){return N=I(N===void 0?D.length-1:N,0),function(){for(var $=arguments,z=-1,J=I($.length-N,0),ee=Array(J);++z<J;)ee[z]=$[N+z];z=-1;for(var re=Array(N+1);++z<N;)re[z]=$[z];return re[N]=R(ee),m(D,this,re)}}var _=O},93221:function(Te,b,a){"use strict";var o=a(93854),m=typeof self=="object"&&self&&self.Object===Object&&self,I=o.Z||m||Function("return this")();b.Z=I},19603:function(Te,b,a){"use strict";a.d(b,{Z:function(){return re}});function o(oe){return function(){return oe}}var m=o,I=a(75088),O=a(89930),_=I.Z?function(oe,ye){return(0,I.Z)(oe,"toString",{configurable:!0,enumerable:!1,value:m(ye),writable:!0})}:O.Z,D=_,N=800,R=16,$=Date.now;function z(oe){var ye=0,F=0;return function(){var G=$(),Se=R-(G-F);if(F=G,Se>0){if(++ye>=N)return arguments[0]}else ye=0;return oe.apply(void 0,arguments)}}var J=z,ee=J(D),re=ee},32540:function(Te,b,a){"use strict";a.d(b,{Z:function(){return J}});var o=a(43703),m="Expected a function";function I(ee,re){if(typeof ee!="function"||re!=null&&typeof re!="function")throw new TypeError(m);var oe=function(){var ye=arguments,F=re?re.apply(this,ye):ye[0],G=oe.cache;if(G.has(F))return G.get(F);var Se=ee.apply(this,ye);return oe.cache=G.set(F,Se)||G,Se};return oe.cache=new(I.Cache||o.Z),oe}I.Cache=o.Z;var O=I,_=500;function D(ee){var re=O(ee,function(ye){return oe.size===_&&oe.clear(),ye}),oe=re.cache;return re}var N=D,R=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$=/\\(\\)?/g,z=N(function(ee){var re=[];return ee.charCodeAt(0)===46&&re.push(""),ee.replace(R,function(oe,ye,F,G){re.push(F?G.replace($,"$1"):ye||oe)}),re}),J=z},57969:function(Te,b,a){"use strict";var o=a(22758),m=1/0;function I(O){if(typeof O=="string"||(0,o.Z)(O))return O;var _=O+"";return _=="0"&&1/O==-m?"-0":_}b.Z=I},19696:function(Te,b){"use strict";var a=Function.prototype,o=a.toString;function m(I){if(I!=null){try{return o.call(I)}catch{}try{return I+""}catch{}}return""}b.Z=m},7921:function(Te,b,a){"use strict";var o=a(72764),m=1,I=4;function O(_){return(0,o.Z)(_,m|I)}b.Z=O},78804:function(Te,b){"use strict";function a(o,m){return o===m||o!==o&&m!==m}b.Z=a},90772:function(Te,b,a){"use strict";var o=a(89523);function m(I,O,_){var D=I==null?void 0:(0,o.Z)(I,O);return D===void 0?_:D}b.Z=m},6279:function(Te,b,a){"use strict";a.d(b,{Z:function(){return N}});var o=Object.prototype,m=o.hasOwnProperty;function I(R,$){return R!=null&&m.call(R,$)}var O=I,_=a(8693);function D(R,$){return R!=null&&(0,_.Z)(R,$,O)}var N=D},12930:function(Te,b,a){"use strict";a.d(b,{Z:function(){return _}});function o(D,N){return D!=null&&N in Object(D)}var m=o,I=a(8693);function O(D,N){return D!=null&&(0,I.Z)(D,N,m)}var _=O},89930:function(Te,b){"use strict";function a(o){return o}b.Z=a},7720:function(Te,b,a){"use strict";a.d(b,{Z:function(){return z}});var o=a(99001),m=a(43391),I="[object Arguments]";function O(J){return(0,m.Z)(J)&&(0,o.Z)(J)==I}var _=O,D=Object.prototype,N=D.hasOwnProperty,R=D.propertyIsEnumerable,$=_(function(){return arguments}())?_:function(J){return(0,m.Z)(J)&&N.call(J,"callee")&&!R.call(J,"callee")},z=$},97885:function(Te,b){"use strict";var a=Array.isArray;b.Z=a},63282:function(Te,b,a){"use strict";var o=a(8936),m=a(61164);function I(O){return O!=null&&(0,m.Z)(O.length)&&!(0,o.Z)(O)}b.Z=I},74975:function(Te,b,a){"use strict";a.d(b,{Z:function(){return z}});var o=a(93221);function m(){return!1}var I=m,O=typeof exports=="object"&&exports&&!exports.nodeType&&exports,_=O&&typeof module=="object"&&module&&!module.nodeType&&module,D=_&&_.exports===O,N=D?o.Z.Buffer:void 0,R=N?N.isBuffer:void 0,$=R||I,z=$},7279:function(Te,b,a){"use strict";var o=a(93917),m=a(57210),I=a(7720),O=a(97885),_=a(63282),D=a(74975),N=a(15441),R=a(98127),$="[object Map]",z="[object Set]",J=Object.prototype,ee=J.hasOwnProperty;function re(oe){if(oe==null)return!0;if((0,_.Z)(oe)&&((0,O.Z)(oe)||typeof oe=="string"||typeof oe.splice=="function"||(0,D.Z)(oe)||(0,R.Z)(oe)||(0,I.Z)(oe)))return!oe.length;var ye=(0,m.Z)(oe);if(ye==$||ye==z)return!oe.size;if((0,N.Z)(oe))return!(0,o.Z)(oe).length;for(var F in oe)if(ee.call(oe,F))return!1;return!0}b.Z=re},8936:function(Te,b,a){"use strict";var o=a(99001),m=a(93122),I="[object AsyncFunction]",O="[object Function]",_="[object GeneratorFunction]",D="[object Proxy]";function N(R){if(!(0,m.Z)(R))return!1;var $=(0,o.Z)(R);return $==O||$==_||$==I||$==D}b.Z=N},61164:function(Te,b){"use strict";var a=9007199254740991;function o(m){return typeof m=="number"&&m>-1&&m%1==0&&m<=a}b.Z=o},93122:function(Te,b){"use strict";function a(o){var m=typeof o;return o!=null&&(m=="object"||m=="function")}b.Z=a},43391:function(Te,b){"use strict";function a(o){return o!=null&&typeof o=="object"}b.Z=a},65255:function(Te,b,a){"use strict";var o=a(99001),m=a(29552),I=a(43391),O="[object Object]",_=Function.prototype,D=Object.prototype,N=_.toString,R=D.hasOwnProperty,$=N.call(Object);function z(J){if(!(0,I.Z)(J)||(0,o.Z)(J)!=O)return!1;var ee=(0,m.Z)(J);if(ee===null)return!0;var re=R.call(ee,"constructor")&&ee.constructor;return typeof re=="function"&&re instanceof re&&N.call(re)==$}b.Z=z},1284:function(Te,b,a){"use strict";var o=a(99001),m=a(97885),I=a(43391),O="[object String]";function _(D){return typeof D=="string"||!(0,m.Z)(D)&&(0,I.Z)(D)&&(0,o.Z)(D)==O}b.Z=_},22758:function(Te,b,a){"use strict";var o=a(99001),m=a(43391),I="[object Symbol]";function O(_){return typeof _=="symbol"||(0,m.Z)(_)&&(0,o.Z)(_)==I}b.Z=O},98127:function(Te,b,a){"use strict";a.d(b,{Z:function(){return xt}});var o=a(99001),m=a(61164),I=a(43391),O="[object Arguments]",_="[object Array]",D="[object Boolean]",N="[object Date]",R="[object Error]",$="[object Function]",z="[object Map]",J="[object Number]",ee="[object Object]",re="[object RegExp]",oe="[object Set]",ye="[object String]",F="[object WeakMap]",G="[object ArrayBuffer]",Se="[object DataView]",se="[object Float32Array]",fe="[object Float64Array]",be="[object Int8Array]",te="[object Int16Array]",M="[object Int32Array]",xe="[object Uint8Array]",Le="[object Uint8ClampedArray]",Ce="[object Uint16Array]",Ke="[object Uint32Array]",Xe={};Xe[se]=Xe[fe]=Xe[be]=Xe[te]=Xe[M]=Xe[xe]=Xe[Le]=Xe[Ce]=Xe[Ke]=!0,Xe[O]=Xe[_]=Xe[G]=Xe[D]=Xe[Se]=Xe[N]=Xe[R]=Xe[$]=Xe[z]=Xe[J]=Xe[ee]=Xe[re]=Xe[oe]=Xe[ye]=Xe[F]=!1;function dt(mt){return(0,I.Z)(mt)&&(0,m.Z)(mt.length)&&!!Xe[(0,o.Z)(mt)]}var st=dt,Ge=a(93225),_t=a(37755),or=_t.Z&&_t.Z.isTypedArray,St=or?(0,Ge.Z)(or):st,xt=St},20649:function(Te,b,a){"use strict";var o=a(45423),m=a(93917),I=a(63282);function O(_){return(0,I.Z)(_)?(0,o.Z)(_):(0,m.Z)(_)}b.Z=O},47477:function(Te,b,a){"use strict";a.d(b,{Z:function(){return ee}});var o=a(45423),m=a(93122),I=a(15441);function O(re){var oe=[];if(re!=null)for(var ye in Object(re))oe.push(ye);return oe}var _=O,D=Object.prototype,N=D.hasOwnProperty;function R(re){if(!(0,m.Z)(re))return _(re);var oe=(0,I.Z)(re),ye=[];for(var F in re)F=="constructor"&&(oe||!N.call(re,F))||ye.push(F);return ye}var $=R,z=a(63282);function J(re){return(0,z.Z)(re)?(0,o.Z)(re,!0):$(re)}var ee=J},39075:function(Te,b,a){"use strict";a.d(b,{Z:function(){return ye}});var o=a(95598),m=a(72764),I=a(56764),O=a(42082),_=a(82436),D=a(65255);function N(F){return(0,D.Z)(F)?void 0:F}var R=N,$=a(5255),z=a(9878),J=1,ee=2,re=4,oe=(0,$.Z)(function(F,G){var Se={};if(F==null)return Se;var se=!1;G=(0,o.Z)(G,function(be){return be=(0,O.Z)(be,F),se||(se=be.length>1),be}),(0,_.Z)(F,(0,z.Z)(F),Se),se&&(Se=(0,m.Z)(Se,J|ee|re,R));for(var fe=G.length;fe--;)(0,I.Z)(Se,G[fe]);return Se}),ye=oe},25513:function(Te,b,a){"use strict";var o=a(64187);function m(I,O,_){return I==null?I:(0,o.Z)(I,O,_)}b.Z=m},70813:function(Te,b){"use strict";function a(){return[]}b.Z=a},55487:function(Te,b,a){"use strict";var o=a(95598),m=a(31162),I=a(97885),O=a(22758),_=a(32540),D=a(57969),N=a(33523);function R($){return(0,I.Z)($)?(0,o.Z)($,D.Z):(0,O.Z)($)?[$]:(0,m.Z)((0,_.Z)((0,N.Z)($)))}b.Z=R},33523:function(Te,b,a){"use strict";a.d(b,{Z:function(){return J}});var o=a(187),m=a(95598),I=a(97885),O=a(22758),_=1/0,D=o.Z?o.Z.prototype:void 0,N=D?D.toString:void 0;function R(ee){if(typeof ee=="string")return ee;if((0,I.Z)(ee))return(0,m.Z)(ee,R)+"";if((0,O.Z)(ee))return N?N.call(ee):"";var re=ee+"";return re=="0"&&1/ee==-_?"-0":re}var $=R;function z(ee){return ee==null?"":$(ee)}var J=z},37164:function(Te,b,a){"use strict";a.d(b,{x0:function(){return O}});let o=_=>crypto.getRandomValues(new Uint8Array(_)),m=(_,D,N)=>{let R=(2<<Math.log(_.length-1)/Math.LN2)-1,$=-~(1.6*R*D/_.length);return(z=D)=>{let J="";for(;;){let ee=N($),re=$;for(;re--;)if(J+=_[ee[re]&R]||"",J.length===z)return J}}},I=(_,D=21)=>m(_,D,o),O=(_=21)=>crypto.getRandomValues(new Uint8Array(_)).reduce((D,N)=>(N&=63,N<36?D+=N.toString(36):N<62?D+=(N-26).toString(36).toUpperCase():N>62?D+="-":D+="_",D),"")},37207:function(Te,b,a){"use strict";a.d(b,{V:function(){return _}});const o="\u037C",m=typeof Symbol=="undefined"?"__"+o:Symbol.for(o),I=typeof Symbol=="undefined"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),O=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:{};class _{constructor($,z){this.rules=[];let{finish:J}=z||{};function ee(oe){return/^@/.test(oe)?[oe]:oe.split(/,\s*/)}function re(oe,ye,F,G){let Se=[],se=/^@(\w+)\b/.exec(oe[0]),fe=se&&se[1]=="keyframes";if(se&&ye==null)return F.push(oe[0]+";");for(let be in ye){let te=ye[be];if(/&/.test(be))re(be.split(/,\s*/).map(M=>oe.map(xe=>M.replace(/&/,xe))).reduce((M,xe)=>M.concat(xe)),te,F);else if(te&&typeof te=="object"){if(!se)throw new RangeError("The value of a property ("+be+") should be a primitive value.");re(ee(be),te,Se,fe)}else te!=null&&Se.push(be.replace(/_.*/,"").replace(/[A-Z]/g,M=>"-"+M.toLowerCase())+": "+te+";")}(Se.length||fe)&&F.push((J&&!se&&!G?oe.map(J):oe).join(", ")+" {"+Se.join(" ")+"}")}for(let oe in $)re(ee(oe),$[oe],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let $=O[m]||1;return O[m]=$+1,o+$.toString(36)}static mount($,z){($[I]||new N($)).mount(Array.isArray(z)?z:[z])}}let D=new Map;class N{constructor($){let z=$.ownerDocument||$,J=z.defaultView;if(!$.head&&$.adoptedStyleSheets&&J.CSSStyleSheet){let ee=D.get(z);if(ee)return $.adoptedStyleSheets=[ee.sheet,...$.adoptedStyleSheets],$[I]=ee;this.sheet=new J.CSSStyleSheet,$.adoptedStyleSheets=[this.sheet,...$.adoptedStyleSheets],D.set(z,this)}else{this.styleTag=z.createElement("style");let ee=$.head||$;ee.insertBefore(this.styleTag,ee.firstChild)}this.modules=[],$[I]=this}mount($){let z=this.sheet,J=0,ee=0;for(let re=0;re<$.length;re++){let oe=$[re],ye=this.modules.indexOf(oe);if(ye<ee&&ye>-1&&(this.modules.splice(ye,1),ee--,ye=-1),ye==-1){if(this.modules.splice(ee++,0,oe),z)for(let F=0;F<oe.rules.length;F++)z.insertRule(oe.rules[F],J++)}else{for(;ee<ye;)J+=this.modules[ee++].rules.length;J+=oe.rules.length,ee++}}if(!z){let re="";for(let oe=0;oe<this.modules.length;oe++)re+=this.modules[oe].getRules()+`
`;this.styleTag.textContent=re}}}},75758:function(Te){"use strict";Te.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},22396:function(Te){"use strict";Te.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}}])});Hu();})();

//# sourceMappingURL=4288.7d445814.chunk.js.map